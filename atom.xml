<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>WiZardWen</title>
  
  <subtitle>Blog</subtitle>
  <link href="http://wzw21.cn/atom.xml" rel="self"/>
  
  <link href="http://wzw21.cn/"/>
  <updated>2022-02-15T08:33:16.521Z</updated>
  <id>http://wzw21.cn/</id>
  
  <author>
    <name>David Wang</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>音乐速度与节拍估计（二）教程阅读笔记</title>
    <link href="http://wzw21.cn/2022/02/14/tempo-tutorial-notes/"/>
    <id>http://wzw21.cn/2022/02/14/tempo-tutorial-notes/</id>
    <published>2022-02-14T15:44:03.000Z</published>
    <updated>2022-02-15T08:33:16.521Z</updated>
    
    <content type="html"><![CDATA[<p>ISMIR 2021 速度、节拍与强拍估计教程阅读笔记</p><p>教程链接： <a href="https://tempobeatdownbeat.github.io/tutorial/intro.html">Tempo, Beat, and Downbeat Estimation — Tempo, Beat and Downbeat Estimation (tempobeatdownbeat.github.io)</a></p><h1 id="annotate"><a class="markdownIt-Anchor" href="#annotate"></a> Annotate</h1><p>自动标注 + 自动修正 + 人工修正</p><h1 id="baseline"><a class="markdownIt-Anchor" href="#baseline"></a> Baseline</h1><p>See <a href="https://wzw21.cn/2022/02/04/tempo-baseline">音乐速度与节拍估计基本方法 | WiZardWen (wzw21.cn)</a></p><h1 id="evaluate"><a class="markdownIt-Anchor" href="#evaluate"></a> Evaluate</h1><h2 id="f-measure"><a class="markdownIt-Anchor" href="#f-measure"></a> F-measure</h2><ul><li>将节拍估计问题视为二分类问题来进行评估</li><li>Typically use a tolerance window of +/- 70ms around each ground truth annotation.</li><li>使用 F-measure 的好处：Catch either: i) natural human variation in tapping and not punish it, or ii) contend with cases like arpeggiated chords where it’s difficult to mark a single beat location.</li><li>计算方式</li></ul><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>P</mi><mi>r</mi><mi>e</mi><mi>c</mi><mi>i</mi><mi>s</mi><mi>i</mi><mi>o</mi><mi>n</mi><mo>=</mo><mfrac><mrow><mi>T</mi><mi>P</mi></mrow><mrow><mi>T</mi><mi>P</mi><mo>+</mo><mi>F</mi><mi>P</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">Precision = \frac {TP} {TP + FP}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">i</span><span class="mord mathdefault">s</span><span class="mord mathdefault">i</span><span class="mord mathdefault">o</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.1296600000000003em;vertical-align:-0.7693300000000001em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.36033em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693300000000001em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>R</mi><mi>e</mi><mi>c</mi><mi>a</mi><mi>l</mi><mi>l</mi><mo>=</mo><mfrac><mrow><mi>T</mi><mi>P</mi></mrow><mrow><mi>T</mi><mi>P</mi><mo>+</mo><mi>F</mi><mi>N</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">Recall = \frac {TP} {TP + FN}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.1296600000000003em;vertical-align:-0.7693300000000001em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.36033em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693300000000001em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>F</mi><mi>m</mi><mi>e</mi><mi>a</mi><mi>s</mi><mi>u</mi><mi>r</mi><mi>e</mi><mo>=</mo><mo stretchy="false">(</mo><mn>1</mn><mo>+</mo><msup><mi>β</mi><mn>2</mn></msup><mo stretchy="false">)</mo><mo>⋅</mo><mfrac><mrow><mi>P</mi><mi>r</mi><mi>e</mi><mi>c</mi><mi>i</mi><mi>s</mi><mi>i</mi><mi>o</mi><mi>n</mi><mo>⋅</mo><mi>R</mi><mi>e</mi><mi>c</mi><mi>a</mi><mi>l</mi><mi>l</mi></mrow><mrow><msup><mi>β</mi><mn>2</mn></msup><mo>⋅</mo><mi>P</mi><mi>r</mi><mi>e</mi><mi>c</mi><mi>i</mi><mi>s</mi><mi>i</mi><mi>o</mi><mi>n</mi><mo>+</mo><mi>R</mi><mi>e</mi><mi>c</mi><mi>a</mi><mi>l</mi><mi>l</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">Fmeasure=(1+\beta ^2)\cdot \frac {Precision\cdot Recall} {\beta^2\cdot Precision + Recall}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="mord mathdefault">m</span><span class="mord mathdefault">e</span><span class="mord mathdefault">a</span><span class="mord mathdefault">s</span><span class="mord mathdefault">u</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">e</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.1141079999999999em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05278em;">β</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:2.25188em;vertical-align:-0.8804400000000001em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.05278em;">β</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.740108em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">i</span><span class="mord mathdefault">s</span><span class="mord mathdefault">i</span><span class="mord mathdefault">o</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">i</span><span class="mord mathdefault">s</span><span class="mord mathdefault">i</span><span class="mord mathdefault">o</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8804400000000001em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><h2 id="cemgils-method"><a class="markdownIt-Anchor" href="#cemgils-method"></a> Cemgil’s method</h2><ul><li>使用高斯分布作为分值来进行评估</li><li>将 F-measure 与 Cemgil 结合使用，F-measure 反映所估计节拍的 metrical level and phase，Cemgil 则反映节拍位置是否正确（更精确）</li></ul><h2 id="continuity-based-method"><a class="markdownIt-Anchor" href="#continuity-based-method"></a> Continuity-based method</h2><ul><li>Consider beat <em>i</em> to be accurate if it falls within the tolerance window and that beat <em>i-1</em> also falls within its respective tolerance window.</li><li>CMLc: “correct” (i.e., annotated) metrical level, with longest single continous segment.</li><li>CMLt: “correct” (i.e., annotated) metrical level, with the total of continous segments.</li><li>AMLc: “allowed” metrical levels, with longest single continous segment.</li><li>AMLt: “allowed” metrical levels, with the total of continous segments.</li><li>Metrical level 包括<ul><li>The same metrical level and “in-phase”</li><li>The same metrical level, but tapped on the “off-beat”</li><li>Twice the annotated metrical level</li><li>Half the annotated metrical level （两种）</li></ul></li></ul><h2 id="others"><a class="markdownIt-Anchor" href="#others"></a> Others</h2><ul><li>评估方法的选择</li><li>拓展到 Tempo 和 Downbeat</li></ul><h1 id="theoretical-underpinnings"><a class="markdownIt-Anchor" href="#theoretical-underpinnings"></a> Theoretical Underpinnings</h1><p>General pipeline commonly used for beat and/or downbeat tracking systems: feature extraction -&gt; likelihood estimation -&gt; post-processing.</p><h2 id="feature-extraction"><a class="markdownIt-Anchor" href="#feature-extraction"></a> Feature extraction</h2><ul><li>Three most explored categories of musically inspired features<ul><li>Chroma (CH), reflect the harmonic content of the signal</li><li>Onset detection function (ODF) or spectral flux (SF), event-oriented indicators</li><li>Spectral coefficients or MFCCs, timbre inspired features</li></ul></li><li>Combinations of logarithmic spectrograms with <strong>different resolutions</strong> (recently)</li></ul><h2 id="likelihood-estimation"><a class="markdownIt-Anchor" href="#likelihood-estimation"></a> Likelihood estimation</h2><ul><li>Heuristics method or traditional machine learning method<ul><li>Template</li><li>GMM, k-means: recognize rhythm patterns</li><li>Limitation: need assumptions of style or genre</li></ul></li><li>Deep learning method</li></ul><h2 id="inference-post-processing"><a class="markdownIt-Anchor" href="#inference-post-processing"></a> Inference (post-processing)</h2><ul><li>Obtain the final downbeat sequence</li><li>Most used: Probabilistic graphical models (PGMs)<ul><li>PGMs are a set of probabilistic models that express conditional dependencies between random variables as a graph.</li><li>Directed or Undirected</li></ul></li></ul><h2 id="pros-and-cons-of-dl"><a class="markdownIt-Anchor" href="#pros-and-cons-of-dl"></a> Pros and Cons of DL</h2><ul><li>Flexible and adaptable across tasks</li><li>Remove the stage of hand-crafted feature design</li><li>Dependence on annotated data</li><li>Bias of the data</li><li>Lack of interpretability</li></ul><h2 id="dnn-的各种结构"><a class="markdownIt-Anchor" href="#dnn-的各种结构"></a> DNN 的各种结构</h2><ul><li>包括 MLP、CNN、RNN、GRU、双向 RNN 的简单介绍</li><li>TCN:<ul><li>Uses dilated convolutions which enable exponentially large receptive fields</li><li>Good at learning sequential/temporal structure</li><li>Handle more context while retain the parallelisation property of CNN</li><li>Trained more efficiently than RNN, LSTM or GRU</li></ul></li></ul><h1 id="unfinished"><a class="markdownIt-Anchor" href="#unfinished"></a> Unfinished</h1>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ISMIR 2021 速度、节拍与强拍估计教程阅读笔记&lt;/p&gt;
&lt;p&gt;教程链接： &lt;a href=&quot;https://tempobeatdownbeat.github.io/tutorial/intro.html&quot;&gt;Tempo, Beat, and Downbeat Esti</summary>
      
    
    
    
    <category term="理论知识" scheme="http://wzw21.cn/categories/%E7%90%86%E8%AE%BA%E7%9F%A5%E8%AF%86/"/>
    
    
    <category term="MIR" scheme="http://wzw21.cn/tags/MIR/"/>
    
  </entry>
  
  <entry>
    <title>去除来必力（Livere）附带广告</title>
    <link href="http://wzw21.cn/2022/02/06/rm-ad/"/>
    <id>http://wzw21.cn/2022/02/06/rm-ad/</id>
    <published>2022-02-06T05:33:46.000Z</published>
    <updated>2022-02-07T04:11:51.220Z</updated>
    
    <content type="html"><![CDATA[<h1 id="去除来必力livere评论系统附带韩文广告的两种方法"><a class="markdownIt-Anchor" href="#去除来必力livere评论系统附带韩文广告的两种方法"></a> 去除来必力（Livere）评论系统附带韩文广告的两种方法</h1><h2 id="方法一添加css代码"><a class="markdownIt-Anchor" href="#方法一添加css代码"></a> 方法一：添加CSS代码</h2><p>在css文件（e.g. normalize.min.css）中添加如下代码</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.trc_rbox_container</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: none <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>添加后需要hexo clean</p><h2 id="方法二添加js代码"><a class="markdownIt-Anchor" href="#方法二添加js代码"></a> 方法二：添加JS代码</h2><p>在js/pug文件（e.g. livere.pug）中添加如下代码</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">script.</span><br><span class="line">  <span class="keyword">var</span> intervalFunctionID = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; myTimer() &#125;, <span class="number">1000</span>);</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">myTimer</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="built_in">document</span>.getElementById(<span class="string">&quot;taboola-livere&quot;</span>) != <span class="literal">null</span>)</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">document</span>.getElementById(<span class="string">&quot;taboola-livere&quot;</span>).style.display == <span class="string">&quot;none&quot;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="comment">//alert(&quot;Interval function stopped&quot;);</span></span><br><span class="line">          <span class="built_in">clearInterval</span>(intervalFunctionID);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="built_in">document</span>.getElementById(<span class="string">&quot;taboola-livere&quot;</span>).style.display=<span class="string">&quot;none&quot;</span>;</span><br><span class="line">      <span class="comment">//alert(&quot;Interval function running&quot;);</span></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>Ref:</p><ul><li><a href="https://my-youth.cn/2022/01/28/yin-cang-lai-bi-li-guang-gao/">https://my-youth.cn/2022/01/28/yin-cang-lai-bi-li-guang-gao/</a></li><li><a href="https://blog.jiejiss.com/LiveRe%E8%AF%84%E8%AE%BA%E5%9C%A8hexo-theme-even%E4%B8%8B%E5%81%B6%E5%8F%91%E6%B6%88%E5%A4%B1%E9%97%AE%E9%A2%98/">https://blog.jiejiss.com/LiveRe评论在hexo-theme-even下偶发消失问题/</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;去除来必力livere评论系统附带韩文广告的两种方法&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#去除来必力livere评论系统附带韩文广告的两种方法&quot;&gt;&lt;/a&gt; 去除来必力（Livere）评论系统附带韩文广告的两种方法&lt;/h1&gt;
&lt;</summary>
      
    
    
    
    <category term="网页与前端" scheme="http://wzw21.cn/categories/%E7%BD%91%E9%A1%B5%E4%B8%8E%E5%89%8D%E7%AB%AF/"/>
    
    
    <category term="博客相关" scheme="http://wzw21.cn/tags/%E5%8D%9A%E5%AE%A2%E7%9B%B8%E5%85%B3/"/>
    
  </entry>
  
  <entry>
    <title>音乐速度与节拍估计（一）基本方法</title>
    <link href="http://wzw21.cn/2022/02/04/tempo-baseline/"/>
    <id>http://wzw21.cn/2022/02/04/tempo-baseline/</id>
    <published>2022-02-04T08:58:28.000Z</published>
    <updated>2022-02-15T08:03:38.767Z</updated>
    
    <content type="html"><![CDATA[<h1 id="使用librosa库对音乐速度-节拍进行估计的基本方法"><a class="markdownIt-Anchor" href="#使用librosa库对音乐速度-节拍进行估计的基本方法"></a> 使用Librosa库对音乐速度、节拍进行估计的基本方法</h1><p>参考：<a href="https://tempobeatdownbeat.github.io/tutorial/ch2_basics/baseline.html">https://tempobeatdownbeat.github.io/tutorial/ch2_basics/baseline.html</a></p><h2 id="基本设置"><a class="markdownIt-Anchor" href="#基本设置"></a> 基本设置</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> librosa</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> librosa.display</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mount = <span class="literal">False</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> google.colab <span class="keyword">import</span> drive</span><br><span class="line">drive.mount(<span class="string">&#x27;/content/drive&#x27;</span>)</span><br><span class="line"><span class="comment"># drive._mount(&#x27;/content/drive&#x27;) # failed on Jan 21st, 2022</span></span><br><span class="line">mount = <span class="literal">True</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> mount == <span class="literal">True</span>:</span><br><span class="line">  filename = <span class="string">&quot;drive/MyDrive/data/tempo_tutorial/audio/book_assets_ch2_basics_audio_easy_example&quot;</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">  filename = <span class="string">&quot;book_assets_ch2_basics_audio_easy_example&quot;</span></span><br><span class="line">sr = <span class="number">44100</span></span><br><span class="line">fps = <span class="number">100</span></span><br><span class="line">hop_length = <span class="built_in">int</span>(librosa.time_to_samples(<span class="number">1.</span>/fps,sr=sr)) <span class="comment"># 441</span></span><br><span class="line"><span class="comment"># this Calculation is new to me</span></span><br><span class="line">n_fft = <span class="number">2048</span></span><br><span class="line"><span class="comment"># length of fft window</span></span><br><span class="line">fmin = <span class="number">27.5</span></span><br><span class="line">fmax = <span class="number">17000.</span></span><br><span class="line">n_mels = <span class="number">80</span></span><br><span class="line"><span class="comment"># number of Mel bands to generate</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">y, sr = librosa.load(filename+<span class="string">&quot;.flac&quot;</span>, sr=sr)</span><br></pre></td></tr></table></figure><h2 id="时频特征mel-spectrogram"><a class="markdownIt-Anchor" href="#时频特征mel-spectrogram"></a> 时频特征（Mel-Spectrogram）</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Mel-spectrogram</span></span><br><span class="line">mel_spec = librosa.feature.melspectrogram(y, sr=sr, n_fft=n_fft,</span><br><span class="line">                      hop_length=hop_length,</span><br><span class="line">                      fmin=fmin, fmax=fmax,</span><br><span class="line">                      n_mels=n_mels)</span><br><span class="line"><span class="comment"># melspectrogram&#x27;s defult parameters</span></span><br><span class="line"><span class="comment"># fmax = sr / 2</span></span><br><span class="line"><span class="comment"># win_length = n_fft</span></span><br><span class="line"><span class="comment"># power = 2 # exponent for the magnitude melspectrogram. e.g., 1 for energy, 2 for power, etc.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># If a time-series input y, sr is provided, then its magnitude spectrogram S is first computed, and then mapped onto the mel scale by mel_f.dot(S**power).</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">fig, ax = plt.subplots(nrows=<span class="number">2</span>, sharex=<span class="literal">True</span>, figsize=(<span class="number">14</span>,<span class="number">6</span>))</span><br><span class="line">librosa.display.waveplot(y, sr=sr, alpha=<span class="number">0.6</span>, ax=ax[<span class="number">0</span>])</span><br><span class="line"><span class="comment"># alpha controls the color transparency</span></span><br><span class="line">ax[<span class="number">0</span>].set_title(<span class="string">&#x27;Audio waveform&#x27;</span>, fontsize=<span class="number">15</span>)</span><br><span class="line">ax[<span class="number">0</span>].label_outer()</span><br><span class="line"><span class="comment"># only show &quot;outer&quot; labels and tick labels</span></span><br><span class="line"></span><br><span class="line">librosa.display.specshow(librosa.power_to_db(mel_spec, ref=np.<span class="built_in">max</span>), <span class="comment"># convert a power spectrogram (amplitude(?) squared) to decibel (dB) units</span></span><br><span class="line">            y_axis=<span class="string">&#x27;mel&#x27;</span>, x_axis=<span class="string">&#x27;time&#x27;</span>, sr=sr,</span><br><span class="line">            hop_length=hop_length, fmin=fmin, fmax=fmax,</span><br><span class="line">            ax=ax[<span class="number">1</span>])</span><br><span class="line">ax[<span class="number">1</span>].set_title(<span class="string">&#x27;Mel Spectrogram&#x27;</span>, fontsize=<span class="number">15</span>)</span><br><span class="line">ax[<span class="number">1</span>].label_outer()</span><br></pre></td></tr></table></figure><p><img src="/images/tempo_baseline/tempo_tutorial_6_0.png" alt="png" /></p><h2 id="中层特征spectral-flux"><a class="markdownIt-Anchor" href="#中层特征spectral-flux"></a> 中层特征（Spectral Flux）</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Mid-level Representation (Spectral Flux)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Onset strength at time t is determined by:</span></span><br><span class="line"><span class="comment"># mean_f max(0, S[f, t] - ref[f, t - lag])</span></span><br><span class="line"><span class="comment"># where ref is S after local max filtering along the frequency axis.</span></span><br><span class="line"></span><br><span class="line">S = mel_spec <span class="comment"># pre-computed (log-power) spectrogram</span></span><br><span class="line">lag = <span class="number">2</span> <span class="comment"># time lag for computing differences</span></span><br><span class="line">max_size = <span class="number">3</span> <span class="comment"># size (in frequency bins) of the local max filter， set to 1 to disable filtering</span></span><br><span class="line">spectral_flux = librosa.onset.onset_strength(S=librosa.power_to_db(S, ref=np.<span class="built_in">max</span>),</span><br><span class="line">                        sr=sr, hop_length=hop_length,</span><br><span class="line">                        lag=lag, max_size=max_size)</span><br><span class="line"><span class="comment"># Compute a spectral flux onset strength envelope</span></span><br><span class="line"></span><br><span class="line">times = librosa.frames_to_time(np.arange(<span class="built_in">len</span>(spectral_flux)),</span><br><span class="line">                 sr=sr, hop_length=hop_length)</span><br><span class="line"><span class="comment"># or librosa.times_like(spectral_flux, sr=sr, hop_length=hop_length)</span></span><br><span class="line"></span><br><span class="line">plt.figure(figsize=(<span class="number">14</span>, <span class="number">3</span>))</span><br><span class="line">plt.plot(times, spectral_flux, label=<span class="string">&quot;Spectral flux&quot;</span>)</span><br><span class="line">plt.title(<span class="string">&quot;Spectral flux&quot;</span>)</span><br><span class="line">plt.legend() <span class="comment"># show legend</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="/images/tempo_baseline/tempo_tutorial_7_0.png" alt="png" /></p><h2 id="速度估计autocorrelation"><a class="markdownIt-Anchor" href="#速度估计autocorrelation"></a> 速度估计（Autocorrelation）</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Periodicity Detection and Tempogram</span></span><br><span class="line"></span><br><span class="line">fig, ax = plt.subplots(nrows=<span class="number">3</span>, figsize=(<span class="number">14</span>, <span class="number">12</span>))</span><br><span class="line"></span><br><span class="line">tempogram = librosa.feature.tempogram(onset_envelope=spectral_flux,</span><br><span class="line">                    sr=sr, hop_length=hop_length)</span><br><span class="line"><span class="comment"># Compute the tempogram: local autocorrelation of the onset strength envelope</span></span><br><span class="line"><span class="comment"># default win_length = 384: length of the onset autocorrelation window</span></span><br><span class="line"><span class="comment"># return_shape = (win_length, n)</span></span><br><span class="line"><span class="comment"># time lag changes from 0 to win_length (?) \</span></span><br><span class="line"><span class="comment"># when time_lag == win_length \</span></span><br><span class="line"><span class="comment"># there is no overlap between origin window and shifted window, thus autocorrelation should be 0 \</span></span><br><span class="line"><span class="comment"># but for global_ac (window is much larger) there are still a lot of overlops</span></span><br><span class="line"></span><br><span class="line">librosa.display.specshow(tempogram, sr=sr, hop_length=hop_length,</span><br><span class="line">             x_axis=<span class="string">&#x27;time&#x27;</span>, y_axis=<span class="string">&#x27;tempo&#x27;</span>, cmap=<span class="string">&#x27;magma&#x27;</span>,</span><br><span class="line">             ax=ax[<span class="number">0</span>])</span><br><span class="line"><span class="comment"># y_axis=&#x27;tempo&#x27; visualizes the outputs of feature.tempogram</span></span><br><span class="line"><span class="comment"># cmap: color map</span></span><br><span class="line"><span class="comment"># win_length =&gt; BPM (?)</span></span><br><span class="line"></span><br><span class="line">tempo = librosa.beat.tempo(onset_envelope=spectral_flux, sr=sr,</span><br><span class="line">               hop_length=hop_length)[<span class="number">0</span>]</span><br><span class="line"><span class="comment"># default aggregation function: mean</span></span><br><span class="line"><span class="comment"># shape = (1,) or (n,) if no aggregate</span></span><br><span class="line">ax[<span class="number">0</span>].axhline(tempo, color=<span class="string">&#x27;w&#x27;</span>, linestyle=<span class="string">&#x27;--&#x27;</span>, alpha=<span class="number">1</span>,</span><br><span class="line">       label=<span class="string">&#x27;Estimated tempo=&#123;:g&#125;&#x27;</span>.<span class="built_in">format</span>(tempo))</span><br><span class="line"><span class="comment"># this line shows the estimated global tempo</span></span><br><span class="line">ax[<span class="number">0</span>].legend(loc=<span class="string">&#x27;upper right&#x27;</span>)</span><br><span class="line">ax[<span class="number">0</span>].set_title(<span class="string">&#x27;Fig.2: Tempogram&#x27;</span>,fontsize=<span class="number">15</span>)</span><br><span class="line"></span><br><span class="line">ac_global = librosa.autocorrelate(spectral_flux, max_size=tempogram.shape[<span class="number">0</span>])</span><br><span class="line"><span class="comment"># Compute global onset autocorrelation</span></span><br><span class="line"><span class="comment"># max_size: maximum correlation lag</span></span><br><span class="line">ac_global = librosa.util.normalize(ac_global)</span><br><span class="line"></span><br><span class="line">x_scale = np.linspace(start=<span class="number">0</span>, stop=tempogram.shape[<span class="number">0</span>] * <span class="built_in">float</span>(hop_length) / sr,</span><br><span class="line">            num=tempogram.shape[<span class="number">0</span>])</span><br><span class="line"><span class="comment"># return evenly spaced numbers over a specified interval</span></span><br><span class="line">ax[<span class="number">1</span>].plot(x_scale, np.mean(tempogram, axis=<span class="number">1</span>), label=<span class="string">&#x27;Mean local autocorrelation&#x27;</span>)</span><br><span class="line">ax[<span class="number">1</span>].plot(x_scale, ac_global, <span class="string">&#x27;--&#x27;</span>, label=<span class="string">&#x27;Global autocorrelation&#x27;</span>)</span><br><span class="line">ax[<span class="number">1</span>].legend(loc=<span class="string">&#x27;upper right&#x27;</span>)</span><br><span class="line">ax[<span class="number">1</span>].<span class="built_in">set</span>(xlabel=<span class="string">&#x27;Lag (seconds)&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ax[2]: map the lag scale into tempo, which is a prior distribution</span></span><br><span class="line">freqs = librosa.tempo_frequencies(n_bins = tempogram.shape[<span class="number">0</span>],</span><br><span class="line">                  hop_length=hop_length, sr=sr)</span><br><span class="line"><span class="comment"># Compute the frequencies (in beats per minute) corresponding to an onset auto-correlation or tempogram matrix</span></span><br><span class="line"><span class="comment"># n_bins: the number of lag bins</span></span><br><span class="line"><span class="comment"># freqs[0] = +np.inf corresponds to 0-lag</span></span><br><span class="line"><span class="comment"># freqs[1] = 6000, [2] = 3000, [3] = 1500 ...</span></span><br><span class="line"><span class="comment"># freqs here means x_scale</span></span><br><span class="line"></span><br><span class="line">ax[<span class="number">2</span>].semilogx(freqs[<span class="number">1</span>:], np.mean(tempogram[<span class="number">1</span>:], axis=<span class="number">1</span>),</span><br><span class="line">        label=<span class="string">&#x27;Mean local autocorrelation&#x27;</span>, basex=<span class="number">2</span>)</span><br><span class="line">ax[<span class="number">2</span>].semilogx(freqs[<span class="number">1</span>:], ac_global[<span class="number">1</span>:], linestyle=<span class="string">&#x27;--&#x27;</span>,</span><br><span class="line">        label=<span class="string">&#x27;Global autocorrelation&#x27;</span>, basex=<span class="number">2</span>)</span><br><span class="line">ax[<span class="number">2</span>].axvline(tempo, color=<span class="string">&#x27;black&#x27;</span>, linestyle=<span class="string">&#x27;--&#x27;</span>,</span><br><span class="line">       label=<span class="string">&#x27;Estimated tempo=&#123;:g&#125;&#x27;</span>.<span class="built_in">format</span>(tempo))</span><br><span class="line"></span><br><span class="line">ax[<span class="number">2</span>].legend(loc=<span class="string">&#x27;upper right&#x27;</span>)</span><br><span class="line">ax[<span class="number">2</span>].<span class="built_in">set</span>(xlabel=<span class="string">&#x27;BPM&#x27;</span>)</span><br><span class="line"><span class="comment"># blue line taper off at higher periodicity (lower tempi) \</span></span><br><span class="line"><span class="comment"># due to the lack of overlap between the shifted versions of the windowed spectral flux</span></span><br><span class="line"></span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"><span class="comment"># Notice that in a variable tempo context, \</span></span><br><span class="line"><span class="comment"># it’s not super meaningful to reduce the tempo information down to a single value.</span></span><br></pre></td></tr></table></figure><p><img src="/images/tempo_baseline/tempo_tutorial_8_0.png" alt="png" /></p><h2 id="节拍跟踪dynamic-programming"><a class="markdownIt-Anchor" href="#节拍跟踪dynamic-programming"></a> 节拍跟踪（Dynamic Programming）</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Use DP to recover beats sequence (i.e., temporal locations)</span></span><br><span class="line"><span class="comment"># Ref: https://www.audiolabs-erlangen.de/resources/MIR/FMP/C6/C6S3_BeatTracking.html</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">Pseudocode:</span></span><br><span class="line"><span class="string">for i = 1 to N</span></span><br><span class="line"><span class="string">  int tmp = 0;</span></span><br><span class="line"><span class="string">  for j = 1 to i-1</span></span><br><span class="line"><span class="string">    tmp = max(tmp, dp[j] + lamda * penalty(i-j));</span></span><br><span class="line"><span class="string">  dp[i] = delta[i] + tmp</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">beat_track_dp</span>(<span class="params">oenv, tempo, fps, sr, hop_length, tightness=<span class="number">100</span>, alpha=<span class="number">0.5</span>, ref_beats=<span class="literal">None</span></span>):</span></span><br><span class="line"></span><br><span class="line">    period = (fps * <span class="number">60.</span>/tempo) <span class="comment"># beat period (given in samples)</span></span><br><span class="line">    localscore = librosa.beat.__beat_local_score(oenv, period)</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Construct the local score for an onset envlope and given period&quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># localscore is a smoothed version of AGC&#x27;d(?) onset envelope</span></span><br><span class="line"></span><br><span class="line">    backlink = np.zeros_like(localscore, dtype=<span class="built_in">int</span>) <span class="comment"># save answers in DP process</span></span><br><span class="line">    cumulative_score = np.zeros_like(localscore)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Search range for previous beat</span></span><br><span class="line">    window = np.arange(<span class="number">-2</span> * period, -np.<span class="built_in">round</span>(period / <span class="number">2</span>) + <span class="number">1</span>, dtype=<span class="built_in">int</span>)</span><br><span class="line"></span><br><span class="line">    txwt = -tightness * (np.log(-window / period) ** <span class="number">2</span>) </span><br><span class="line">    <span class="comment"># penalty function</span></span><br><span class="line">    <span class="comment"># notice window is an array, so txwt saves not only one penalty value</span></span><br><span class="line">    <span class="comment"># tightness means tightness of beat distribution around tempo</span></span><br><span class="line">    <span class="comment"># higher tightness value favours constant tempi</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># Are we on the first beat?</span></span><br><span class="line">    first_beat = <span class="literal">True</span></span><br><span class="line">    <span class="keyword">for</span> i, score_i <span class="keyword">in</span> <span class="built_in">enumerate</span>(localscore):</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Are we reaching back before time 0?</span></span><br><span class="line">        z_pad = np.maximum(<span class="number">0</span>, <span class="built_in">min</span>(-window[<span class="number">0</span>], <span class="built_in">len</span>(window)))</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Search over all possible predecessors</span></span><br><span class="line">        candidates = txwt.copy()</span><br><span class="line">        candidates[z_pad:] = candidates[z_pad:] + cumulative_score[window[z_pad:]]</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Find the best preceding beat</span></span><br><span class="line">        beat_location = np.argmax(candidates)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Add the local score</span></span><br><span class="line">        cumulative_score[i] = (<span class="number">1</span>-alpha)*score_i + alpha*candidates[beat_location]</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Special case the first onset.  Stop if the localscore is small</span></span><br><span class="line">        <span class="keyword">if</span> first_beat <span class="keyword">and</span> score_i &lt; <span class="number">0.01</span> * localscore.<span class="built_in">max</span>():</span><br><span class="line">            backlink[i] = <span class="number">-1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            backlink[i] = window[beat_location]</span><br><span class="line">            first_beat = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># Update the time range</span></span><br><span class="line">        window = window + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    beats = [librosa.beat.__last_beat(cumulative_score)]</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Get the last beat from the cumulative score array&quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># get the last (final) beat</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># Reconstruct the beat path from backlinks</span></span><br><span class="line">    <span class="keyword">while</span> backlink[beats[<span class="number">-1</span>]] &gt;= <span class="number">0</span>:</span><br><span class="line">        beats.append(backlink[beats[<span class="number">-1</span>]])</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Put the beats in ascending order</span></span><br><span class="line">    <span class="comment"># Convert into an array of frame numbers</span></span><br><span class="line">    beats = np.array(beats[::<span class="number">-1</span>], dtype=<span class="built_in">int</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Discard spurious trailing beats</span></span><br><span class="line">    beats = librosa.beat.__trim_beats(oenv, beats, trim=<span class="literal">True</span>)</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Final post-processing: throw out spurious leading/trailing beats&quot;&quot;&quot;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># Convert beat times seconds</span></span><br><span class="line">    beats = librosa.frames_to_time(beats, hop_length=hop_length, sr=sr)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> beats, cumulative_score</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">alpha = <span class="number">0.5</span></span><br><span class="line">tightness=<span class="number">100</span></span><br><span class="line"></span><br><span class="line">est_beats, cumulative_score = beat_track_dp(oenv=spectral_flux, tempo=tempo, fps=fps, sr=sr, hop_length=hop_length, tightness=tightness, alpha=alpha)</span><br><span class="line">fig, ax = plt.subplots(nrows=<span class="number">2</span>, figsize=(<span class="number">14</span>, <span class="number">6</span>))</span><br><span class="line">times = librosa.times_like(spectral_flux, sr=sr, hop_length=hop_length)</span><br><span class="line">ax[<span class="number">0</span>].plot(times, spectral_flux, label=<span class="string">&#x27;Spectral flux&#x27;</span>)</span><br><span class="line">ax[<span class="number">0</span>].set_title(<span class="string">&#x27;Spectral flux&#x27;</span>,fontsize=<span class="number">15</span>)</span><br><span class="line">ax[<span class="number">0</span>].label_outer()</span><br><span class="line"></span><br><span class="line">ax[<span class="number">0</span>].<span class="built_in">set</span>(xlim=[<span class="number">0</span>, <span class="built_in">len</span>(spectral_flux)/fps])</span><br><span class="line">ax[<span class="number">0</span>].vlines(est_beats, <span class="number">0</span>, <span class="number">1.1</span>*spectral_flux.<span class="built_in">max</span>(), label=<span class="string">&#x27;Estimated beats&#x27;</span>, </span><br><span class="line">       color=<span class="string">&#x27;green&#x27;</span>, linestyle=<span class="string">&#x27;:&#x27;</span>, linewidth=<span class="number">2</span>)</span><br><span class="line">ax[<span class="number">0</span>].legend(loc=<span class="string">&#x27;upper right&#x27;</span>)</span><br><span class="line"></span><br><span class="line">ax[<span class="number">1</span>].plot(times, cumulative_score, color=<span class="string">&#x27;orange&#x27;</span>, label=<span class="string">&#x27;Cumultative score&#x27;</span>)</span><br><span class="line">ax[<span class="number">1</span>].set_title(<span class="string">&#x27;Cumulative score (alpha:&#x27;</span>+<span class="built_in">str</span>(alpha)+<span class="string">&#x27;)&#x27;</span>,fontsize=<span class="number">15</span>)</span><br><span class="line">ax[<span class="number">1</span>].label_outer()</span><br><span class="line">ax[<span class="number">1</span>].<span class="built_in">set</span>(xlim=[<span class="number">0</span>, <span class="built_in">len</span>(spectral_flux)/fps])</span><br><span class="line">ax[<span class="number">1</span>].vlines(est_beats, <span class="number">0</span>, <span class="number">1.1</span>*cumulative_score.<span class="built_in">max</span>(), label=<span class="string">&#x27;Estimated beats&#x27;</span>, </span><br><span class="line">       color=<span class="string">&#x27;green&#x27;</span>, linestyle=<span class="string">&#x27;:&#x27;</span>, linewidth=<span class="number">2</span>)</span><br><span class="line">ax[<span class="number">1</span>].legend(loc=<span class="string">&#x27;upper right&#x27;</span>)</span><br><span class="line">ax[<span class="number">1</span>].<span class="built_in">set</span>(xlabel = <span class="string">&#x27;Time&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="/images/tempo_baseline/tempo_tutorial_10_0.png" alt="png" /></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;使用librosa库对音乐速度-节拍进行估计的基本方法&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#使用librosa库对音乐速度-节拍进行估计的基本方法&quot;&gt;&lt;/a&gt; 使用Librosa库对音乐速度、节拍进行估计的基本方法&lt;/h1&gt;
</summary>
      
    
    
    
    <category term="操作步骤与实践" scheme="http://wzw21.cn/categories/%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%AA%A4%E4%B8%8E%E5%AE%9E%E8%B7%B5/"/>
    
    
    <category term="MIR" scheme="http://wzw21.cn/tags/MIR/"/>
    
    <category term="Python" scheme="http://wzw21.cn/tags/Python/"/>
    
    <category term="Librosa" scheme="http://wzw21.cn/tags/Librosa/"/>
    
  </entry>
  
  <entry>
    <title>使用Python播放MIDI音符</title>
    <link href="http://wzw21.cn/2022/01/11/play-midi-note/"/>
    <id>http://wzw21.cn/2022/01/11/play-midi-note/</id>
    <published>2022-01-11T12:56:38.000Z</published>
    <updated>2022-01-11T13:16:14.177Z</updated>
    
    <content type="html"><![CDATA[<h1 id="使用-python-播放-midi-note"><a class="markdownIt-Anchor" href="#使用-python-播放-midi-note"></a> 使用 Python 播放 MIDI Note</h1><h2 id="方法一使用music21"><a class="markdownIt-Anchor" href="#方法一使用music21"></a> 方法一：使用music21</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> music21 <span class="keyword">as</span> m21</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">play_note</span>(<span class="params">pitch=<span class="string">&quot;C4&quot;</span>, length=<span class="number">2</span>, velocity=<span class="number">127</span>, instrument=<span class="string">&#x27;Piano&#x27;</span></span>):</span></span><br><span class="line">    note_1 = m21.note.Note(pitch, quarterLength=length)</span><br><span class="line">    note_1.volume.velocity = velocity</span><br><span class="line">    stream_1 = m21.stream.Stream()</span><br><span class="line">    <span class="keyword">if</span> instrument == <span class="string">&#x27;Piano&#x27;</span>:</span><br><span class="line">        stream_1.append(m21.instrument.Piano())</span><br><span class="line">        <span class="comment"># stream_1.insert(0, m21.instrument.Piano())</span></span><br><span class="line">    stream_1.append(note_1)</span><br><span class="line">    s_player = m21.midi.realtime.StreamPlayer(stream_1)</span><br><span class="line">    s_player.play()</span><br></pre></td></tr></table></figure><p>注意该方法也需要安装pygame</p><h2 id="方法二使用pygame"><a class="markdownIt-Anchor" href="#方法二使用pygame"></a> 方法二：使用pygame</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pygame.midi <span class="keyword">as</span> pm</span><br><span class="line"></span><br><span class="line">pm.init() <span class="comment"># init midi player</span></span><br><span class="line">player = pm.Output(<span class="number">0</span>)</span><br><span class="line">BPM = <span class="number">120</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">play_note</span>(<span class="params">pitch=<span class="number">60</span>, length=<span class="number">2</span>, velocity=<span class="number">127</span>, instrument=<span class="string">&#x27;Piano&#x27;</span></span>):</span></span><br><span class="line">    <span class="keyword">if</span> instrument == <span class="string">&#x27;Piano&#x27;</span>:</span><br><span class="line">        player.set_instrument(<span class="number">0</span>)</span><br><span class="line">    player.note_on(pitch, velocity)</span><br><span class="line">    time.sleep(length * <span class="number">60</span> / BPM)</span><br><span class="line">    player.note_off(pitch, velocity)</span><br><span class="line"></span><br><span class="line"><span class="keyword">del</span> player</span><br><span class="line">pm.quit()</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;使用-python-播放-midi-note&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#使用-python-播放-midi-note&quot;&gt;&lt;/a&gt; 使用 Python 播放 MIDI Note&lt;/h1&gt;
&lt;h2 id=&quot;方法一使用mu</summary>
      
    
    
    
    <category term="操作步骤与实践" scheme="http://wzw21.cn/categories/%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%AA%A4%E4%B8%8E%E5%AE%9E%E8%B7%B5/"/>
    
    
    <category term="MIR" scheme="http://wzw21.cn/tags/MIR/"/>
    
    <category term="Python" scheme="http://wzw21.cn/tags/Python/"/>
    
  </entry>
  
  <entry>
    <title>群体智能优化算法</title>
    <link href="http://wzw21.cn/2022/01/08/sioa/"/>
    <id>http://wzw21.cn/2022/01/08/sioa/</id>
    <published>2022-01-08T08:14:34.000Z</published>
    <updated>2022-01-08T08:18:14.717Z</updated>
    
    <content type="html"><![CDATA[<h1 id="群体智能优化算法"><a class="markdownIt-Anchor" href="#群体智能优化算法"></a> 群体智能优化算法</h1><h2 id="研究背景"><a class="markdownIt-Anchor" href="#研究背景"></a> 研究背景</h2><p>群体智能优化算法（Swarm Intelligence Optimization Algorithm）是计算智能中的一种常用算法，其基本理论是模拟自然界中鱼群、鸟群、蜂群、狼群和细菌群等动物群体的行为，利用群体间的信息交流与合作，通过简单有限的个体间互动来达到优化的目的。</p><p>群体智能（Swarm Intelligence, SI）由Gerardo Beni和Jing Wang于1989年首次提出，是研究由大量简单个体构成的群体系统的学科。与个体的智能相比，这些群体系统往往并没有复杂精细的内部设计，但基于简单的个体与规则，它们具有更强的鲁棒性、稳定性和适应性。群体智能方法处理的最典型问题就是优化问题。优化问题的基础性能够较为直观地体现群体方法的理论特性，辅助其理论研究，同时也具有重要的应用价值，进一步推动了群体智能算法的发展。与传统的优化算法相比，基于仿生学的群体智能优化算法本质上是一种概率并行搜索算法。其寻优速度更快，能更有效地搜索复杂优化问题的全局最优解。</p><p>常见的群体智能优化算法有蚁群算法（Ant Colony Optimization，ACO）、粒子群优化算法（Particle Swarm Optimization，PSO）、烟花算法（Fireworks Algorithm，FWA）、萤火虫算法(Firefly Algorithm，FA)、布谷鸟算法(Cuckoo Search，CS)、头脑风暴算法(Brain Storm Optimization，BSO)、水波算法(Water Wave Optimization，WWO)、灰狼优化算法(Grey Wolf Optimizer，GWO)、鲸鱼优化算法(Whale Optimization Algorithm，WOA)、蛙跳算法(Shuffled Frog Leaping Algorithm，SFLA)等。应用包括寻找函数最优值、求解旅行商问题、武器目标分配问题、多处理机调度问题、有依赖的优化问题和作业调度问题等。</p><h2 id="相关工作"><a class="markdownIt-Anchor" href="#相关工作"></a> 相关工作</h2><p>元启发式优化算法可以分为三大类：进化算法、基于物理的算法和群体智能算法。进化算法受到自然界中生物进化概念的启发，最常见的是遗传算法，由Holland于1992年提出；基于物理的算法通常模仿物理规则实现优化，例如引力搜索算法、大爆炸算法。群体智能优化算法的机制与基于物理规则的算法相似，不同的是其搜索单元使用模拟的生物集体智能和社会智能进行导航。群体智能优化算法主要包括两个阶段，分别称为勘探和开发，勘探是指尽可能广泛地调查搜索空间中有希望的区域的过程，需要随机算子对搜索空间进行随机和全局的搜索。开发则是指在勘探阶段所获得的区域周围进行局部搜索。如何平衡这两个阶段以找到全局最优是各种优化算法需要解决的问题。</p><p>群体智能优化算法中的常见算法之一是粒子群优化算法，由Kennedy和Eberhart于1995年提出，其灵感来自于鸟群的社会行为。该算法使用多个粒子来追踪最佳粒子的位置以及目前为止已获得的自身最佳位置。蚁群算法由Dorigo等人于2006年提出，灵感来自于蚁群中蚂蚁的社会行为。该算法模仿蚁群在寻找巢穴与食物源之间最短路径时使用的信息素机制。人工蜂群算法受到蜂群行为启发，在2005年由Karaboga等人为优化代数问题而提出。其中侦察蜂负责勘探，雇佣蜂和观察蜂负责开发。烟花算法于 2010年由谭营等人提出，受启发于烟花爆炸的现象，是一种受自然现象而非生物启发的经典群体智能算法。烟花算法种包括爆炸算子、变异算子、映射规则和选择算子。萤火虫算法受启发于萤火虫的闪烁行为，由Xin-She Yang于 2009年提出。该算法假设每只萤火虫都向着看上去比自己更亮的萤火虫飞行，萤火虫的吸引力与它们的亮度成正比。布谷鸟算法由Xin-She Yang等人于 2009年提出，受启发于布谷鸟的巢寄生育雏行为和列维飞行机制。头脑风暴算法受到人类会议过程中的“头脑风暴”过程的启发，由史玉回于2011年提出，算法利用聚类思想搜索局部最优，然后通过对比得到全局最优。水波算法由 Yu-Jun Zheng于 2015年提出，受启发于水波的几种现象：传播、反射与消散。灰狼优化算法和鲸鱼优化算法由Seyedali Mirjalili等人分别于2014年和2016年提出，这两种算法在<a href="https://wzw21.cn/2022/01/07/gwo/">GWO</a>和<a href="https://wzw21.cn/2022/01/08/woa/">WOA</a>中重点介绍。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;群体智能优化算法&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#群体智能优化算法&quot;&gt;&lt;/a&gt; 群体智能优化算法&lt;/h1&gt;
&lt;h2 id=&quot;研究背景&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#研究背景&quot;&gt;&lt;</summary>
      
    
    
    
    <category term="理论知识" scheme="http://wzw21.cn/categories/%E7%90%86%E8%AE%BA%E7%9F%A5%E8%AF%86/"/>
    
    
    <category term="智能算法" scheme="http://wzw21.cn/tags/%E6%99%BA%E8%83%BD%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>群体智能优化算法之鲸鱼优化算法</title>
    <link href="http://wzw21.cn/2022/01/08/woa/"/>
    <id>http://wzw21.cn/2022/01/08/woa/</id>
    <published>2022-01-08T07:00:20.000Z</published>
    <updated>2022-01-08T08:10:54.387Z</updated>
    
    <content type="html"><![CDATA[<h1 id="鲸鱼优化算法"><a class="markdownIt-Anchor" href="#鲸鱼优化算法"></a> 鲸鱼优化算法</h1><h2 id="鲸鱼群体"><a class="markdownIt-Anchor" href="#鲸鱼群体"></a> 鲸鱼群体</h2><p>鲸鱼是世界上最大的哺乳动物，是有情感的高智商动物，大部分鲸鱼被认为是食肉动物且群居。座头鲸是最大的长须鲸之一，它们使用一种独特的捕猎方式来猎食虾群和鱼群，被称为泡泡网（Bubble-net）捕猎方式，如图4、图5所示。它们在捕食时以螺旋式逼近猎物，吐出气体形成气泡，迫使鱼群聚集以方便捕食。鲸鱼优化算法便是受启发于鲸鱼（特别是座头鲸）的捕猎方式。</p><p><img src="/images/woa_1.png" alt="" /></p><center style="font-size:14px;color:#C0C0C0;">图4：“泡泡网”捕猎示意图，引用自论文《The whale optimization algorithm》</center><p><img src="/images/woa_2.png" alt="" /></p><center style="font-size:14px;color:#C0C0C0;">图5：座头鲸捕猎场景</center><h2 id="模型与算法"><a class="markdownIt-Anchor" href="#模型与算法"></a> 模型与算法</h2><p>鲸鱼优化算法与灰狼优化算法相似，都采用对目标位置先进行包围再捕食的策略。不同点在于鲸鱼优化算法直接将当前最优解作为包围中心，且鲸鱼优化算法的捕猎逼近过程分为两种，第一种逐步降低距离，另一种以螺旋形逼近。鲸鱼优化算法的基本位置更新方式与灰狼优化算法相同，见<a href="https://wzw21.cn/2022/01/07/gwo/">灰狼优化算法</a>公式(1)至(4)。</p><p>鲸鱼优化算法基于一个随机数p∈[0,1]来决定当前搜索单元的行动，有50%的概率直接根据目标位置进行移动，有50%的概率以螺旋线逼近猎物。鲸鱼在捕猎时的行为被定义为：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mover accent="true"><mi>X</mi><mo>⃗</mo></mover><mo stretchy="false">(</mo><mi>t</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.15999999999999992em" columnalign="left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msup><mover accent="true"><mi>X</mi><mo>⃗</mo></mover><mo>∗</mo></msup><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mo>−</mo><mover accent="true"><mi>A</mi><mo>⃗</mo></mover><mo>⋅</mo><mover accent="true"><mi>D</mi><mo>⃗</mo></mover></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mover accent="true"><msup><mi>D</mi><mo mathvariant="normal">′</mo></msup><mo>⃗</mo></mover><mo>⋅</mo><msup><mi>e</mi><mrow><mi>b</mi><mi>l</mi></mrow></msup><mo>⋅</mo><mi>c</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mn>2</mn><mi>π</mi><mi>l</mi><mo stretchy="false">)</mo><mo>+</mo><msup><mover accent="true"><mi>X</mi><mo>⃗</mo></mover><mo>∗</mo></msup><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable><mtable rowspacing="0.15999999999999992em" columnalign="right" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>p</mi><mo>&lt;</mo><mn>0.5</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>p</mi><mo>≥</mo><mn>0.5</mn></mrow></mstyle></mtd></mtr></mtable></mrow></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(1)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\vec{X}(t+1)=\left\{    \begin{array}{l}        \vec{X}^*(t)-\vec{A}\cdot\vec{D} \\        \vec{D&#x27;}\cdot e^{bl}\cdot cos(2πl)+\vec{X}^*(t)    \end{array}    \begin{array}{r}        p&lt;0.5 \\        p≥0.5    \end{array}\right.\tag1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.21633em;vertical-align:-0.25em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.65266em;vertical-align:-1.0763300000000002em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">{</span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5763299999999998em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">A</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.09660999999999997em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.17994em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span></span></span><span style="top:-2.28367em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6778919999999999em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">b</span><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">c</span><span class="mord mathdefault">o</span><span class="mord mathdefault">s</span><span class="mopen">(</span><span class="mord">2</span><span class="mord mathdefault" style="margin-right:0.03588em;">π</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.0763300000000002em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">p</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">5</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">p</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">5</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="tag"><span class="strut" style="height:2.65266em;vertical-align:-1.0763300000000002em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">1</span></span><span class="mord">)</span></span></span></span></span></span></p><p>其中，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mover accent="true"><mi>X</mi><mo>⃗</mo></mover><mo>∗</mo></msup><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\vec{X}^*(t)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.21633em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span></span></span></span>可能是当前最优解的位置也可能是一个随机搜索单元的位置，取决于<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">∣</mi><mover accent="true"><mi>A</mi><mo>⃗</mo></mover><mi mathvariant="normal">∣</mi></mrow><annotation encoding="application/x-tex">|\vec{A}|</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.21633em;vertical-align:-0.25em;"></span><span class="mord">∣</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">A</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.09660999999999997em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mord">∣</span></span></span></span>的值，b决定螺旋线形状，l为随机值∈[-1,1]，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><msup><mi>D</mi><mo mathvariant="normal">′</mo></msup><mo>⃗</mo></mover><mo>=</mo><mi mathvariant="normal">∣</mi><msup><mover accent="true"><mi>X</mi><mo>⃗</mo></mover><mo>∗</mo></msup><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mo>−</mo><mover accent="true"><mi>X</mi><mo>⃗</mo></mover><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mi mathvariant="normal">∣</mi></mrow><annotation encoding="application/x-tex">\vec{D&#x27;}=|\vec{X}^*(t)-\vec{X}(t)|</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9663299999999999em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6778919999999999em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.21633em;vertical-align:-0.25em;"></span><span class="mord">∣</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.21633em;vertical-align:-0.25em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span><span class="mord">∣</span></span></span></span>。鲸鱼优化算法搜索机制示意图如图6所示。</p><p><img src="/images/woa_3.png" alt="" /></p><center style="font-size:14px;color:#C0C0C0;">图6：鲸鱼优化算法搜素机制，（a）缩小包围机制（b）螺旋更新位置，引用自论文《The whale optimization algorithm》</center><p>鲸鱼优化算法的伪代码如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">初始化鲸鱼种群 Xi (i&#x3D;1,2,…,n)</span><br><span class="line">计算每个搜索单元的适应度</span><br><span class="line">X*&#x3D;最优搜索单元</span><br><span class="line">while (t&lt;最大迭代次数)</span><br><span class="line">  for (每个搜索单元)</span><br><span class="line">    更新a, A, C, l, p</span><br><span class="line">    if1 (p&lt;0.5)</span><br><span class="line">      if2 (|A|&lt;1)</span><br><span class="line">        根据最优个体更新当前搜索单元的位置</span><br><span class="line">      else if2 (|A|≥1)</span><br><span class="line">        随机选择一个搜索单元Xrand</span><br><span class="line">        根据Xrand更新当前搜索单元的位置</span><br><span class="line">      end if2</span><br><span class="line">    else if1 (p≥0.5)</span><br><span class="line">      根据最优个体螺旋更新当前搜索单元的位置</span><br><span class="line">    end if1</span><br><span class="line">  end for</span><br><span class="line">  检查是否有超出搜索范围的搜索单元，并进行修正</span><br><span class="line">  计算所有搜索单元的适应度</span><br><span class="line">  更新X*</span><br><span class="line">  t&#x3D;t+1</span><br><span class="line">end while</span><br><span class="line">return X*</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;鲸鱼优化算法&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#鲸鱼优化算法&quot;&gt;&lt;/a&gt; 鲸鱼优化算法&lt;/h1&gt;
&lt;h2 id=&quot;鲸鱼群体&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#鲸鱼群体&quot;&gt;&lt;/a&gt; 鲸鱼</summary>
      
    
    
    
    <category term="理论知识" scheme="http://wzw21.cn/categories/%E7%90%86%E8%AE%BA%E7%9F%A5%E8%AF%86/"/>
    
    
    <category term="智能算法" scheme="http://wzw21.cn/tags/%E6%99%BA%E8%83%BD%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>群体智能优化算法之灰狼优化算法</title>
    <link href="http://wzw21.cn/2022/01/07/gwo/"/>
    <id>http://wzw21.cn/2022/01/07/gwo/</id>
    <published>2022-01-07T08:19:46.000Z</published>
    <updated>2022-01-08T08:11:42.638Z</updated>
    
    <content type="html"><![CDATA[<h1 id="灰狼优化算法"><a class="markdownIt-Anchor" href="#灰狼优化算法"></a> 灰狼优化算法</h1><h2 id="灰狼群体"><a class="markdownIt-Anchor" href="#灰狼群体"></a> 灰狼群体</h2><p>灰狼属于犬科动物，被认为是顶级的掠食者，它们处于生物圈食物链的顶端。灰狼大多喜欢群居，每个群体中平均有5至12只狼。灰狼群体有着严格的社会等级制度，如图1所示，其中α是狼群的领导者，负责所有决策；β协助α进行决策，必要时进行接替，地位仅次于α；δ则服从于α和β，负责放哨、侦察等事务；ω处于社会底层，是不可缺少的普通狼，负责种群内部关系的平衡。</p><p><img src="/images/gwo_1.png" alt="" /></p><center style="font-size:14px;color:#C0C0C0;">图1：灰狼的等级制度，引用自论文《Grey Wolf Optimizer》</center><p>集体狩猎是灰狼的一种社会行为，社会等级在集体狩猎过程中发挥着重要的作用，捕食的过程在α的带领下完成。主要包括三个步骤：1）跟踪和接近猎物；2）骚扰、追捕和包围猎物，直到它停止移动；3）攻击猎物。灰狼的集体狩猎行为如图2所示。</p><p><img src="/images/gwo_2.png" alt="" /></p><center style="font-size:14px;color:#C0C0C0;">图2：灰狼集体狩猎行为，引用自论文《Grey Wolf Optimizer》</center><h2 id="模型与算法"><a class="markdownIt-Anchor" href="#模型与算法"></a> 模型与算法</h2><p>灰狼优化算法的主要思路是假设α、β、δ更了解猎物的潜在位置，即优化问题的决策空间中最佳解决方案所在的位置，其他灰狼个体依据α、β、δ的位置来更新其自身位置，逐渐逼近猎物（最优解）。算法直接将前３匹适应度最高的狼分别定义为α，β和δ，它们指导其他狼向着目标搜索。在狩猎过程中，灰狼的基本位置更新方式定义为：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mover accent="true"><mi>D</mi><mo>⃗</mo></mover><mo>=</mo><mi mathvariant="normal">∣</mi><mover accent="true"><mi>C</mi><mo>⃗</mo></mover><mo>⋅</mo><mover accent="true"><msub><mi>X</mi><mi>p</mi></msub><mo>⃗</mo></mover><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mo>−</mo><mover accent="true"><mi>X</mi><mo>⃗</mo></mover><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mi mathvariant="normal">∣</mi></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(1)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\vec{D}=|\vec{C}\cdot\vec{X_p}(t)-\vec{X}(t)|\tag1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9663299999999999em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.17994em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.21633em;vertical-align:-0.25em;"></span><span class="mord">∣</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.252438em;vertical-align:-0.286108em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.21633em;vertical-align:-0.25em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span><span class="mord">∣</span></span><span class="tag"><span class="strut" style="height:1.252438em;vertical-align:-0.286108em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">1</span></span><span class="mord">)</span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mover accent="true"><mi>X</mi><mo>⃗</mo></mover><mo stretchy="false">(</mo><mi>t</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo><mo>=</mo><mover accent="true"><msub><mi>X</mi><mi>p</mi></msub><mo>⃗</mo></mover><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mo>−</mo><mover accent="true"><mi>A</mi><mo>⃗</mo></mover><mo>⋅</mo><mover accent="true"><mi>D</mi><mo>⃗</mo></mover></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\vec{X}(t+1)=\vec{X_p}(t)-\vec{A}\cdot\vec{D}\tag2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.21633em;vertical-align:-0.25em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.252438em;vertical-align:-0.286108em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.9663299999999999em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">A</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.09660999999999997em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.9663299999999999em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.17994em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span></span><span class="tag"><span class="strut" style="height:1.252438em;vertical-align:-0.286108em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2</span></span><span class="mord">)</span></span></span></span></span></span></p><p>式(1)计算个体与目标间的距离，式(2)是灰狼的位置更新公式。其中，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mi>X</mi><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{X}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9663299999999999em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span></span></span></span>为位置向量，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mi>D</mi><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{D}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9663299999999999em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.17994em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span></span></span></span>为距离，t是目前的迭代代数，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mi>A</mi><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{A}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9663299999999999em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">A</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.09660999999999997em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span></span></span></span>和<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mi>C</mi><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{C}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9663299999999999em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span></span></span></span>为系数向量，计算方式如下：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mover accent="true"><mi>A</mi><mo>⃗</mo></mover><mo>=</mo><mn>2</mn><mover accent="true"><mi>a</mi><mo>⃗</mo></mover><mo>⋅</mo><mover accent="true"><msub><mi>r</mi><mn>1</mn></msub><mo>⃗</mo></mover><mo>−</mo><mover accent="true"><mi>a</mi><mo>⃗</mo></mover></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(3)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\vec{A}=2\vec{a}\cdot\vec{r_1}-\vec{a}\tag3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9663299999999999em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">A</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.09660999999999997em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.714em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">a</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.864em;vertical-align:-0.15em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.714em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">a</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span></span><span class="tag"><span class="strut" style="height:1.21633em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">3</span></span><span class="mord">)</span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mover accent="true"><mi>C</mi><mo>⃗</mo></mover><mo>=</mo><mn>2</mn><mover accent="true"><msub><mi>r</mi><mn>2</mn></msub><mo>⃗</mo></mover></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(4)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\vec{C}=2\vec{r_2}\tag4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9663299999999999em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.864em;vertical-align:-0.15em;"></span><span class="mord">2</span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="tag"><span class="strut" style="height:1.21633em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">4</span></span><span class="mord">)</span></span></span></span></span></span></p><p>其中，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mi>a</mi><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{a}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.714em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">a</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span></span></span></span>是收敛因子，随着迭代次数从2线性减小到0，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><msub><mi>r</mi><mn>1</mn></msub><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{r_1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.864em;vertical-align:-0.15em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span>和<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><msub><mi>r</mi><mn>2</mn></msub><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{r_2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.864em;vertical-align:-0.15em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span>是模长属于[0,1]的随机向量。</p><p>在模拟灰狼进行狩猎时，根据当前三个最优解所在的位置更新所有搜索单元的位置。灰狼集体狩猎时的行为定义如下：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mo fence="true">{</mo><mtable rowspacing="0.15999999999999992em" columnalign="left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mover accent="true"><msub><mi>D</mi><mi>α</mi></msub><mo>⃗</mo></mover><mo>=</mo><mi mathvariant="normal">∣</mi><mover accent="true"><msub><mi>C</mi><mn>1</mn></msub><mo>⃗</mo></mover><mo>⋅</mo><mover accent="true"><msub><mi>X</mi><mi>α</mi></msub><mo>⃗</mo></mover><mo>−</mo><mover accent="true"><mi>X</mi><mo>⃗</mo></mover><mi mathvariant="normal">∣</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mover accent="true"><msub><mi>D</mi><mi>β</mi></msub><mo>⃗</mo></mover><mo>=</mo><mi mathvariant="normal">∣</mi><mover accent="true"><msub><mi>C</mi><mn>2</mn></msub><mo>⃗</mo></mover><mo>⋅</mo><mover accent="true"><msub><mi>X</mi><mi>β</mi></msub><mo>⃗</mo></mover><mo>−</mo><mover accent="true"><mi>X</mi><mo>⃗</mo></mover><mi mathvariant="normal">∣</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mover accent="true"><msub><mi>D</mi><mi>δ</mi></msub><mo>⃗</mo></mover><mo>=</mo><mi mathvariant="normal">∣</mi><mover accent="true"><msub><mi>C</mi><mn>3</mn></msub><mo>⃗</mo></mover><mo>⋅</mo><mover accent="true"><msub><mi>X</mi><mi>δ</mi></msub><mo>⃗</mo></mover><mo>−</mo><mover accent="true"><mi>X</mi><mo>⃗</mo></mover><mi mathvariant="normal">∣</mi></mrow></mstyle></mtd></mtr></mtable></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(5)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\left\{    \begin{array}{l}        \vec{D_α}=|\vec{C_1}\cdot\vec{X_α}-\vec{X}| \\        \vec{D_β}=|\vec{C_2}\cdot\vec{X_β}-\vec{X}| \\        \vec{D_δ}=|\vec{C_3}\cdot\vec{X_δ}-\vec{X}|    \end{array}\right.\tag5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.9789899999999996em;vertical-align:-1.7394949999999998em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.49999em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎩</span></span></span><span style="top:-3.15001em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎨</span></span></span><span style="top:-4.30002em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎧</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.239495em;"><span style="top:-4.273165em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.0037em;">α</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">∣</span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.0037em;">α</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mord">∣</span></span></span><span style="top:-2.9468349999999996em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05278em;">β</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">∣</span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05278em;">β</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mord">∣</span></span></span><span style="top:-1.6205050000000003em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03785em;">δ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">∣</span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03785em;">δ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mord">∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.7394949999999998em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="tag"><span class="strut" style="height:3.9789899999999996em;vertical-align:-1.7394949999999998em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">5</span></span><span class="mord">)</span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mo fence="true">{</mo><mtable rowspacing="0.15999999999999992em" columnalign="left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mover accent="true"><msub><mi>X</mi><mn>1</mn></msub><mo>⃗</mo></mover><mo>=</mo><mover accent="true"><msub><mi>X</mi><mi>α</mi></msub><mo>⃗</mo></mover><mo>−</mo><mover accent="true"><msub><mi>A</mi><mn>1</mn></msub><mo>⃗</mo></mover><mo>⋅</mo><mover accent="true"><msub><mi>D</mi><mi>α</mi></msub><mo>⃗</mo></mover></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mover accent="true"><msub><mi>X</mi><mn>2</mn></msub><mo>⃗</mo></mover><mo>=</mo><mover accent="true"><msub><mi>X</mi><mi>β</mi></msub><mo>⃗</mo></mover><mo>−</mo><mover accent="true"><msub><mi>A</mi><mn>2</mn></msub><mo>⃗</mo></mover><mo>⋅</mo><mover accent="true"><msub><mi>D</mi><mi>β</mi></msub><mo>⃗</mo></mover></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mover accent="true"><msub><mi>X</mi><mn>3</mn></msub><mo>⃗</mo></mover><mo>=</mo><mover accent="true"><msub><mi>X</mi><mi>δ</mi></msub><mo>⃗</mo></mover><mo>−</mo><mover accent="true"><msub><mi>A</mi><mn>3</mn></msub><mo>⃗</mo></mover><mo>⋅</mo><mover accent="true"><msub><mi>D</mi><mi>δ</mi></msub><mo>⃗</mo></mover></mrow></mstyle></mtd></mtr></mtable></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(6)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\left\{    \begin{array}{l}        \vec{X_1}=\vec{X_α}-\vec{A_1}\cdot\vec{D_α} \\        \vec{X_2}=\vec{X_β}-\vec{A_2}\cdot\vec{D_β} \\        \vec{X_3}=\vec{X_δ}-\vec{A_3}\cdot\vec{D_δ}    \end{array}\right.\tag6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.9789899999999996em;vertical-align:-1.7394949999999998em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.49999em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎩</span></span></span><span style="top:-3.15001em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎨</span></span></span><span style="top:-4.30002em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎧</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.239495em;"><span style="top:-4.273165em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.0037em;">α</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.0037em;">α</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span style="top:-2.9468349999999996em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05278em;">β</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05278em;">β</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span><span style="top:-1.6205050000000003em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03785em;">δ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03785em;">δ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.7394949999999998em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="tag"><span class="strut" style="height:3.9789899999999996em;vertical-align:-1.7394949999999998em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">6</span></span><span class="mord">)</span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mover accent="true"><mi>X</mi><mo>⃗</mo></mover><mo stretchy="false">(</mo><mi>t</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><mover accent="true"><msub><mi>X</mi><mn>1</mn></msub><mo>⃗</mo></mover><mo>+</mo><mover accent="true"><msub><mi>X</mi><mn>2</mn></msub><mo>⃗</mo></mover><mo>+</mo><mover accent="true"><msub><mi>X</mi><mn>3</mn></msub><mo>⃗</mo></mover></mrow><mn>3</mn></mfrac></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(7)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\vec{X}(t+1)=\frac{\vec{X_1}+\vec{X_2}+\vec{X_3}}{3}\tag7</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.21633em;vertical-align:-0.25em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.3293299999999997em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6433299999999997em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="tag"><span class="strut" style="height:2.3293299999999997em;vertical-align:-0.686em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">7</span></span><span class="mord">)</span></span></span></span></span></span></p><p>其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><msub><mi>D</mi><mi>α</mi></msub><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{D_α}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1163299999999998em;vertical-align:-0.15em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.0037em;">α</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span>，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><msub><mi>D</mi><mi>β</mi></msub><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{D_β}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.252438em;vertical-align:-0.286108em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05278em;">β</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span>和<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><msub><mi>D</mi><mi>δ</mi></msub><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{D_δ}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1163299999999998em;vertical-align:-0.15em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03785em;">δ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span>分别表示α，β和δ与其他个体间的距离，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><msub><mi>X</mi><mi>α</mi></msub><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{X_α}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1163299999999998em;vertical-align:-0.15em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.0037em;">α</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span>，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><msub><mi>X</mi><mi>β</mi></msub><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{X_β}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.252438em;vertical-align:-0.286108em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05278em;">β</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span>和<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><msub><mi>X</mi><mi>δ</mi></msub><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{X_δ}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1163299999999998em;vertical-align:-0.15em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03785em;">δ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span>分别代表α，β和δ的当前位置，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mi>X</mi><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{X}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9663299999999999em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span></span></span></span>是当前灰狼的位置，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mi>X</mi><mo>⃗</mo></mover><mo stretchy="false">(</mo><mi>t</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\vec{X}(t+1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.21633em;vertical-align:-0.25em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span>是下一时间步即更新后灰狼的位置。<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mi>A</mi><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{A}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9663299999999999em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">A</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.09660999999999997em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span></span></span></span>和<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mi>C</mi><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{C}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9663299999999999em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span></span></span></span>为算法带来了随机性，避免陷入局部最优，当<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mrow><mi mathvariant="normal">∣</mi><mi>A</mi><mi mathvariant="normal">∣</mi></mrow><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{|A|}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.283em;vertical-align:-0.25em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.033em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">∣</span><span class="mord mathdefault">A</span><span class="mord">∣</span></span></span><span style="top:-3.319em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.25em;"><span></span></span></span></span></span></span></span></span>&lt;1时，灰狼靠近猎物，进行开发，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mrow><mi mathvariant="normal">∣</mi><mi>A</mi><mi mathvariant="normal">∣</mi></mrow><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{|A|}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.283em;vertical-align:-0.25em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.033em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">∣</span><span class="mord mathdefault">A</span><span class="mord">∣</span></span></span><span style="top:-3.319em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.25em;"><span></span></span></span></span></span></span></span></span>&gt;1时，灰狼远离猎物，进行勘探。在计算<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mi>D</mi><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{D}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9663299999999999em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.17994em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span></span></span></span>时，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mi>C</mi><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{C}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9663299999999999em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span></span></span></span>将随机强化或弱化目标对<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mi>X</mi><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{X}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9663299999999999em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span></span></span></span>的影响。灰狼位置更新示意图如图3所示。</p><p><img src="/images/gwo_3.png" alt="" /></p><center style="font-size:14px;color:#C0C0C0;">图3：灰狼位置更新示意图，引用自论文《Grey Wolf Optimizer》</center><p>灰狼优化算法的伪代码如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">初始化灰狼种群 Xi (i&#x3D;1,2,…,n)</span><br><span class="line">初始化 a, A, C</span><br><span class="line">计算每个搜索单元的适应度</span><br><span class="line">Xα&#x3D;最优搜索单元</span><br><span class="line">Xβ&#x3D;第二优搜索单元</span><br><span class="line">Xδ&#x3D;第三优搜索单元</span><br><span class="line">while (t&lt;最大迭代次数)</span><br><span class="line">  for (每个搜索单元)</span><br><span class="line">    根据公式2.7更新当前搜索单元的位置</span><br><span class="line">  end for</span><br><span class="line">  更新a, A, C</span><br><span class="line">  计算所有搜索单元的适应度</span><br><span class="line">  更新Xα，Xβ，Xδ</span><br><span class="line">  t&#x3D;t+1</span><br><span class="line">end while</span><br><span class="line">return Xα</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;灰狼优化算法&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#灰狼优化算法&quot;&gt;&lt;/a&gt; 灰狼优化算法&lt;/h1&gt;
&lt;h2 id=&quot;灰狼群体&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#灰狼群体&quot;&gt;&lt;/a&gt; 灰狼</summary>
      
    
    
    
    <category term="理论知识" scheme="http://wzw21.cn/categories/%E7%90%86%E8%AE%BA%E7%9F%A5%E8%AF%86/"/>
    
    
    <category term="智能算法" scheme="http://wzw21.cn/tags/%E6%99%BA%E8%83%BD%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>非侵入式教务系统辅助选课方法</title>
    <link href="http://wzw21.cn/2021/10/30/get-courses/"/>
    <id>http://wzw21.cn/2021/10/30/get-courses/</id>
    <published>2021-10-30T06:59:30.000Z</published>
    <updated>2021-10-30T07:09:46.463Z</updated>
    
    <content type="html"><![CDATA[<p>注意：该方法仅可用于替代手动刷新页面并选择课程，不影响选课的公平性</p><ol><li>下载安装“按键精灵”</li><li>运行软件后，在新建脚本中选择新建空白脚本</li><li>进入脚本后选择上方“普通”旁边的“源文件”，并粘贴入如下内容。</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">d &#x3D; 30000</span><br><span class="line">MoveTo 1285,376</span><br><span class="line">LeftClick 1</span><br><span class="line">Delay 1000</span><br><span class="line">MoveTo 293,538</span><br><span class="line">LeftClick 1</span><br><span class="line">Delay 1000</span><br><span class="line">MoveTo 1756, 246</span><br><span class="line">LeftClick 1</span><br><span class="line">Delay d</span><br></pre></td></tr></table></figure><p>（注意三处MoveTo后的坐标分别为“查询”按钮、查询结果中第一项课程前的勾选框，“提交”按钮的坐标位置，不同电脑按钮坐标可能不同，可用软件里的“抓抓”功能获取各个按钮的坐标并进行修改）</p><ol start="4"><li>完成脚本后保存退出</li><li>按电脑键盘上相应热键可启动或停止脚本，热键可设置</li><li>使用时需先进入“自由选课”，并在搜索框中输入想选课程的全称，然后启动脚本</li><li>使用脚本时不能使用电脑做其他事</li><li>时间设置为30s抢一次，可更改</li><li>可按顺序加入更多勾选框坐标，以实现同一时间抢多门具有相同特征的课程（例如网课）</li></ol><p>— 2019年12月</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;注意：该方法仅可用于替代手动刷新页面并选择课程，不影响选课的公平性&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;下载安装“按键精灵”&lt;/li&gt;
&lt;li&gt;运行软件后，在新建脚本中选择新建空白脚本&lt;/li&gt;
&lt;li&gt;进入脚本后选择上方“普通”旁边的“源文件”，并粘贴入如下内容。&lt;/li&gt;
&lt;/o</summary>
      
    
    
    
    <category term="操作步骤与实践" scheme="http://wzw21.cn/categories/%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%AA%A4%E4%B8%8E%E5%AE%9E%E8%B7%B5/"/>
    
    
    <category term="自动" scheme="http://wzw21.cn/tags/%E8%87%AA%E5%8A%A8/"/>
    
  </entry>
  
  <entry>
    <title>使用Python读取和播放音频文件</title>
    <link href="http://wzw21.cn/2021/10/27/play-audio-in-python/"/>
    <id>http://wzw21.cn/2021/10/27/play-audio-in-python/</id>
    <published>2021-10-27T14:40:18.000Z</published>
    <updated>2021-10-27T15:42:06.514Z</updated>
    
    <content type="html"><![CDATA[<p>暂时记录两种方式，分别为使用“pydub+ffmpeg+simpleaudio”和“librosa+simpleaudio”，推荐第二种</p><h1 id="使用pydub库读取音频-simpleaudio库播放音频"><a class="markdownIt-Anchor" href="#使用pydub库读取音频-simpleaudio库播放音频"></a> 使用pydub库读取音频、simpleaudio库播放音频</h1><h2 id="环境配置"><a class="markdownIt-Anchor" href="#环境配置"></a> 环境配置</h2><p>Windows10环境下</p><ol><li><p>pip install pydub</p></li><li><p>pip install simpleaudio</p></li><li><p>安装ffmpeg<br />从https://www.gyan.dev/ffmpeg/builds/下载ffmpeg（压缩包），解压后将bin文件所在位置加入Path环境变量，并在相应程序中添加一行代码。具体操作参考以下三个链接：<br /><a href="https://blog.csdn.net/qq_38161040/article/details/91654183">https://blog.csdn.net/qq_38161040/article/details/91654183</a><br /><a href="https://cloud.tencent.com/developer/article/1702673">https://cloud.tencent.com/developer/article/1702673</a><br /><a href="https://www.freesion.com/article/6184901177/">https://www.freesion.com/article/6184901177/</a></p></li><li><p>注意该步骤不是用pip安装</p></li><li><p>重启计算机！（重要）</p></li></ol><h2 id="代码示例"><a class="markdownIt-Anchor" href="#代码示例"></a> 代码示例</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pydub <span class="keyword">import</span> AudioSegment</span><br><span class="line"><span class="keyword">import</span> simpleaudio</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">play_data_from_pydub</span>(<span class="params">audio_segment</span>):</span></span><br><span class="line">  player = simpleaudio.play_buffer(</span><br><span class="line">​    audio_segment.raw_data,</span><br><span class="line">​    num_channels=audio_segment.channels,</span><br><span class="line">​    bytes_per_sample=audio_segment.sample_width,</span><br><span class="line">​    sample_rate=audio_segment.frame_rate</span><br><span class="line">  )</span><br><span class="line">  <span class="keyword">try</span>:</span><br><span class="line">​    player.wait_done()</span><br><span class="line">  <span class="keyword">except</span> KeyboardInterrupt:</span><br><span class="line">​    player.stop()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    audio_path = <span class="string">r&#x27;audio\test.mp3&#x27;</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (audio_path[<span class="number">-3</span>:] == <span class="string">&#x27;wav&#x27;</span>): audio_seg = AudioSegment.from_file(audio_path, <span class="string">&#x27;wav&#x27;</span>)</span><br><span class="line">    <span class="keyword">elif</span> (audio_path[<span class="number">-3</span>:] == <span class="string">&#x27;mp3&#x27;</span>): audio_seg = AudioSegment.from_file(audio_path, <span class="string">&#x27;mp3&#x27;</span>)</span><br><span class="line">    play_data_from_pydub(audio_seg)</span><br></pre></td></tr></table></figure><h1 id="使用librosa库读取音频-simpleaudio库播放音频"><a class="markdownIt-Anchor" href="#使用librosa库读取音频-simpleaudio库播放音频"></a> 使用librosa库读取音频、simpleaudio库播放音频</h1><h2 id="环境配置-2"><a class="markdownIt-Anchor" href="#环境配置-2"></a> 环境配置</h2><p>Windows10环境下</p><ol><li>pip install librosa</li><li>pip install simpleaudio</li></ol><h2 id="代码示例-2"><a class="markdownIt-Anchor" href="#代码示例-2"></a> 代码示例</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> simpleaudio</span><br><span class="line"><span class="keyword">import</span> librosa</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">play_data_from_librosa</span>(<span class="params">y, sr</span>):</span></span><br><span class="line">    player = simpleaudio.play_buffer(</span><br><span class="line">        y,</span><br><span class="line">        num_channels=<span class="number">1</span>,</span><br><span class="line">        bytes_per_sample=<span class="number">4</span>,</span><br><span class="line">        sample_rate=sr</span><br><span class="line">    )</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        player.wait_done()</span><br><span class="line">    <span class="keyword">except</span> KeyboardInterrupt:</span><br><span class="line">        player.stop()</span><br><span class="line">        </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    audio_path = <span class="string">r&#x27;audio\test.mp3&#x27;</span></span><br><span class="line">    </span><br><span class="line">y, sr = librosa.load(audio_path)</span><br><span class="line">    play_data_from_librosa(y, sr)</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;暂时记录两种方式，分别为使用“pydub+ffmpeg+simpleaudio”和“librosa+simpleaudio”，推荐第二种&lt;/p&gt;
&lt;h1 id=&quot;使用pydub库读取音频-simpleaudio库播放音频&quot;&gt;&lt;a class=&quot;markdownIt-Anch</summary>
      
    
    
    
    <category term="操作步骤与实践" scheme="http://wzw21.cn/categories/%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%AA%A4%E4%B8%8E%E5%AE%9E%E8%B7%B5/"/>
    
    
    <category term="MIR" scheme="http://wzw21.cn/tags/MIR/"/>
    
    <category term="Python" scheme="http://wzw21.cn/tags/Python/"/>
    
  </entry>
  
  <entry>
    <title>Git使用方法</title>
    <link href="http://wzw21.cn/2021/10/17/git-use/"/>
    <id>http://wzw21.cn/2021/10/17/git-use/</id>
    <published>2021-10-17T15:19:08.000Z</published>
    <updated>2021-10-27T14:43:40.841Z</updated>
    
    <content type="html"><![CDATA[<p>将代码上传至Github的方法以及提升下载速度的方法</p><h1 id="向新建仓库首次上传代码"><a class="markdownIt-Anchor" href="#向新建仓库首次上传代码"></a> 向新建仓库首次上传代码</h1><h2 id="注意事项"><a class="markdownIt-Anchor" href="#注意事项"></a> 注意事项</h2><p>2020年10月1日起，github默认主分支从master更名为main</p><p>在使用git前应使用指令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global init.defaultBranch main</span><br></pre></td></tr></table></figure><p>将本地默认分支设置为main</p><h2 id="上传步骤"><a class="markdownIt-Anchor" href="#上传步骤"></a> 上传步骤</h2><p>在当前文件夹下初始化 git</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br></pre></td></tr></table></figure><p>将文件添加至缓存区，&quot;.&quot;代表文件夹下的全部内容（新建及修改过的文件）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git add . 或 git add 文件名</span><br></pre></td></tr></table></figure><p>将缓存区的内容提交到本地仓库，“xxx&quot;是此次提交内容的注释，例如&quot;First commit”</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -m <span class="string">&quot;xxx&quot;</span></span><br></pre></td></tr></table></figure><p>查看当前状态</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git status</span><br></pre></td></tr></table></figure><p>将本地仓库与远程仓库连接</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote add origin git@github.com:xxx/xxx.git</span><br></pre></td></tr></table></figure><p>如果远程仓库为空（不含README等初始文件），使用如下指令上传</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push -u origin main</span><br></pre></td></tr></table></figure><p>否则使用以下指令上传</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git pull --rebase origin main</span><br><span class="line">git push origin main </span><br></pre></td></tr></table></figure><h2 id="非首次上传"><a class="markdownIt-Anchor" href="#非首次上传"></a> 非首次上传</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br><span class="line"></span><br><span class="line">git commit -m <span class="string">&quot;xxx&quot;</span></span><br><span class="line"></span><br><span class="line">git push origin main</span><br></pre></td></tr></table></figure><h1 id="提升github下载速度的方法"><a class="markdownIt-Anchor" href="#提升github下载速度的方法"></a> 提升Github下载速度的方法</h1><h2 id="手动绑定cdn域名与ip地址"><a class="markdownIt-Anchor" href="#手动绑定cdn域名与ip地址"></a> 手动绑定CDN域名与IP地址</h2><ol><li>访问 <a href="http://github.global.ssl.fastly.net.ipaddress.com/#ipinfo">http://github.global.ssl.fastly.net.ipaddress.com/#ipinfo</a><br />获取ip地址1 <a href="http://xxx.xxx.xxx.xxx">xxx.xxx.xxx.xxx</a></li><li>访问 <a href="http://github.com.ipaddress.com/#ipinfo">http://github.com.ipaddress.com/#ipinfo</a><br />获取ip地址2 yyy.yyy.yyy.yyy</li><li>在C:\Windows\System32\drivers\etc\hosts 文件末尾添加以下两行<br /><a href="http://xxx.xxx.xxx.xxx">xxx.xxx.xxx.xxx</a> <a href="http://github.global.ssl.fastly.net">http://github.global.ssl.fastly.net</a><br />yyy.yyy.yyy.yyy <a href="http://github.com">http://github.com</a></li><li>最后打开CMD<br />输入ipconfig /flushdns 刷新DNS即可</li></ol><h2 id="clone至码云下载"><a class="markdownIt-Anchor" href="#clone至码云下载"></a> Clone至码云下载</h2><h1 id="学习git的使用"><a class="markdownIt-Anchor" href="#学习git的使用"></a> 学习git的使用</h1><p><a href="https://learngitbranching.js.org/?NODEMO=&amp;locale=zh_CN">https://learngitbranching.js.org/?NODEMO=&amp;locale=zh_CN</a></p><p>在左边终端中输入levels即可进行关卡选择</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;将代码上传至Github的方法以及提升下载速度的方法&lt;/p&gt;
&lt;h1 id=&quot;向新建仓库首次上传代码&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#向新建仓库首次上传代码&quot;&gt;&lt;/a&gt; 向新建仓库首次上传代码&lt;/h1&gt;
&lt;h2 id=&quot;注意事项&quot;&gt;</summary>
      
    
    
    
    <category term="操作步骤与实践" scheme="http://wzw21.cn/categories/%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%AA%A4%E4%B8%8E%E5%AE%9E%E8%B7%B5/"/>
    
    
    <category term="Github" scheme="http://wzw21.cn/tags/Github/"/>
    
  </entry>
  
  <entry>
    <title>算法竞赛部分算法（二）算法模板</title>
    <link href="http://wzw21.cn/2021/07/26/algorithms2/"/>
    <id>http://wzw21.cn/2021/07/26/algorithms2/</id>
    <published>2021-07-26T11:35:07.000Z</published>
    <updated>2022-02-04T10:11:38.635Z</updated>
    
    <content type="html"><![CDATA[<h1 id="常用算法模板cc"><a class="markdownIt-Anchor" href="#常用算法模板cc"></a> 常用算法模板（C/C++）</h1><p>整理于 NOIP2016 前 - Written by WZW</p><h2 id="定义部分"><a class="markdownIt-Anchor" href="#定义部分"></a> 定义部分</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXN 10005</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXM 10005</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> n,m;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">edge_</span> &#123;</span><span class="keyword">int</span> to,next,w;&#125;edge[MAXM*<span class="number">2</span>];</span><br><span class="line"><span class="keyword">int</span> first[MAXN],et;</span><br><span class="line"><span class="keyword">int</span> dis[MAXN],vis[MAXN];</span><br><span class="line"><span class="keyword">int</span> low[MAXN],dfn[MAXN],tim,belong[MAXN],now;</span><br><span class="line"><span class="keyword">int</span> p[MAXN],eu[MAXN];<span class="keyword">bool</span> f[MAXN];</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">bian_</span> &#123;</span><span class="keyword">int</span> u,v,w;&#125;bian[MAXM];</span><br><span class="line"><span class="keyword">int</span> fa[MAXN];</span><br><span class="line"><span class="keyword">int</span> root,from[MAXN];</span><br><span class="line"><span class="keyword">int</span> rd[MAXN];</span><br><span class="line"><span class="keyword">int</span> anc[MAXN][<span class="number">16</span>],deep[MAXN];</span><br><span class="line"><span class="keyword">int</span> A[MAXN],B[MAXN],cnt;</span><br><span class="line"><span class="built_in">queue</span> &lt;<span class="keyword">int</span>&gt; Q;</span><br><span class="line"><span class="built_in">stack</span> &lt;<span class="keyword">int</span>&gt; S;</span><br><span class="line"><span class="built_in">priority_queue</span> &lt;<span class="keyword">int</span>&gt; Q1;</span><br><span class="line"><span class="built_in">priority_queue</span> &lt;<span class="keyword">int</span>, <span class="built_in">vector</span> &lt;<span class="keyword">int</span>&gt;, greater &lt;<span class="keyword">int</span>&gt; &gt; Q2;</span><br><span class="line"><span class="comment">//优先队列重载运算符见Dijkstra算法</span></span><br></pre></td></tr></table></figure><h2 id="图论"><a class="markdownIt-Anchor" href="#图论"></a> 图论</h2><h3 id="存图"><a class="markdownIt-Anchor" href="#存图"></a> 存图</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> u,<span class="keyword">int</span> v,<span class="keyword">int</span> w)</span> <span class="comment">//邻接表（前向星）</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">et++;</span><br><span class="line">edge[et].to=v;</span><br><span class="line">edge[et].w=w;</span><br><span class="line">edge[et].next=first[u];</span><br><span class="line">first[u]=et;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">get_graph</span><span class="params">(<span class="keyword">int</span> o)</span> <span class="comment">//1 无向图 2 有向图  3 边集数组 </span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;n&gt;&gt;m;</span><br><span class="line"><span class="keyword">int</span> i,j,u,v,w;</span><br><span class="line"><span class="keyword">if</span> (o==<span class="number">1</span>||o==<span class="number">2</span>||o==<span class="number">4</span>||o==<span class="number">5</span>) </span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (i=<span class="number">1</span>;i&lt;=m;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;u&gt;&gt;v&gt;&gt;w;</span><br><span class="line">add(u,v,w);</span><br><span class="line"><span class="keyword">if</span> (o==<span class="number">1</span>) add(v,u,w);</span><br><span class="line"><span class="keyword">if</span> (o==<span class="number">4</span>) rd[v]++;</span><br><span class="line">&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (o==<span class="number">3</span>)</span><br><span class="line">    &#123;</span><br><span class="line">    <span class="keyword">for</span> (i=<span class="number">1</span>;i&lt;=m;i++)</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;bian[i].u&gt;&gt;bian[i].v&gt;&gt;bian[i].w;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="spfa最短路"><a class="markdownIt-Anchor" href="#spfa最短路"></a> SPFA（最短路）</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SPFA</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">get_graph(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">int</span> i,j,u,v,w;</span><br><span class="line"><span class="built_in">memset</span>(dis,<span class="number">0x7f</span>,<span class="keyword">sizeof</span>(dis));</span><br><span class="line"><span class="built_in">memset</span>(vis,<span class="number">0</span>,<span class="keyword">sizeof</span>(vis));</span><br><span class="line">dis[<span class="number">1</span>]=<span class="number">0</span>;</span><br><span class="line">Q.push(<span class="number">1</span>);</span><br><span class="line">vis[<span class="number">1</span>]=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span> (!Q.empty())</span><br><span class="line">&#123;</span><br><span class="line">u=Q.front();</span><br><span class="line">Q.pop();</span><br><span class="line">vis[u]=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> b=first[u];</span><br><span class="line"><span class="keyword">while</span> (b!=<span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">v=edge[b].to;</span><br><span class="line">w=edge[b].w;</span><br><span class="line"><span class="keyword">if</span> (dis[u]+w&lt;dis[v])</span><br><span class="line">&#123;</span><br><span class="line">dis[v]=dis[u]+w;</span><br><span class="line"><span class="keyword">if</span> (vis[v]==<span class="number">0</span>) </span><br><span class="line">&#123;</span><br><span class="line">Q.push(v);</span><br><span class="line">vis[v]=<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">b=edge[b].next;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;dis[i]&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="dijkstra堆优化最短路"><a class="markdownIt-Anchor" href="#dijkstra堆优化最短路"></a> Dijkstra+堆优化（最短路）</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">int</span> dis,id;</span><br><span class="line"><span class="keyword">bool</span> <span class="keyword">operator</span> &lt; (<span class="keyword">const</span> node &amp;x) <span class="keyword">const</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> x.dis &lt; dis;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">priority_queue</span> &lt;node&gt; Q3;</span><br><span class="line"><span class="keyword">bool</span> blue[MAXN];</span><br><span class="line"><span class="keyword">int</span> dist[MAXN];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Dijkstra</span><span class="params">(<span class="keyword">int</span> s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        dist[i]=<span class="number">1e10</span>;</span><br><span class="line">dist[s]=<span class="number">0</span>;</span><br><span class="line">node tmp;</span><br><span class="line">tmp.dis=<span class="number">0</span>;tmp.id=s;</span><br><span class="line">Q3.push(tmp);</span><br><span class="line"><span class="keyword">int</span> u,v,b;</span><br><span class="line">    <span class="keyword">while</span>(!Q3.empty())</span><br><span class="line">    &#123;</span><br><span class="line">    tmp=Q3.top();</span><br><span class="line">u=tmp.id;</span><br><span class="line">Q3.pop();</span><br><span class="line">    <span class="keyword">if</span> (blue[u]) <span class="keyword">continue</span>;</span><br><span class="line">    blue[u]=<span class="literal">true</span>;</span><br><span class="line">    b=first[u];</span><br><span class="line">    <span class="keyword">while</span> (b)</span><br><span class="line">    &#123;</span><br><span class="line">    v=edge[b].to;</span><br><span class="line">    <span class="keyword">if</span> (dist[u]+edge[b].w&lt;dist[v])</span><br><span class="line">    &#123;</span><br><span class="line">    dist[v]=dist[u]+edge[b].w;</span><br><span class="line">    tmp.dis=dist[v];tmp.id=v;</span><br><span class="line">    Q3.push(tmp);</span><br><span class="line">    &#125;</span><br><span class="line">    b=edge[b].next;</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="kruskal最小生成树"><a class="markdownIt-Anchor" href="#kruskal最小生成树"></a> Kruskal（最小生成树）</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp1</span><span class="params">(bian_ x,bian_ y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x.w&lt;y.w;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (fa[x]!=x) fa[x]=find(fa[x]);</span><br><span class="line"><span class="keyword">return</span> fa[x];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">unionn</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> x1=find(x),y1=find(y);</span><br><span class="line"><span class="keyword">if</span> (x1!=y1) fa[x1]=y1;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">kruskal</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">get_graph(<span class="number">3</span>);</span><br><span class="line"><span class="keyword">int</span> i,j;</span><br><span class="line">sort(bian+<span class="number">1</span>,bian+<span class="number">1</span>+m,cmp1);</span><br><span class="line"><span class="keyword">int</span> m1=<span class="number">0</span>,mst=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">fa[i]=i;</span><br><span class="line"><span class="keyword">for</span> (i=<span class="number">1</span>;i&lt;=m;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (find(bian[i].u)!=find(bian[i].v))</span><br><span class="line">&#123;</span><br><span class="line">unionn(bian[i].u,bian[i].v);</span><br><span class="line">mst+=bian[i].w;</span><br><span class="line">m1++;</span><br><span class="line"><span class="keyword">if</span> (m1==n<span class="number">-1</span>) <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;mst;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="tarjan强连通分量"><a class="markdownIt-Anchor" href="#tarjan强连通分量"></a> Tarjan（强连通分量）</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">tarjan</span><span class="params">(<span class="keyword">int</span> u)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">dfn[u]=low[u]=++tim;</span><br><span class="line">S.push(u);</span><br><span class="line"><span class="keyword">int</span> v=<span class="number">0</span>;</span><br><span class="line">vis[u]=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">int</span> b=first[u];</span><br><span class="line"><span class="keyword">while</span> (b!=<span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">v=edge[b].to;</span><br><span class="line"><span class="keyword">if</span> (dfn[v]==<span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">tarjan(v);</span><br><span class="line">low[u]=min(low[u],low[v]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (vis[v]) low[u]=min(low[u],dfn[v]);</span><br><span class="line">b=edge[b].next;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (dfn[u]==low[u])</span><br><span class="line">&#123;</span><br><span class="line">now++;</span><br><span class="line"><span class="keyword">do</span>&#123;</span><br><span class="line">v=S.top();</span><br><span class="line">S.pop();</span><br><span class="line">belong[v]=now;</span><br><span class="line">vis[v]=<span class="number">0</span>;</span><br><span class="line">&#125;<span class="keyword">while</span> (u!=v);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">scc</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">memset</span>(vis,<span class="number">0</span>,<span class="keyword">sizeof</span>(vis));</span><br><span class="line">get_graph(<span class="number">2</span>);</span><br><span class="line">tarjan(<span class="number">1</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;belong[i]&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="hungary二分图匹配"><a class="markdownIt-Anchor" href="#hungary二分图匹配"></a> Hungary（二分图匹配）</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">match</span><span class="params">(<span class="keyword">int</span> u)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> b=first[u];</span><br><span class="line"><span class="keyword">while</span> (b!=<span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">int</span> v=edge[b].to;</span><br><span class="line"><span class="keyword">if</span> (vis[v]!=root)</span><br><span class="line">&#123;</span><br><span class="line">vis[v]=root;</span><br><span class="line"><span class="keyword">if</span> (!from[v]||match(from[v]))</span><br><span class="line">&#123;</span><br><span class="line">from[v]=u;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">b=edge[b].next;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">hungary</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> x,y,ans=<span class="number">0</span>;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;x&gt;&gt;y;</span><br><span class="line">get_graph(<span class="number">1</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=x;i++)</span><br><span class="line">&#123;</span><br><span class="line">  root=i;</span><br><span class="line">  <span class="keyword">if</span> (match(i)==<span class="number">1</span>)</span><br><span class="line">  ans++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="拓扑排序"><a class="markdownIt-Anchor" href="#拓扑排序"></a> 拓扑排序</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">tuopu</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">get_graph(<span class="number">4</span>);</span><br><span class="line"><span class="keyword">int</span> i,j,u,v;</span><br><span class="line"><span class="keyword">for</span> (i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line"><span class="keyword">if</span> (rd[i]==<span class="number">0</span>) S.push(i);</span><br><span class="line"><span class="keyword">while</span> (!S.empty())</span><br><span class="line">&#123;</span><br><span class="line">u=S.top();</span><br><span class="line">S.pop();</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;u&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line"><span class="keyword">int</span> b=first[u];</span><br><span class="line"><span class="keyword">while</span> (b)</span><br><span class="line">&#123;</span><br><span class="line">v=edge[b].to;</span><br><span class="line">rd[v]--;</span><br><span class="line"><span class="keyword">if</span> (rd[v]==<span class="number">0</span>) S.push(v);</span><br><span class="line">b=edge[b].next;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="数论"><a class="markdownIt-Anchor" href="#数论"></a> 数论</h2><h3 id="线筛求素数与欧拉函数"><a class="markdownIt-Anchor" href="#线筛求素数与欧拉函数"></a> 线筛（求素数与欧拉函数）</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">prime</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> i,j,pi=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span> (i=<span class="number">2</span>;i&lt;MAXN;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (f[i]==<span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">p[pi]=i;</span><br><span class="line">pi++;</span><br><span class="line">eu[i]=i<span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (j=<span class="number">1</span>;j&lt;pi&amp;&amp;i*p[j]&lt;MAXN;j++)</span><br><span class="line">  &#123;</span><br><span class="line">  f[i*p[j]]=<span class="literal">true</span>;</span><br><span class="line">  <span class="keyword">if</span> (i%p[j]==<span class="number">0</span>)</span><br><span class="line">  &#123;</span><br><span class="line">     eu[i*p[j]]=eu[i]*p[j];</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">  &#125;</span><br><span class="line">    <span class="keyword">else</span> eu[i*p[j]]=eu[i]*(p[j]<span class="number">-1</span>);</span><br><span class="line">      &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (i=<span class="number">1</span>;i&lt;=<span class="number">1000</span>;i++)</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;p[i]&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="快速幂"><a class="markdownIt-Anchor" href="#快速幂"></a> 快速幂</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">ksm</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> a,b,c;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;a&gt;&gt;b&gt;&gt;c;</span><br><span class="line"><span class="keyword">int</span> ans=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span> (b!=<span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (b%<span class="number">2</span>!=<span class="number">0</span>) ans=ans*a%c;</span><br><span class="line">a=a*a%c;</span><br><span class="line">b/=<span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="扩展欧几里得"><a class="markdownIt-Anchor" href="#扩展欧几里得"></a> 扩展欧几里得</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">e_gcd</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b,<span class="keyword">int</span> &amp;x,<span class="keyword">int</span> &amp;y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (b==<span class="number">0</span>) </span><br><span class="line">&#123;</span><br><span class="line">x=<span class="number">1</span>;</span><br><span class="line">y=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> ans=e_gcd(b,a%b,x,y);</span><br><span class="line"><span class="keyword">int</span> t=x;</span><br><span class="line">x=y;</span><br><span class="line">y=t-a/b*y;</span><br><span class="line"><span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">exgcd</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> a,b,x,y,gcd;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;a&gt;&gt;b;</span><br><span class="line">gcd=e_gcd(a,b,x,y);</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;gcd&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;x&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;y&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;(x%b+b)%b&lt;&lt;<span class="built_in">endl</span>;<span class="comment">//gcd(a,b)=1时,x是a关于b的逆元</span></span><br><span class="line"><span class="comment">//除以一个数取模等于乘以这个数的逆元取模。 </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="树"><a class="markdownIt-Anchor" href="#树"></a> 树</h2><h3 id="lca最近公共祖先"><a class="markdownIt-Anchor" href="#lca最近公共祖先"></a> LCA（最近公共祖先）</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> u,<span class="keyword">int</span> s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> b=first[u];</span><br><span class="line">deep[u]=s;</span><br><span class="line"><span class="keyword">while</span> (b!=<span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">int</span> v=edge[b].to;</span><br><span class="line">dfs(v,s+<span class="number">1</span>);</span><br><span class="line">anc[v][<span class="number">0</span>]=u;</span><br><span class="line">b=edge[b].next;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getlca</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> i,j,k;</span><br><span class="line"><span class="keyword">if</span> (deep[a]&lt;deep[b]) swap(a,b);</span><br><span class="line"><span class="keyword">for</span> (k=<span class="built_in">log</span>(n)/<span class="built_in">log</span>(<span class="number">2</span>)+<span class="number">1</span>;k&gt;=<span class="number">0</span>;k--)</span><br><span class="line">  <span class="keyword">if</span> (deep[a]-(<span class="number">1</span>&lt;&lt;k)&gt;=deep[b])</span><br><span class="line">a=anc[a][k];</span><br><span class="line"><span class="keyword">if</span> (a==b) <span class="keyword">return</span> a;</span><br><span class="line"><span class="keyword">for</span> (j=<span class="built_in">log</span>(n)/<span class="built_in">log</span>(<span class="number">2</span>)+<span class="number">1</span>;j&gt;=<span class="number">0</span>;j--)</span><br><span class="line">  <span class="keyword">if</span> (anc[a][j]!=anc[b][j])</span><br><span class="line">  &#123;</span><br><span class="line">  a=anc[a][j];</span><br><span class="line">  b=anc[b][j];</span><br><span class="line">  &#125;</span><br><span class="line"><span class="keyword">return</span> anc[a][<span class="number">0</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">lca</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">get_graph(<span class="number">4</span>);</span><br><span class="line"><span class="keyword">int</span> i,j,k;</span><br><span class="line"><span class="keyword">for</span> (i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line"><span class="keyword">if</span> (rd[i]==<span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">dfs(i,<span class="number">0</span>);</span><br><span class="line"><span class="keyword">for</span> (j=<span class="number">1</span>;j&lt;=<span class="built_in">log</span>(n)/<span class="built_in">log</span>(<span class="number">2</span>)+<span class="number">1</span>;j++)</span><br><span class="line">  <span class="keyword">for</span> (k=<span class="number">1</span>;k&lt;=n;k++)</span><br><span class="line">anc[k][j]=anc[anc[k][j<span class="number">-1</span>]][j<span class="number">-1</span>];</span><br><span class="line"><span class="keyword">int</span> x,y;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;x&gt;&gt;y;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;getlca(x,y);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="线段树"><a class="markdownIt-Anchor" href="#线段树"></a> 线段树</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxn 200002</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> lson l, mid, o &lt;&lt; 1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rson mid + 1, r, o &lt;&lt; 1 | 1</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span> </span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> sum,lazy;</span><br><span class="line">&#125; T[maxn&lt;&lt;<span class="number">2</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pushup</span><span class="params">(<span class="keyword">int</span> o)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    T[o].sum=T[o&lt;&lt;<span class="number">1</span>].sum+T[o&lt;&lt;<span class="number">1</span>|<span class="number">1</span>].sum;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pushdown</span><span class="params">(<span class="keyword">int</span> l,<span class="keyword">int</span> r,<span class="keyword">int</span> o)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> mid=(l+r)&gt;&gt;<span class="number">1</span>;</span><br><span class="line">    T[o&lt;&lt;<span class="number">1</span>].sum+=T[o].lazy*(mid-l+<span class="number">1</span>);</span><br><span class="line">    T[o&lt;&lt;<span class="number">1</span>|<span class="number">1</span>].sum+=T[o].lazy*(r-mid);</span><br><span class="line">    T[o&lt;&lt;<span class="number">1</span>].lazy+=T[o].lazy;</span><br><span class="line">    T[o&lt;&lt;<span class="number">1</span>|<span class="number">1</span>].lazy+=T[o].lazy;</span><br><span class="line">    T[o].lazy=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(<span class="keyword">int</span> l,<span class="keyword">int</span> r,<span class="keyword">int</span> o)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l==r) </span><br><span class="line">&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;T[o].sum);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> mid=(l+r)&gt;&gt;<span class="number">1</span>;</span><br><span class="line">    build(lson);</span><br><span class="line">    build(rson);</span><br><span class="line">    pushup(o);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> L,<span class="keyword">int</span> R,<span class="keyword">int</span> V,<span class="keyword">int</span> l,<span class="keyword">int</span> r,<span class="keyword">int</span> o)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l==L&amp;&amp;r==R) </span><br><span class="line">&#123;</span><br><span class="line">        T[o].lazy+=V;</span><br><span class="line">        T[o].sum+=V*(r-l+<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> mid=(l+r)&gt;&gt;<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(T[o].lazy) pushdown(l,r,o);</span><br><span class="line">    <span class="keyword">if</span>(R&lt;=mid) update(L,R,V,lson);</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(L&gt;mid) update(L,R,V,rson);</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        update(L,mid,V,lson);</span><br><span class="line">        update(mid+<span class="number">1</span>,R,V,rson);</span><br><span class="line">    &#125;</span><br><span class="line">    pushup(o);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> L,<span class="keyword">int</span> R,<span class="keyword">int</span> l,<span class="keyword">int</span> r,<span class="keyword">int</span> o)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l==L&amp;&amp;R==r)</span><br><span class="line">        <span class="keyword">return</span> T[o].sum;</span><br><span class="line">    <span class="keyword">int</span> mid=(l+r)&gt;&gt;<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(T[o].lazy) pushdown(l,r,o);</span><br><span class="line">    <span class="keyword">if</span>(R&lt;=mid) <span class="keyword">return</span> query(L,R,lson);</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(L&gt;mid) <span class="keyword">return</span> query(L,R,rson);</span><br><span class="line">    <span class="keyword">return</span> query(L,mid,lson)+query(mid+<span class="number">1</span>,R,rson);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="排序"><a class="markdownIt-Anchor" href="#排序"></a> 排序</h2><h3 id="归并排序"><a class="markdownIt-Anchor" href="#归并排序"></a> 归并排序</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">merge_sort</span><span class="params">(<span class="keyword">int</span> l,<span class="keyword">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(l==r)<span class="keyword">return</span>;</span><br><span class="line"><span class="keyword">int</span> m=(l+r)/<span class="number">2</span>;</span><br><span class="line">merge_sort(l,m);</span><br><span class="line">merge_sort(m+<span class="number">1</span>,r);</span><br><span class="line"><span class="keyword">int</span> i=l,j=m+<span class="number">1</span>,p=l;</span><br><span class="line"><span class="keyword">while</span>(i&lt;=m&amp;&amp;j&lt;=r)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(A[i]&lt;=A[j])</span><br><span class="line">&#123;</span><br><span class="line">B[p]=A[i];p++;i++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">B[p]=A[j];p++;j++;</span><br><span class="line">cnt+=m-i+<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">while</span>(i&lt;=m) &#123;B[p]=A[i];i++;p++;&#125;</span><br><span class="line"><span class="keyword">while</span>(j&lt;=r) &#123;B[p]=A[j];j++;p++;&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> k=l;k&lt;=r;k++) A[k]=B[k];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">merge</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line"><span class="keyword">int</span> i,j;</span><br><span class="line"><span class="keyword">for</span> (i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;A[i];</span><br><span class="line">merge_sort(<span class="number">1</span>,n);</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;cnt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="快速排序"><a class="markdownIt-Anchor" href="#快速排序"></a> 快速排序</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">qsort</span><span class="params">(<span class="keyword">int</span> *a,<span class="keyword">int</span> start,<span class="keyword">int</span> end)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (start&gt;=end) <span class="keyword">return</span>;</span><br><span class="line"><span class="keyword">int</span> i=start,j=end,key=a[start];</span><br><span class="line"><span class="keyword">while</span> (i&lt;j)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">while</span> (i&lt;j &amp;&amp; a[j]&gt;=key) j--;</span><br><span class="line">a[i]=a[j];</span><br><span class="line"><span class="keyword">while</span> (i&lt;j &amp;&amp; a[i]&lt;key) i++;</span><br><span class="line">a[j]=a[i];</span><br><span class="line">&#125;</span><br><span class="line">a[i]=key;</span><br><span class="line">qsort(a,start,i<span class="number">-1</span>);</span><br><span class="line">qsort(a,i+<span class="number">1</span>,end);</span><br><span class="line">&#125;</span><br><span class="line">qsort(a,<span class="number">1</span>,n);</span><br><span class="line"><span class="comment">//该代码块与定义部分无关</span></span><br></pre></td></tr></table></figure><h2 id="高精度"><a class="markdownIt-Anchor" href="#高精度"></a> 高精度</h2><h3 id="高精度乘法"><a class="markdownIt-Anchor" href="#高精度乘法"></a> 高精度乘法</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">hp <span class="title">cheng</span><span class="params">(hp a,hp b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">hp c;</span><br><span class="line"><span class="built_in">memset</span>(c.w,<span class="number">0</span>,<span class="keyword">sizeof</span>(c.w));</span><br><span class="line">c.w[<span class="number">0</span>]=a.w[<span class="number">0</span>]+b.w[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=a.w[<span class="number">0</span>];i++)</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=b.w[<span class="number">0</span>];j++)</span><br><span class="line">    &#123;</span><br><span class="line">      c.w[i+j<span class="number">-1</span>]+=a.w[i]*b.w[j];</span><br><span class="line">      c.w[i+j]+=c.w[i+j<span class="number">-1</span>]/<span class="number">10</span>;</span><br><span class="line">      c.w[i+j<span class="number">-1</span>]%=<span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">while</span> (c.w[c.w[<span class="number">0</span>]]==<span class="number">0</span>&amp;&amp;c.w[<span class="number">0</span>]&gt;<span class="number">1</span>)</span><br><span class="line">  c.w[<span class="number">0</span>]--;</span><br><span class="line"><span class="keyword">return</span> c;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="对拍bat"><a class="markdownIt-Anchor" href="#对拍bat"></a> 对拍（.bat）</h2><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"><span class="keyword">for</span> /l <span class="variable">%%i</span> <span class="keyword">in</span> (<span class="number">1</span>,<span class="number">1</span>,<span class="number">100</span>) <span class="keyword">do</span> (</span><br><span class="line">     data.exe <span class="variable">%%i</span> &gt; ab.<span class="keyword">in</span></span><br><span class="line">     ::<span class="built_in">type</span> ab.<span class="keyword">in</span></span><br><span class="line">     ab.exe &lt; ab.<span class="keyword">in</span> &gt; ab.out</span><br><span class="line">     ab_baoli.exe &lt; ab.<span class="keyword">in</span> &gt; ab_baoli.out</span><br><span class="line">     fc ab.out ab_baoli.out &gt;<span class="built_in">nul</span></span><br><span class="line">     <span class="keyword">if</span> <span class="keyword">not</span> <span class="keyword">errorlevel</span> <span class="number">1</span> ( <span class="built_in">echo</span> AC ) <span class="keyword">else</span> ( <span class="keyword">goto</span> wa )</span><br><span class="line">)</span><br><span class="line"><span class="keyword">goto</span> end</span><br><span class="line">:wa (</span><br><span class="line"><span class="built_in">echo</span> WA</span><br><span class="line"><span class="built_in">type</span> ab.<span class="keyword">in</span></span><br><span class="line">)</span><br><span class="line"><span class="built_in">pause</span></span><br><span class="line">:end</span><br><span class="line"><span class="built_in">pause</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;常用算法模板cc&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#常用算法模板cc&quot;&gt;&lt;/a&gt; 常用算法模板（C/C++）&lt;/h1&gt;
&lt;p&gt;整理于 NOIP2016 前 - Written by WZW&lt;/p&gt;
&lt;h2 id=&quot;定义部分&quot;</summary>
      
    
    
    
    <category term="经验与总结" scheme="http://wzw21.cn/categories/%E7%BB%8F%E9%AA%8C%E4%B8%8E%E6%80%BB%E7%BB%93/"/>
    
    <category term="算法" scheme="http://wzw21.cn/categories/%E7%BB%8F%E9%AA%8C%E4%B8%8E%E6%80%BB%E7%BB%93/%E7%AE%97%E6%B3%95/"/>
    
    
    <category term="总结" scheme="http://wzw21.cn/tags/%E6%80%BB%E7%BB%93/"/>
    
    <category term="算法模板" scheme="http://wzw21.cn/tags/%E7%AE%97%E6%B3%95%E6%A8%A1%E6%9D%BF/"/>
    
  </entry>
  
  <entry>
    <title>算法竞赛部分算法（一）算法简介</title>
    <link href="http://wzw21.cn/2021/04/13/algorithms/"/>
    <id>http://wzw21.cn/2021/04/13/algorithms/</id>
    <published>2021-04-13T05:44:40.000Z</published>
    <updated>2022-01-09T09:10:36.218Z</updated>
    
    <content type="html"><![CDATA[<p>本文写于2015年暑假，当年文笔稚嫩，且内容并不全面，仅供参考。总结内容包括搜索、图论、动态规划、数据结构与数论等。</p><h1 id="搜索"><a class="markdownIt-Anchor" href="#搜索"></a> 搜索</h1><h2 id="dfs"><a class="markdownIt-Anchor" href="#dfs"></a> DFS</h2><p>深度优先搜索（Depth-first Search，DFS），基于递归的搜索方式，它的特点是由一个状态拓展一个状态，然后不停拓展，直到找到目标或者无法继续拓展结束一个状态的递归。可以在数列中进行搜索，也可在坐标系中进行搜索。</p><h2 id="bfs"><a class="markdownIt-Anchor" href="#bfs"></a> BFS</h2><p>广度优先搜索（Breadth-First Search，BFS），基于队列这种数据结构的搜索方式，它的特点是由每一个状态可以扩展出许多状态，然后再以此扩展，直到找到目标状态或者队列中头尾指针相遇，即队列中所有状态都已处理完毕。</p><h2 id="优缺点"><a class="markdownIt-Anchor" href="#优缺点"></a> 优缺点</h2><p>DFS：对于解决遍历和求所有问题有效，对于问题搜索深度小的时候处理速度迅速，然而在深度很大的情况下效率不高</p><p>BFS：对于解决最短或最少问题特别有效，而且寻找深度小，但缺点是内存耗费量大（需要开大量的数组单元用来存储状态）。</p><h2 id="剪枝"><a class="markdownIt-Anchor" href="#剪枝"></a> 剪枝</h2><p>由于时间和空间的局限性，搜索一般只能解决数据量小的问题。所以我们需要用不同的方法剪枝。剪枝方法包括：</p><ul><li>记忆化搜索（与DP类似）；</li><li>从方法上剪枝，如采用分枝定界，启发式搜索等，适用范围较广；</li><li>双向进行搜索或者反向进行搜索；</li><li>使用其它小技巧，例如卡时。这类方法适用性虽不如以上，有时甚至只能适用一道题，但也十分有效，并且几乎每道题都存在一些这样那样的剪枝技巧，只是每题有所不同而已。</li></ul><h1 id="图论"><a class="markdownIt-Anchor" href="#图论"></a> 图论</h1><p>图论是一个应用十分广泛而又极其有趣的数学分支。图即是由若干个不同顶点与连接其中某些顶点的边所组成的图形。<br />图的存储方式有邻接矩阵、边集数组和邻接表，其中邻接表适用于数据规模比较大的图的存储，也比较好用。</p><h2 id="图的遍历"><a class="markdownIt-Anchor" href="#图的遍历"></a> 图的遍历</h2><p>图的遍历有两种遍历方式：深度优先遍历和广度优先遍历。</p><h2 id="最短路径"><a class="markdownIt-Anchor" href="#最短路径"></a> 最短路径</h2><p>即求任意两点之间的最短路径。<br />四种最短路算法：</p><ul><li>Floyd算法：三重循环，枚举每一种三个点的组合，可以一次求出任意两点的最短路。是一种动态规划算法，对于稠密图效果最好，边权可正可负。O(n^3)</li><li>Dijkstra 算法：单个源点到其他顶点的最短路，蓝白点思想，找dis最小的u，更新v。不适用于负边权，可以进行堆优化。未优化O(n^2)，优化O(nlogn)</li><li>Bellman-ford 算法： 迭代n-1次，检查每条边，进行多次松弛操作，可发现负圈。O(nm)</li><li>SPFA：用FIFO队列代替Bellman的循环检查。O(nlogn)，较为常用</li></ul><p>SPFA在稀疏图上快，因为它是通过边来增广的。<br />Dijkstra在稠密图上快，因为它是通过点来增广的。<br />某些情况下dijkstra加上堆优化在处理大数据时会比SPFA快很多，但SPFA在随机数据的综合表现中相比dijkstra优势更大</p><h2 id="最小生成树"><a class="markdownIt-Anchor" href="#最小生成树"></a> 最小生成树</h2><p>求图中权值最小的生成树。<br />两种算法：</p><ul><li>Prim 算法：蓝白点思想，min[v]表示蓝点与白点相连最小边权。贪心思想。O(n^2)</li><li>Kruskal 算法：适用于稀疏图。利用并查集，将边权排序，不在同一个集合就连。O(eloge)</li></ul><h2 id="拓扑排序"><a class="markdownIt-Anchor" href="#拓扑排序"></a> 拓扑排序</h2><p>适用于有向无环图，使每个点排在它所指向的点的前面。入度为0的入栈，没有就将栈顶元素出栈，将此点删掉。O(v+e)</p><h2 id="强连通分量"><a class="markdownIt-Anchor" href="#强连通分量"></a> 强连通分量</h2><p>对于一个强连通分量中的任意一对顶点(u，v)，都能够保证分量中存在路径使得u-&gt;v，v-&gt;u。可缩点成为DAG<br />两种算法：</p><ul><li>Kosaraju 算法：两次dfs，第二次将边翻转 O(v+e)</li><li>Tarjan 算法：找代表元，记下u能回溯到的最早的顶点的编号与u被搜索的编号。 O(v+e)</li></ul><h2 id="二分图匹配"><a class="markdownIt-Anchor" href="#二分图匹配"></a> 二分图匹配</h2><p>当且仅当图的点可被划分为两个内部两两之间没有边的部分。</p><ul><li>判定：dfs交替染色</li><li>最大匹配：匈牙利算法：从每个点找增广路，如果有，把此路上匹配边和非匹配边互换，得到匹配比之前多1</li><li>最小点覆盖数=最大匹配数 最大独立集数=总点数-最大匹配数</li></ul><h1 id="动态规划"><a class="markdownIt-Anchor" href="#动态规划"></a> 动态规划</h1><p>动态规划（Dynamic Programming，DP）是一种思想与手段。<br />动态规划算法通常用于求解具有某种最优性质的问题。在这类问题中，可能会有许多可行解。每一个解都对应于一个值，我们希望找到具有最优值的解。动态规划算法与分治法类似，其基本思想也是将待求解问题分解成若干个子问题，先求解子问题，然后从这些子问题的解得到原问题的解。</p><ul><li>明确阶段、决策、状态和状态转移方程。</li><li>状态转移方程是核心。</li><li>适用动态规划的问题必须满足最优化原理和无后效性。</li></ul><h2 id="普通的动态规划"><a class="markdownIt-Anchor" href="#普通的动态规划"></a> 普通的动态规划</h2><p>序列型(最长上升子序列)、区间型(石子合并)、棋盘型(过河卒)、划分型(乘积最大)动态规划。</p><h2 id="背包型动态规划"><a class="markdownIt-Anchor" href="#背包型动态规划"></a> 背包型动态规划</h2><p>01背包(可用滚动数组)、完全、多重、混合、二维、分组、有依赖。</p><h2 id="状态压缩动态规划"><a class="markdownIt-Anchor" href="#状态压缩动态规划"></a> 状态压缩动态规划</h2><p>一些问题状态中所包含的信息过多，如果要用数组来保存状态的话需要四维以上的数组。所以需要通过状态压缩来保存状态。用二进制的一个数来表示一种放法。将1和0分别表示两种状态，二进制数可以表示出所有状态。</p><h2 id="树形动态规划"><a class="markdownIt-Anchor" href="#树形动态规划"></a> 树形动态规划</h2><ul><li>树的最大独立集：节点u两种决策，不选，则问题转化为求出u的儿子的值，选，则所有u孙子加上自己。</li><li>树的重心：dfs，u为根的子树节点等于它所有儿子节点的值加一。删掉u后，最大的连通块的节点数即可求出。</li><li>树的最长路径：对于每个节点i，把所有根为其子节点的子树中根到叶子的最大距离求出，找出值前两大的相加再加2即为所求。</li></ul><h2 id="动态规划的优化"><a class="markdownIt-Anchor" href="#动态规划的优化"></a> 动态规划的优化</h2><ul><li>数据结构优化：可用树状数组、线段树对所求最值进行优化。</li><li>单调队列优化：单调队列是一种严格单调的队列，可以单调递增，也可以单调递减。队首位置保存的是最优解，第二个位置保存的是次优解…利用单调队列对dp方程进行优化，可将O(n)复杂度降至O(1)。只有形如 dp[i]=max/min (f[k]) + g[i]  （k&lt;i &amp;&amp; g[i]是与k无关的变量）才能用到单调队列进行优化。优化的对象就是f[k]。</li><li>斜率优化：对于这样的一类DP方程f[i]=min{a[i]*x[j]+b[j]}，a[i]是和i有关的函数，x[j],b[j]是和j有关的函数或常数。求解这个问题朴素是O(n^2)的，可以将它优化到O(n)或O(nlogn)。把它改写为-a[i]*x[j]+f[i]=b[j]，<br />把-a[i]看作斜率，f[i]看作截距，每一个决策相当于平面上一个点。最优决策在平面点集的凸包上。要求f[i]的最小值，就相当于将一条斜率为-a[i]的直线不断向上平移，碰到的第一个点就是截距最小的点。也就是f[i]的最优决策。</li></ul><h1 id="数据结构"><a class="markdownIt-Anchor" href="#数据结构"></a> 数据结构</h1><p>数据结构是指相互之间存在一种或多种特定关系的数据元素的集合。通常情况下，精心选择的数据结构可以带来更高的运行或者存储效率。数据结构往往同高效的检索算法和索引技术有关</p><h2 id="基本数据结构"><a class="markdownIt-Anchor" href="#基本数据结构"></a> 基本数据结构</h2><p>栈，队列，堆，链表，并查集，树（二叉树、多叉树、森林）</p><h2 id="树状数组"><a class="markdownIt-Anchor" href="#树状数组"></a> 树状数组</h2><p>是一种查询和修改复杂度都为log(n)的数据结构。主要用于查询任意两位之间的所有元素之和，但是每次只能修改一个元素的值。<br />lowbit(x)=x&amp;-x  (-x为x按位取反，末尾+1)。一个节点存这个数二进制下最右边1所对应值到它自己。前缀和Si，顺着i往左上走，修改Ai，从Ci往右上走。<br />注意是改成一个值还是添加一个值。</p><h2 id="线段树"><a class="markdownIt-Anchor" href="#线段树"></a> 线段树</h2><p>线段树是一种二叉搜索树，它将一个区间划分成一些单元区间，每个单元区间对应线段树中的一个叶结点。使用线段树可以求最大值、最小值、区间和等，或者单点修改、区间修改。时间复杂度基本为O(logN）。<br />注意边的数组范围，一般要开四倍。</p><ul><li>查询：当前结点完全包含在查询区间？；向左；向右。</li><li>单点修改：若是叶节点，直接更新，else 递归更左或右，再更本节点。</li><li>区间修改：把一个lazy操作分解成不超过2h个，完全包含时，累加边界的lazy值(递归结束前维护此点信息，即此点及其祖先都会被维护)(查询时，考虑祖先节点对它的影响，增加一个参数表示当前区间所有祖先节点lazy值之和)</li><li>值域线段树：可求逆序对，可求整个区间第k大。</li></ul><h2 id="分块"><a class="markdownIt-Anchor" href="#分块"></a> 分块</h2><p>N可分成长度根号N的根号N块区间。</p><h2 id="莫队"><a class="markdownIt-Anchor" href="#莫队"></a> 莫队</h2><p>(不带修改，询问离线) 先分块，排序(左端点所属块编号，右端点大小)；按排序for，转移到下一个时，for出少了的，for掉多了的。</p><h2 id="可持久化数据结构"><a class="markdownIt-Anchor" href="#可持久化数据结构"></a> 可持久化数据结构</h2><p>部分可持久化：链形；完全可持久化：树形；<br />用新建节点取代修改节点信息。(指针、vector)<br />主席树属于可持久化线段树，求区间第k大，对于序列的每一个前缀建一棵以序列的值为下标的线段树(可离散化)，记录该前缀序列里出现的值的次数。</p><h2 id="平衡树"><a class="markdownIt-Anchor" href="#平衡树"></a> 平衡树</h2><ul><li>Treap：略</li><li>Splay：把要查询的x提到根节点。单旋，双旋。插入，查询，同BST；删除时，把左子树内最大的splay上来，将右子树接到右边(两个儿子时)，前驱后继，对节点splay然后找到左右子树中最大或最小。</li></ul><h2 id="树上信息维护"><a class="markdownIt-Anchor" href="#树上信息维护"></a> 树上信息维护</h2><ul><li>DFS序：性质：一棵子树其节点一定在一段连续区间中；</li><li>祖先关系判断，子树和(换根，前缀和：距离、路径上第k小。</li><li>欧拉(括号)序：出子树时节点也加在序列中：路径点权和(LCA转化为RMQ)</li></ul><h2 id="树链剖分"><a class="markdownIt-Anchor" href="#树链剖分"></a> 树链剖分</h2><p>将树剖成不向交的链。向下连size大的，存一个top，树链剖分得到的序列也是dfs序。分成的链(连起来)作为维护的序列。</p><ul><li>性质：如果(v,u)为轻边，则size(u)*2&lt;size[v];从根的某一点的路径上轻链，重链的个数都小于logn。把一些点(边)合成一条路径，使其在线段树的编号(下标)有序(线段树中每个点可是原树的点或边) 注意区间中的每个点不是作为树的点。</li></ul><h2 id="树的点分治"><a class="markdownIt-Anchor" href="#树的点分治"></a> 树的点分治：</h2><ul><li>树的重心：遍历所有点，删除此点后，最大的那一块最小 min{max(size)}</li><li>性质：删除重心后最大的那一块不超过树的一半。</li><li>重心C：分为过C的路径和在C的子树中的路径。</li></ul><h1 id="数论"><a class="markdownIt-Anchor" href="#数论"></a> 数论</h1><p>数论是纯粹数学的分支之一，主要研究整数的性质。<br />做数论题前，一般先在纸上推出公式或找出规律，再用各种定理或者是方法处理大的数据。</p><h2 id="欧几里德和扩展欧几里德定理"><a class="markdownIt-Anchor" href="#欧几里德和扩展欧几里德定理"></a> 欧几里德和扩展欧几里德定理</h2><p>欧几里德即辗转相除，目的是求最大公约数， gcd(a,b)=gcd(b,a%b), 有存在性唯一性，复杂度O(logn);<br />扩展欧几里德，ax+by=gcd(a,b)，求满足的x、y。x1=y2,  y1=x2-(a/b)y2；x1与y1的值可由x2、y2推知，拓展欧几里得算法就是不断地的将b放小，直至b等于0，最后反推求回x和y。主要用于解不定方程、解线性同余方程。<br />注意：x*y=gcd(x,y)*lcm(x,y)</p><h2 id="唯一分解定理算术基本定理"><a class="markdownIt-Anchor" href="#唯一分解定理算术基本定理"></a> 唯一分解定理(算术基本定理)</h2><p>N可以唯一分解成有限个质数的乘积N=p1<sup>a1</sup>+p2<sup>a2</sup>+p3<sup>a3</sup>……+pk<sup>ak</sup>;<br />唯一性证明：若p|ab，则p|a或p|b。 设n= p1<sup>a1</sup>+p2<sup>a2</sup>+p3<sup>a3</sup>……=q1<sup>b1</sup>+q2<sup>b2</sup>……<br />N为最小的不符合的数，则p1|q1<sup>b1</sup>+q2<sup>b2</sup>,即q1q2…中有一个能被p1整除，不妨设为q1，而q1为质数则p1=q1。假设a1&gt;b1，p1<sup>a1-b1</sup>p2<sup>a2</sup>…=q2<sup>b2</sup>q3<sup>b3</sup>…。同上p1能整除q2,q3…中的数，但p1=q1!=qi 所以不存在a1&gt;b1。同理a1不会小于b1，所以a1=b1。那么n0= p2<sup>a2</sup>+p3<sup>a3</sup>……= q2<sup>b2</sup>……,而n是最小有多种分解的，<br />所以n0只有一种分解，推出n只有一种分解。</p><h2 id="欧拉函数"><a class="markdownIt-Anchor" href="#欧拉函数"></a> 欧拉函数</h2><p>欧拉函数是积性函数，欧拉定理 (a,n)=1则a^φ(n) ≡1(mod n)。<br />欧拉筛法求欧拉函数，欧拉筛法筛素数即线筛。复杂度 O(n)<br />线筛：对于当前的一个数i，欧拉筛法把从2，3，5…到小于 i 的最大素数分别和 i 相乘得到的数标记成合数。并且过程中一旦发现 i % （p[j]） == 0，则跳出循环。保证每个合数只被他的最小素因子筛到一次</p><h2 id="快速幂矩阵快速幂"><a class="markdownIt-Anchor" href="#快速幂矩阵快速幂"></a> 快速幂，矩阵快速幂</h2><p>用到了二分的思想，快速高效的求a^b mod m. O(logn)<br />将所求的幂不断除以2，改变底数，注意要先乘再模。<br />矩阵乘法：m<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>×</mo></mrow><annotation encoding="application/x-tex">\times</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">×</span></span></span></span>n与n<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>×</mo></mrow><annotation encoding="application/x-tex">\times</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">×</span></span></span></span>p -&gt; m<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>×</mo></mrow><annotation encoding="application/x-tex">\times</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">×</span></span></span></span>p 。第[i,j] 上的数为矩阵一第i行上的n个数与矩阵二上第j列上的n个数，对应相乘的积之和。<br />矩阵快速幂，即将矩阵乘进行快速幂，可用于求一些数列。</p><h2 id="费马小定理"><a class="markdownIt-Anchor" href="#费马小定理"></a> 费马小定理</h2><p>a^(p-1) ≡ 1 mod m .</p><h2 id="逆元"><a class="markdownIt-Anchor" href="#逆元"></a> 逆元</h2><p>a^-1 ≡ a^(φ(m)-1) mod m.<br />1/a mod m 当m为素数时 =a^(m-2) mod m;<br />a/b mod m= a mod (mb)/b</p><h2 id="二项式定理"><a class="markdownIt-Anchor" href="#二项式定理"></a> 二项式定理</h2><p>(a+b)<sup>n</sup>=sigma (k=0-&gt;n) Cnk*a<sup>k</sup>*b<sup>(n-k)</sup><br />(a+b)<sup>0</sup>=1,(a+b)<sup>1</sup>=a+b,(a+b)<sup>2</sup>-a<sup>2</sup>+2ab+b<sup>2</sup> 与杨辉三角形联系。</p><h2 id="容斥原理"><a class="markdownIt-Anchor" href="#容斥原理"></a> 容斥原理</h2><p>两个集合：A∪B =|A∪B| = |A|+|B| - |A∩B |<br />三个集合：|A∪B∪C| = |A|+|B|+|C| - |A∩B| - |B∩C| - |C∩A| + |A∩B∩C|</p><h2 id="排列组合"><a class="markdownIt-Anchor" href="#排列组合"></a> 排列组合</h2><p>P rn = n!/(n-r)!  C rn = n!/r!(n-r)!</p><h1 id="其它"><a class="markdownIt-Anchor" href="#其它"></a> 其它</h1><h2 id="分治与二分"><a class="markdownIt-Anchor" href="#分治与二分"></a> 分治与二分</h2><p>分治的思想在于将问题划分为子问题来解决。<br />二分则包括二分查找与二分答案等。若题目要求最大值最小或最小值最大，应考虑二分答案。</p><h2 id="贪心"><a class="markdownIt-Anchor" href="#贪心"></a> 贪心</h2><p>找到贪心策略。</p><h2 id="排序"><a class="markdownIt-Anchor" href="#排序"></a> 排序</h2><p>各种排序算法。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;本文写于2015年暑假，当年文笔稚嫩，且内容并不全面，仅供参考。总结内容包括搜索、图论、动态规划、数据结构与数论等。&lt;/p&gt;
&lt;h1 id=&quot;搜索&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#搜索&quot;&gt;&lt;/a&gt; 搜索&lt;/h1&gt;
&lt;h2 id=&quot;d</summary>
      
    
    
    
    <category term="经验与总结" scheme="http://wzw21.cn/categories/%E7%BB%8F%E9%AA%8C%E4%B8%8E%E6%80%BB%E7%BB%93/"/>
    
    
    <category term="总结" scheme="http://wzw21.cn/tags/%E6%80%BB%E7%BB%93/"/>
    
  </entry>
  
  <entry>
    <title>ASR (自动语音识别）初探</title>
    <link href="http://wzw21.cn/2020/12/23/asr/"/>
    <id>http://wzw21.cn/2020/12/23/asr/</id>
    <published>2020-12-23T14:43:35.000Z</published>
    <updated>2021-10-27T14:43:52.356Z</updated>
    
    <content type="html"><![CDATA[<h1 id="asr实验及记录"><a class="markdownIt-Anchor" href="#asr实验及记录"></a> ASR实验及记录</h1><h3 id="deepspeech2"><a class="markdownIt-Anchor" href="#deepspeech2"></a> DeepSpeech2</h3><p>DeepSpeech2是一个采用PaddlePaddle平台的端到端自动语音识别引擎的开源项目，具体原理参考论文Baidu’s Deep Speech 2 paper。</p><h4 id="环境配置"><a class="markdownIt-Anchor" href="#环境配置"></a> 环境配置</h4><ul><li>使用官方镜像，运行失败。原因：PaddlePaddle版本不匹配，缺少RNN模块等关键组件；尝试进行修改后发现CUDNN版本也不匹配；</li><li>使用带有正确版本CUDA与CUDNN的镜像，手动安装PaddlePaddle，安装成功后clone DeepSpeech2项目，根据setup.sh进行相关依赖的安装与配置。注意镜像中缺少git、swig等基础命令或依赖包的安装，需通过apt-get进行安装。</li></ul><h4 id="数据准备及使用方式"><a class="markdownIt-Anchor" href="#数据准备及使用方式"></a> 数据准备及使用方式：</h4><ul><li><p>下载BaiduCN1.2k Model语音模型与Mandarin LM Small语言模型；</p></li><li><p>自行准备manifest文件，其中包括每条音频的存储路径，音频时长与数据标签（文本）。文本中不能含有标点符号、英文字母与阿拉伯数字。格式为：{“audio_filepath”: “”, “duration”: , “text”: “”}</p></li><li><p>使用如下命令可进行自定义语音音频识别</p>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">PYTHONIOENCODING&#x3D;utf-8 &#x2F;&#x2F; 需设定编码方式为utf-8，否则会出现错误；</span><br><span class="line"></span><br><span class="line">python infer.py</span><br><span class="line"></span><br><span class="line">--num_samples 1 &#x2F;&#x2F;识别语音条数</span><br><span class="line"></span><br><span class="line">--infer_manifest data&#x2F;mydata&#x2F;manifest &#x2F;&#x2F;manifest文件路径</span><br><span class="line"></span><br><span class="line">--use_gru TRUE &#x2F;&#x2F;使用门控循环单元</span><br><span class="line"></span><br><span class="line">--use_gpu FALSE </span><br><span class="line"></span><br><span class="line">--mean_std_path models&#x2F;baidu_ch1.2k&#x2F;mean_std.npz &#x2F;&#x2F;样本特征的均值与标准差</span><br><span class="line"></span><br><span class="line">--vocab_path models&#x2F;baidu_ch1.2k&#x2F;vocab.txt &#x2F;&#x2F;字典路径</span><br><span class="line"></span><br><span class="line">--lang_model_path models&#x2F;lm&#x2F;zh_giga.no_cna_cmn.prune01244.klm &#x2F;&#x2F;语言模型路径</span><br><span class="line"></span><br><span class="line">--model_path models&#x2F;baidu_ch1.2k &#x2F;&#x2F;语音模型路径</span><br><span class="line"></span><br><span class="line">--num_conv_layers&#x3D;2 &#x2F;&#x2F;卷积层数量</span><br><span class="line"></span><br><span class="line">--num_rnn_layers&#x3D;3 &#x2F;&#x2F;循环神经网络配置</span><br><span class="line"></span><br><span class="line">--rnn_layer_size&#x3D;2048 </span><br><span class="line"></span><br><span class="line">--share_rnn_weights&#x3D;False </span><br><span class="line"></span><br><span class="line">--specgram_type&#x3D;&#39;linear&#39; </span><br><span class="line"></span><br><span class="line">--error_rate_type&#x3D;cer &#x2F;&#x2F;错误率类型设置为字错误率</span><br><span class="line"></span><br><span class="line">--alpha&#x3D;0.4 </span><br><span class="line"></span><br><span class="line">--beta&#x3D;0.3</span><br></pre></td></tr></table></figure></li><li><p>使用tools/tune.py可使用不同参数进行识别，以找出最优参数。参数包括alpha与beta，分别为语言模型权重与单词插入权重。</p></li><li><p>使用tools/compute_mean_std.py和tools/build_vocab.py可获得自定义样本的特征均值、标准差（用于归一化）与字典；</p></li><li><p>相关命令及运行参数保存在command.txt中，方便使用。</p></li></ul><h4 id="实验结果分析"><a class="markdownIt-Anchor" href="#实验结果分析"></a> 实验结果分析</h4><ul><li>实验数据为100条语音数据，带有ground truth。使用BaiduCN1.2k Model语音模型与Mandarin LM Small语言模型，使用预训练模型的数据特征（即归一化方式）与字典，经测试，最佳运行参数为alpha=0.4， beta =0.3，测试结果的平均cer（字错误率）为55.19%</li><li>将语音模型替换为Aishell模型进行实验，错误率升高</li></ul><h4 id="迁移学习"><a class="markdownIt-Anchor" href="#迁移学习"></a> 迁移学习</h4><p>在公开的模型上使用自己的数据集进行迁移训练</p><ul><li><p>准备工作</p><p>1）修改词典中的阿拉伯数字为中文；</p><p>2）将正确数据标签中所有阿拉伯数字换为中文，去除所有标点符号与英文字母；</p><p>3）按照要求生成manifest.train文件，包含训练数据路径，时长与标签；</p><p>4）预处理出训练集数据特征的均值与标准差；</p><p>5）若要修改字典（添加或删除），则需要修改神经网络模型的结构，较为复杂；</p></li><li><p>运行train.py进行训练，命令及参数如下</p>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">PYTHONIOENCODING&#x3D;utf-8 </span><br><span class="line"></span><br><span class="line">python train.py </span><br><span class="line"></span><br><span class="line">--batch_size 16 &#x2F;&#x2F;批量大小</span><br><span class="line"></span><br><span class="line">--num_epoch 10 &#x2F;&#x2F;训练周期数</span><br><span class="line"></span><br><span class="line">--num_conv_layers&#x3D;2 </span><br><span class="line"></span><br><span class="line">--num_rnn_layers&#x3D;3 </span><br><span class="line"></span><br><span class="line">--rnn_layer_size&#x3D;2048 </span><br><span class="line"></span><br><span class="line">--share_rnn_weights&#x3D;False </span><br><span class="line"></span><br><span class="line">--save_epoch 1 &#x2F;&#x2F;每训练一个epoch进行一次模型保存</span><br><span class="line"></span><br><span class="line">--num_samples 80 </span><br><span class="line"></span><br><span class="line">--learning_rate 0.05 &#x2F;&#x2F;学习率，需调优</span><br><span class="line"></span><br><span class="line">--max_duration 130 &#x2F;&#x2F;最大音频时长</span><br><span class="line"></span><br><span class="line">--use_gpu FALSE </span><br><span class="line"></span><br><span class="line">--use_gru TRUE </span><br><span class="line"></span><br><span class="line">--init_from_pretrained_model models&#x2F;baidu_ch1.2k </span><br><span class="line"></span><br><span class="line">--train_manifest data&#x2F;mydata&#x2F;manifest.train &#x2F;&#x2F;训练集路径</span><br><span class="line"></span><br><span class="line">--dev_manifest data&#x2F;mydata&#x2F;manifest.validation &#x2F;&#x2F;验证集路径</span><br><span class="line"></span><br><span class="line">--mean_std_path models&#x2F;baidu_ch1.2k&#x2F;mean_std.npz &#x2F;&#x2F;可选择模型预训练时使用的数据的特征（即models&#x2F;baidu_ch1.2k&#x2F;mean_std.npz），或是当前进行迁移学习的数据的特征（data&#x2F;mydata&#x2F; mean_std.npz）</span><br><span class="line"></span><br><span class="line">--vocab_path models&#x2F;baidu_ch1.2k&#x2F;vocab_new.txt </span><br><span class="line"></span><br><span class="line">--output_model_dir models&#x2F;baidu_ch1.2k_new &#x2F;&#x2F;新模型保存位置</span><br><span class="line"></span><br><span class="line">--num_iter_print 1 &#x2F;&#x2F;每一个epoch输出一次信息</span><br><span class="line"></span><br><span class="line">--test_off TRUE&#x2F;&#x2F;训练过程中是否进行验证</span><br></pre></td></tr></table></figure></li></ul><h4 id="难点"><a class="markdownIt-Anchor" href="#难点"></a> 难点</h4><ul><li>环境难以配置，官方镜像存在问题，配置环境花费大量时间；</li><li>暂无法成功在docker中使用gpu，导致训练与识别速度非常慢；</li><li>（15h仅训练了6个epoch）</li><li>自定义训练数据的特征均值和标准差与预训练模型使用的数据不同，导致迁移学习效果较差</li><li>若需修改字典，则必须深入了解DeepSpeech模型结构与修改方式，深入学习PaddlePaddle框架</li></ul><h4 id="todo"><a class="markdownIt-Anchor" href="#todo"></a> Todo</h4><ul><li>结合预训练时使用的数据的特征，对我们的音频数据进行预处理，再进行迁移训练</li><li>修改字典，修改网络模型，使最后的全连接层与自定义字典相匹配</li><li>使用更大型的语言模型Mandarin LM Large</li></ul><h4 id="参考文档"><a class="markdownIt-Anchor" href="#参考文档"></a> 参考文档</h4><ul><li><p><a href="https://github.com/PaddlePaddle/DeepSpeech/blob/develop/README_cn.md">https://github.com/PaddlePaddle/DeepSpeech/blob/develop/README_cn.md</a></p></li><li><p><a href="https://www.paddlepaddle.org.cn/install/quick">https://www.paddlepaddle.org.cn/install/quick</a></p></li><li><p><a href="https://baijiahao.baidu.com/s?id=1675202226359497084&amp;wfr=spider&amp;for=pc">https://baijiahao.baidu.com/s?id=1675202226359497084&amp;wfr=spider&amp;for=pc</a></p></li></ul><h3 id="cvte开源模型"><a class="markdownIt-Anchor" href="#cvte开源模型"></a> CVTE开源模型</h3><h4 id="概述"><a class="markdownIt-Anchor" href="#概述"></a> 概述</h4><ul><li>基于Kaldi</li><li>批量将mp3或wav音频进行数据部署，并生成txt识别结果</li><li>无phone和ctm时间戳</li></ul><h4 id="实验过程"><a class="markdownIt-Anchor" href="#实验过程"></a> 实验过程</h4><ul><li>将音频文件放入data/wav/filename中</li><li>新建data/filename/test文件夹，并在其中创建text、utt2spk、spk2utt、wav.scp文件，text中保存标签数据，wav.scp中保存音频路径，utt2spk、spk2utt中保存音频与说话人的关系。</li><li>每次运行后需删除data/filename/test中的cmvn.scp文件，否则会报错。</li><li>创建好data/filename/test中相应文件后，可使用utils/validate_data_dir.sh进行检查（需加上 --no-feats）</li><li>运行run.sh开始语音识别，运行前需修改run.sh中的路径（有三处）</li><li>在exp/chain/tdnn/decode_filename/scoring_kaldi/中可查看识别结果，对于不同的参数会有不同的结果，可通过best_cer（best_wer）查看最优结果对应参数（记为参数a）参数包括inv-acoustic-scale∈[7,17] ，word-ins-penalty∈{0.0,0.5,1.0}。</li><li>猜测：最优识别结果对应的参数（参数a）是最适合对此类语音数据进行识别的参数。在没有text文件的情况下，最优结果大概率存在于使用参数a得到的结果中。</li><li>对于不同的数据集，需要进行测试以获取最优参数</li></ul><h4 id="实验结果分析-2"><a class="markdownIt-Anchor" href="#实验结果分析-2"></a> 实验结果分析</h4><ul><li>实验数据为28条语音数据，带有ground truth。经测试，最佳参数为inv-acoustic-scale=16， word-ins-penalty=0.0，测试结果的平均cer（字错误率）为50.18%</li></ul><h4 id="流程"><a class="markdownIt-Anchor" href="#流程"></a> 流程</h4><ul><li>将音频文件（wav格式）放入/kaldi-master/egs/cvte/s5/data/wav/filename中；</li><li>将text文件放入/kaldi-master/egs/cvte/s5/data/test_filename/test中，text格式为“音频ID    文字标签\r\n”（中间为Tab）；</li><li>将conf与frame_shift放入test文件夹；</li><li>将进行整个识别流程封装入asr.sh文件。首先将自动生成wav.scp、utt2spk、spk2utt文件，并删除可能造成冲突的文件，然后开始语音识别；</li><li>识别结果将保存于/kaldi-master/egs/cvte/s5/exp/chain/tdnn/decode_filename/scoring_kaldi/中。若text文件中含有真实标签，则可查看最佳参数。打开最佳参数对应的文件夹可查看识别结果。</li></ul><h4 id="难点-2"><a class="markdownIt-Anchor" href="#难点-2"></a> 难点</h4><ul><li>无官方文档，相关参考资料较少</li><li>模型封装完整，无法进行修改，无法使用迁移学习进行模型优化</li><li>因未提供相关解码文件，无法获取时间戳信息</li></ul><h4 id="参考"><a class="markdownIt-Anchor" href="#参考"></a> 参考</h4><ul><li><p><a href="https://chatopera.blog.csdn.net/article/details/107733688">https://chatopera.blog.csdn.net/article/details/107733688</a></p></li><li><p><a href="https://blog.csdn.net/samurais/article/details/107889376">https://blog.csdn.net/samurais/article/details/107889376</a></p></li><li><p><a href="https://blog.csdn.net/tcx1992/article/details/85717100">https://blog.csdn.net/tcx1992/article/details/85717100</a></p></li><li><p><a href="https://github.com/tcxdgit/ASR_utils">https://github.com/tcxdgit/ASR_utils</a></p></li><li><p><a href="https://blog.csdn.net/benbenls/article/details/102691710">https://blog.csdn.net/benbenls/article/details/102691710</a></p></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;asr实验及记录&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#asr实验及记录&quot;&gt;&lt;/a&gt; ASR实验及记录&lt;/h1&gt;
&lt;h3 id=&quot;deepspeech2&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#</summary>
      
    
    
    
    <category term="操作步骤与实践" scheme="http://wzw21.cn/categories/%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%AA%A4%E4%B8%8E%E5%AE%9E%E8%B7%B5/"/>
    
    
    <category term="ASR" scheme="http://wzw21.cn/tags/ASR/"/>
    
  </entry>
  
  <entry>
    <title>Python使用建议</title>
    <link href="http://wzw21.cn/2020/12/23/tips4python/"/>
    <id>http://wzw21.cn/2020/12/23/tips4python/</id>
    <published>2020-12-23T07:54:26.000Z</published>
    <updated>2020-12-23T14:07:43.854Z</updated>
    
    <content type="html"><![CDATA[<h2 id="强烈推荐python组合技-miniconda-jupyter-vscode"><a class="markdownIt-Anchor" href="#强烈推荐python组合技-miniconda-jupyter-vscode"></a> 强烈推荐Python组合技 : MiniConda + Jupyter + Vscode</h2><h2 id="管理python环境"><a class="markdownIt-Anchor" href="#管理python环境"></a> 管理Python环境</h2><p>使用miniconda管理python环境，方便不同python版本的管理与切换，同时方便对python库进行管理与使用。例如你可以创建一个python版本为3.7的环境来进行tensorflow的使用，创建一个python版本为3.8的环境来进行pytorch的使用，两个环境独立，互不影响。</p><h2 id="实时运行代码"><a class="markdownIt-Anchor" href="#实时运行代码"></a> 实时运行代码</h2><p>使用Jupyter Notebook来进行程序编写，可以实时运行代码。每完成几行代码后，同时按下enter与shift，可直接运行这几行代码并得到结果，并且结果会保存在内存中，可继续编写程序。</p><h2 id="合适的ide"><a class="markdownIt-Anchor" href="#合适的ide"></a> 合适的IDE</h2><p>使用全能的Vscode搭配miniconda与jupyter进行python程序的编写，比起在网页上使用jupyter notebook更加舒适。在Vscode的右上角可更改所使用的python环境。</p><p>具体的安装方式与环境配置方式待补充。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;强烈推荐python组合技-miniconda-jupyter-vscode&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#强烈推荐python组合技-miniconda-jupyter-vscode&quot;&gt;&lt;/a&gt; 强烈推荐Python组</summary>
      
    
    
    
    <category term="经验与总结" scheme="http://wzw21.cn/categories/%E7%BB%8F%E9%AA%8C%E4%B8%8E%E6%80%BB%E7%BB%93/"/>
    
    
    <category term="总结" scheme="http://wzw21.cn/tags/%E6%80%BB%E7%BB%93/"/>
    
    <category term="Python" scheme="http://wzw21.cn/tags/Python/"/>
    
  </entry>
  
  <entry>
    <title>律学初探</title>
    <link href="http://wzw21.cn/2020/11/10/lvxue1/"/>
    <id>http://wzw21.cn/2020/11/10/lvxue1/</id>
    <published>2020-11-10T08:43:31.000Z</published>
    <updated>2021-09-25T14:56:51.023Z</updated>
    
    <content type="html"><![CDATA[<h1 id="概论"><a class="markdownIt-Anchor" href="#概论"></a> 概论</h1><p>律学（temperament）是对构成乐制的各音依据声学原理、运用数学方法来研究各音间相互关系的一门学科。其中，“律”是构成律制的基本单位。当各律在高度上作精密规定，形成一种体系时，称为“律制”（tuning system）。“律”和“音”的概念相近但略有不同，律制中每个单位称为“律”，而音阶中每个单位称为“音”，律制与音阶的关系十分密切。</p><p>我们知道，在复合音中，除“基音”（fundamental tone）外还有各种“泛音”（overtone），有时也称为倍音。以弦振动为例，全弦振动产生基音，同时各部分振动产生各种泛音（弦分两段振动产生第一泛音，分三段振动产生第二泛音，以此类推）。将基音和各泛音进行横向排列，可以得到“谐音列”，如表1-1所示。各律制的规定与谐音列密不可分。</p><center>表1-1 谐音列</center><table><thead><tr><th style="text-align:center">第一谐音</th><th style="text-align:center">第二谐音</th><th style="text-align:center">第三谐音</th><th style="text-align:center">第四谐音</th><th style="text-align:center">第五谐音</th><th style="text-align:center">……</th><th style="text-align:center">第N谐音</th></tr></thead><tbody><tr><td style="text-align:center">基音</td><td style="text-align:center">第一泛音</td><td style="text-align:center">第二泛音</td><td style="text-align:center">第三泛音</td><td style="text-align:center">第四泛音</td><td style="text-align:center">……</td><td style="text-align:center">第N-1泛音</td></tr><tr><td style="text-align:center">f（频率）</td><td style="text-align:center">2f</td><td style="text-align:center">3f</td><td style="text-align:center">4f</td><td style="text-align:center">5f</td><td style="text-align:center">……</td><td style="text-align:center">N×f</td></tr></tbody></table><p>接下来将分别对音律计算法，三种常见律制（五度相生律、纯律和十二平均律），中欧律学简史以及律制的应用进行详细介绍。</p><h1 id="以下内容暂不开放"><a class="markdownIt-Anchor" href="#以下内容暂不开放"></a> 以下内容暂不开放</h1><h1 id="音律计算法"><a class="markdownIt-Anchor" href="#音律计算法"></a> 音律计算法</h1><p>音律计算法即音程的计算法，使用频率比或音程值（interval value）来表示和计算音程的大小。音程值有四种，分别为对数值、八度值、音分值和平均音程值。</p><h2 id="频率比"><a class="markdownIt-Anchor" href="#频率比"></a> 频率比</h2><h2 id="对数值"><a class="markdownIt-Anchor" href="#对数值"></a> 对数值</h2><h2 id="八度值"><a class="markdownIt-Anchor" href="#八度值"></a> 八度值</h2><h2 id="音分值"><a class="markdownIt-Anchor" href="#音分值"></a> 音分值</h2><h2 id="平均音程值"><a class="markdownIt-Anchor" href="#平均音程值"></a> 平均音程值</h2><h1 id="五度相生律"><a class="markdownIt-Anchor" href="#五度相生律"></a> 五度相生律</h1><h1 id="纯律"><a class="markdownIt-Anchor" href="#纯律"></a> 纯律</h1><h1 id="十二平均律"><a class="markdownIt-Anchor" href="#十二平均律"></a> 十二平均律</h1>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;概论&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#概论&quot;&gt;&lt;/a&gt; 概论&lt;/h1&gt;
&lt;p&gt;律学（temperament）是对构成乐制的各音依据声学原理、运用数学方法来研究各音间相互关系的一门学科。其中，“律”是构成律制的基本单位。当各</summary>
      
    
    
    
    <category term="理论知识" scheme="http://wzw21.cn/categories/%E7%90%86%E8%AE%BA%E7%9F%A5%E8%AF%86/"/>
    
    
    <category term="乐理" scheme="http://wzw21.cn/tags/%E4%B9%90%E7%90%86/"/>
    
  </entry>
  
  <entry>
    <title>技术栈</title>
    <link href="http://wzw21.cn/2020/11/10/used/"/>
    <id>http://wzw21.cn/2020/11/10/used/</id>
    <published>2020-11-10T05:09:09.000Z</published>
    <updated>2022-02-06T05:41:49.474Z</updated>
    
    <content type="html"><![CDATA[<h1 id="已掌握或使用过的工具与技术"><a class="markdownIt-Anchor" href="#已掌握或使用过的工具与技术"></a> 已掌握或使用过的工具与技术</h1><h2 id="ide"><a class="markdownIt-Anchor" href="#ide"></a> IDE</h2><ul><li>Free Pascal</li><li>Delphi</li><li>Dev C++</li><li>Virtual Studio 2013/2017</li><li>Virtual Studio Code</li><li>Eclipse</li><li>IntelliJ IDEA</li><li>Pycharm</li><li>Android Studio</li><li>Matlab</li><li>Masm</li></ul><h2 id="语言"><a class="markdownIt-Anchor" href="#语言"></a> 语言</h2><ul><li>Pascal</li><li>C/C++</li><li>Python</li><li>Java</li><li>SQL</li></ul><h2 id="机器学习相关"><a class="markdownIt-Anchor" href="#机器学习相关"></a> 机器学习相关</h2><ul><li>TensorFlow</li><li>Keras</li><li>OpenCV</li><li>Scikit-Learn</li><li>ModelArts</li><li>Kaldi</li><li>DeepSpeech</li></ul><h2 id="数据库"><a class="markdownIt-Anchor" href="#数据库"></a> 数据库</h2><ul><li>SQL Server 2000</li><li>MySQL</li><li>Navicat</li></ul><h2 id="cjava-框架"><a class="markdownIt-Anchor" href="#cjava-框架"></a> C++/Java 框架</h2><ul><li>MFC</li><li>Win32 API</li><li>Spring Boot</li><li>MyBatis</li></ul><h2 id="硬件"><a class="markdownIt-Anchor" href="#硬件"></a> 硬件</h2><ul><li>Raspberry Pi</li><li>Serial Comm</li><li>ESP 8266</li><li>MPU 6050</li><li>8253/8255/8259</li></ul><h2 id="前端"><a class="markdownIt-Anchor" href="#前端"></a> 前端</h2><ul><li>Vue.js</li><li>Bootstrap</li><li>Hexo</li></ul><h2 id="音频音乐相关"><a class="markdownIt-Anchor" href="#音频音乐相关"></a> 音频音乐相关</h2><ul><li>Librosa</li><li>Music21</li></ul><h2 id="其它工具"><a class="markdownIt-Anchor" href="#其它工具"></a> 其它工具</h2><h3 id="音乐制作"><a class="markdownIt-Anchor" href="#音乐制作"></a> 音乐制作</h3><ul><li>Cubase</li><li>Overture</li><li>Sonic Pi</li><li>Musescore</li><li>Max/MSP</li></ul><h3 id="游戏制作"><a class="markdownIt-Anchor" href="#游戏制作"></a> 游戏制作</h3><ul><li>Cocos</li><li>Unity</li></ul><h3 id="图像处理"><a class="markdownIt-Anchor" href="#图像处理"></a> 图像处理</h3><ul><li>Photoshop</li></ul><h3 id="网页制作"><a class="markdownIt-Anchor" href="#网页制作"></a> 网页制作</h3><ul><li>DreamWeaver</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;已掌握或使用过的工具与技术&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#已掌握或使用过的工具与技术&quot;&gt;&lt;/a&gt; 已掌握或使用过的工具与技术&lt;/h1&gt;
&lt;h2 id=&quot;ide&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; </summary>
      
    
    
    
    <category term="经验与总结" scheme="http://wzw21.cn/categories/%E7%BB%8F%E9%AA%8C%E4%B8%8E%E6%80%BB%E7%BB%93/"/>
    
    
    <category term="总结" scheme="http://wzw21.cn/tags/%E6%80%BB%E7%BB%93/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="http://wzw21.cn/2020/11/08/hello-world/"/>
    <id>http://wzw21.cn/2020/11/08/hello-world/</id>
    <published>2020-11-08T05:04:25.660Z</published>
    <updated>2020-11-09T13:43:58.596Z</updated>
    
    <content type="html"><![CDATA[<h2 id="welcome-to-hell"><a class="markdownIt-Anchor" href="#welcome-to-hell"></a> Welcome to Hell</h2>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;welcome-to-hell&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#welcome-to-hell&quot;&gt;&lt;/a&gt; Welcome to Hell&lt;/h2&gt;
</summary>
      
    
    
    
    
  </entry>
  
</feed>
