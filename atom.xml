<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>WiZardWen</title>
  
  <subtitle>Blog</subtitle>
  <link href="http://wzw21.cn/atom.xml" rel="self"/>
  
  <link href="http://wzw21.cn/"/>
  <updated>2022-02-26T07:01:06.688Z</updated>
  <id>http://wzw21.cn/</id>
  
  <author>
    <name>David Wang</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>国外部分音乐人工智能/音乐科技研究机构科研项目简介</title>
    <link href="http://wzw21.cn/2022/02/26/music-ai-tech-group/"/>
    <id>http://wzw21.cn/2022/02/26/music-ai-tech-group/</id>
    <published>2022-02-26T06:34:01.000Z</published>
    <updated>2022-02-26T07:01:06.688Z</updated>
    
    <content type="html"><![CDATA[<p>本文对国外部分音乐人工智能/音乐科技科研机构的科研项目与教学课程设置作简要介绍，包括英国伦敦玛丽女王大学（Queen Mary）的数字音乐中心（C4DM）、西班牙巴塞罗那庞培法布拉大学（UPF）的音乐技术研究组（MTG）、美国斯坦福大学的音乐与声学计算机研究中心（CCRMA）以及法国的声学/音乐协调研究所（IRCAM）。本文写于2021年1月，资料均来自各机构官方网站。</p><h1 id="c4dm"><a class="markdownIt-Anchor" href="#c4dm"></a> C4DM</h1><p>英国伦敦玛丽女王大学的数字音乐中心（Centre for Digital Music，简称C4DM）是一个世界领先的音频音乐技术领域的多学科研究小组。自创始人员于2001年加入玛丽女王大学以来，该中心已发展成为英国首屈一指的数字音乐研究小组。<br />C4DM属于伦敦玛丽女王大学的电子工程与计算机科学学院，其主要的研究领域包括音乐信息检索、音乐信息学、语义音频、音乐语义网、音乐音频数字信号处理、音频工程、机器听觉、声音合成、音乐感知与认知、增强乐器和声音交互设计。</p><h2 id="科研团队与项目"><a class="markdownIt-Anchor" href="#科研团队与项目"></a> 科研团队与项目</h2><p>一、C4DM的智能音频工程研究团队致力于智能录音技术、高级音效、现场声音制作技术、混音格式转换技术以及音频编辑自动化技术的开发，目前招收博士研究生。其主要研究项目包括：</p><ol><li>Web端音频评估工具：可进行基于浏览器的听觉测试；</li><li>开放式多轨测试台：为多轨音频提供单一化、中央化的资源，以便进行浏览、过滤和搜索；</li><li>自动混音：实现实时自动多轨音频制作和混合；</li><li>声音合成：使用算法生成声音，是在电影、多媒体、声音装置和游戏中的重要应用；</li><li>空间音频的制作与再现；</li><li>音频混合反向工程；</li><li>音频瞬态修改；</li><li>现场声源分离；</li><li>手势控制的多声道音频混合；</li><li>智能动态范围压缩；</li></ol><p><a href="http://c4dm.eecs.qmul.ac.uk/audioengineering.html">http://c4dm.eecs.qmul.ac.uk/audioengineering.html</a></p><p>二、C4DM的增强乐器实验室成立于2011年，由Andrew McPherson领导，包括来自C4DM的成员、合作者以及伦敦玛丽女王大学媒体和艺术技术计划的博士生。实验室会定期开展音乐会，以展示乐器、装置和设计等。其主要研究项目包括：</p><ol><li>电磁增强的原声钢琴；</li><li>具有电容式多点触摸感应的钢琴键；</li><li>小提琴手势感应；</li><li>无障碍乐器；</li><li>超低延迟交互式音频的嵌入式平台；</li><li>大型数字乐器设计；</li><li>数字风笛；</li><li>新型弦乐器；<br />……</li></ol><p><a href="http://instrumentslab.org/index.html">http://instrumentslab.org/index.html</a></p><p>三、C4DM的声音交互设计实验室致力于探索从交互艺术到实时数据声音化、可听化的新方法，由Nick Bryan-Kinns教授和Tony Stockman博士领导。声音交互设计是指设计和评估将听觉优先于视觉的交互系统，该实验室主要研究项目包括：</p><ol><li>交互式实时音乐系统；</li><li>交互式数据可听化；</li><li>设计和评估听觉展示的方法；</li><li>音乐作品的交互设计；</li><li>跨知觉模式互动；</li><li>分布式音乐制作系统；</li><li>声音游戏；</li><li>交互式音景；<br />……</li></ol><p><a href="http://isam.eecs.qmul.ac.uk/about.html">http://isam.eecs.qmul.ac.uk/about.html</a></p><p>四、C4DM的机器听觉实验室开发各种方法来理解自然声音、日常声音和录制的音乐。其中，“机器听觉”是利用信号处理和机器学习从声音中提取有用的信息。该实验室由Dan Stowell和Emmanouil Benetos共同领导，成员来自电子工程与计算机科学、生物化学和数学科学三个学院，目前招收博士研究生。其主要研究项目包括：</p><ol><li>用于内容监控的下一代音乐识别算法的开发；</li><li>使用机器学习分析鸟声监测数据；</li><li>数据驱动的数字修复音频档案质量预测；</li><li>用于音频分析和检索的机器学习框架；</li><li>声场分析中的声环境识别；</li><li>复调音乐录音的自动转录；</li><li>音乐信息处理；<br />……</li></ol><p><a href="http://machine-listening.eecs.qmul.ac.uk/">http://machine-listening.eecs.qmul.ac.uk/</a></p><p>五、C4DM的音乐信息学研究团队通过使用数字信号处理、机器学习和语义网来探索智能分析音乐数据的新方法，同时帮助用户找到他们想要的音乐。该团队由Simon Dixon博士领导，目前招收博士研究生。主要研究项目包括：</p><ol><li>Sonic Visualser软件：用于音乐录音的可视化、分析和注释，包括旋律提取、和弦识别、节奏分析等多个功能，是C4DM推出的最为广泛使用的软件工具；</li><li>音乐信息的中层描述符：包括和弦、调式、音符、节拍、音色、结构分段、旋律等；</li><li>音乐信息的高层概念：包括类型、情绪和情感，用于音乐分类、检索和知识发现；</li><li>用于智能编辑的音乐语义分析；</li><li>音频数据和音乐相关信息的连接；</li><li>具有室内脉冲响应的交互式听觉；</li></ol><p><a href="http://c4dm.eecs.qmul.ac.uk/musicinformatics.html">http://c4dm.eecs.qmul.ac.uk/musicinformatics.html</a></p><p>六、C4DM的音乐认知实验室旨在研究人类听众和表演者处理和参与音乐的方式。这项研究跨越了广泛的心理学领域，从低层次的处理过程，如听觉流分离，到高层次的概念，如情感诱导和音乐偏好。该小组利用了广泛的研究范式进行研究，包括计算建模、神经成像和认知心理学，由Marcus Pearce领导。其主要研究项目包括：</p><ol><li>基于概率预测和统计学习的听觉期望计算模型；</li><li>拍手音乐应用：通过基于一种拍手音乐的游戏APP来调查节奏制作能力的学习过程；</li><li>在科学博物馆进行实时科学观察：观察和分析志愿者对各种音乐的看法与认知；</li></ol><p><a href="http://music-cognition.eecs.qmul.ac.uk/">http://music-cognition.eecs.qmul.ac.uk/</a></p><p>七、C4DM的声音合成研究团队使用算法生成声音，包括模拟形式和数字形式，并将合成的声音应用于电影、多媒体、游戏和声音装置。声音合成是一门获取、创造和操纵声音以达到预期效果或情绪的学科，而C4DM的声音合成涉及多个主题，包括音频工程和增强乐器，研究者一方面寻求和发现新的合成技术，另一方面增强现有方法来适应新的应用。主要研究项目包括：</p><ol><li>基于云的实时音效服务：为声音设计师提供基于声音合成的实时音效服务以简化工作流程；</li><li>使用传感器进行游戏音频制作：该项目创建了游戏音频的快速成型环境，将程序音频模型部署到嵌入式硬件上，从而可以使用物理传感器从表演中捕获相应参数；</li><li>基于物理模型的程序音频：开发现实的、可控的、实时的程序音频技术，以使用物理模型来合成声音纹理（例如风和雨）；</li><li>通过感知评估改善声音合成；</li></ol><p><a href="http://c4dm.eecs.qmul.ac.uk/soundsynthesis.html">http://c4dm.eecs.qmul.ac.uk/soundsynthesis.html</a></p><h2 id="教学"><a class="markdownIt-Anchor" href="#教学"></a> 教学</h2><p>AIM（全称UKRI Centre for Doctoral Training in Artificial Intelligence and Music）是伦敦玛丽女王大学和数字音乐中心针对音乐/音频技术和创意产业开办的博士研究生项目，学生将攻读为期四年的博士学位。</p><p>AIM旨在培养将人工智能、机器学习和信号处理最先进的方法与跨学科的艺术感受能力相结合的新一代研究人员，在英国创意产业和文化部门提供突破性的原创研究。每位博士研究生将拥有个性化的研究计划，同时包括专家授课模块、行业实习、技能培训以及与文化合作伙伴共同创作等。<br />AIM的研究重点围绕三个高度整合的主题进行：</p><ol><li>音乐理解：包括机器听觉，智能信号处理以及数据/知识驱动的音乐内容建模与分析方法；</li><li>智能乐器和交互界面：包括用于音乐表演、制作、聆听和教育的嵌入式智能硬件设备以及在创造性环境中的人机交互AI应用；</li><li>计算机创造力：包括生成音乐作品，自动伴奏系统以及用于音乐表演和辅助创作的系统。<br />AIM项目分为四个主要部分：</li><li>高级教学模块，1~2年级完成</li><li>行业实习，2~3年级完成</li><li>研究人员发展培训，持续4年</li><li>博士生研究项目，持续4年<br />从第一年开始，将为每位学生制定个人发展计划（PDP），包括教学模块、课程和各类活动。制定时会考虑学生研究主题的主要目标与其学术背景，预计学生将在第一年完成四个核心模块，第二年完成两个专业模块。<br />其中核心模块为：</li><li>机器学习2. 研究方法与创新3. 音乐信息学4. 音乐和音频编程；<br />专业模块为：<br />音乐感知与认知，音乐与语音建模，大数据处理，录音与制作技术，数字音频效果，音频音乐深度学习，人机交互设计，语义网，计算创意与人工智能；<br />同时提供多个相关模块的商业和企业家课程。<br />PDP将具有足够的灵活性，一方面解决学生学术背景中的空白，另一方面也避免重复修读部分课程。</li></ol><p><a href="https://www.aim.qmul.ac.uk/">https://www.aim.qmul.ac.uk/</a></p><h1 id="mtg"><a class="markdownIt-Anchor" href="#mtg"></a> MTG</h1><p>音乐技术研究组（Music Technology Group，简称MTG）来自巴塞罗那庞培法布拉大学（UPF）的信息与通信技术系（Dept. ICT），主要对音频信号处理，音乐信息检索，音乐接口和计算音乐学等主题进行研究。MTG希望为改善与声音、音乐相关的信息和通信技术做出贡献，在国际层面上开展有竞争力的研究，同时将其成果传递给社会。为此，MTG致力于在基础研究和应用研究之间找到平衡，促进跨学科方法的应用，这些方法应融合科学/技术和人文/艺术学科的知识和方法论。</p><h2 id="科研团队与项目-2"><a class="markdownIt-Anchor" href="#科研团队与项目-2"></a> 科研团队与项目</h2><p>MTG的研究结合科学、技术和艺术方法来理解、建模和生成声音和音乐信号，在许多具有重大社会和经济影响的战略领域做出贡献：</p><ol><li>艺术创作：开发旨在增强人们创造力的工具；</li><li>文化保护：理解，获取和保护世界音乐遗产；</li><li>教育：开发技术来增强音乐实践，从而促进音乐学习；</li><li>身心健康：研究音乐在个人、社交环境以及日常例行活动中作为调节器、感应器、陪伴者或增强器的好处；</li><li>可持续发展：分析、描述和监测声波环境，为保护和改善环境做出贡献。</li></ol><p>MTG的四个实验室：<br />一、音频信号处理实验室<br />该实验室通过结合信号处理和机器学习方法来进一步理解声音和音乐信号，结合数据驱动和知识驱动的方法，解决与自动音乐描述，音乐推荐以及音乐教育相关的实际问题。由Xavier Serra领导。<br />在数据方面，维护了许多与研究和实际应用相关的语料库，包括Freesound（海量音频数据库）、AcousticBrainz（原始声学信息库）和Dunya，并从中为特定的研究任务创建数据集，例如FSD数据集（用于声音分类），CompMusic数据集（用于音乐分析）。<br />主要的研究项目包括</p><ol><li>Essentia库：包含用于分析各种声音和音乐信号任务的方法与算法，从低级的音频信号表征到高级的分类任务，已广泛用于研究和商业应用；</li><li>MusicCritic：一项用于音乐教育的服务，可评估演奏的音调、节奏和音色；</li><li>Nextcore：新一代音乐监听技术，用于解决音乐版权问题，研究如何对特殊情况下的音乐进行识别，例如录音质量较低、有背景声音或经过Remix的音乐等；</li><li>MusicalBridges：基于音乐理解、计算音乐学来开发交互式工具帮助听众理解和欣赏不同国家地区的音乐文化；</li><li>AudioCommons：音频共享倡议项目，旨在促进开放音频内容的共享使用，并开发技术以支持相应的内容存储库、生产工具和用户音频共享生态系统；</li><li>CompMusic：从各国各地区不同的音乐文化角度应对当前音乐信息研究挑战，用计算手段研究印度音乐，土耳其音乐，中国京剧，北非音乐等；</li><li>DTIC-MdM战略计划：数据驱动的知识提取；</li></ol><p><a href="https://www.upf.edu/web/mtg/audio-signal-processing-lab">https://www.upf.edu/web/mtg/audio-signal-processing-lab</a></p><p>二、音乐信息研究实验室<br />该实验室研究主题为声音和音乐描述，音乐信息检索，歌声合成，声源分离，音乐和音频处理。在MIR领域探究自动生成“描述符”以捕获嵌入在音频信号中的声音或音乐特征。由Emilia Gómez领导。<br />主要的研究项目：</p><ol><li>Trompa：在线音乐公共领域档案馆，通过以用户为中心的共同创造来大规模丰富和普及公共音乐遗产；</li><li>音乐和记忆研究：基于Web，提供对于恢复阿尔茨海默氏症患者日常听力有帮助和对于其治疗有意义的音乐；</li><li>Melodia：旋律提取插件，根据复调音乐信号进行基频估计；</li><li>HPCP：chroma特征提取插件；</li><li>基于深度学习的歌声合成；</li><li>音乐中的歌声与打击乐成分的提取与分析；</li><li>音频与音乐符号自动对齐；<br />……</li></ol><p><a href="https://www.upf.edu/web/mtg/music-information-research-lab">https://www.upf.edu/web/mtg/music-information-research-lab</a></p><p>三、音乐和多模态交互实验室<br />该实验室专注于多模态交互技术的研究以及其在音乐创作中的应用。当前研究结合了人机交互、音乐信息检索、机器学习和生物计算等领域的技术，不仅应用在音乐创作领域，同时涵盖了虚拟现实、教育和健康等横向应用领域。由Sergi Jordà领导。<br />主要的研究项目：</p><ol><li><p>Reactable：一种具有简单直观设计的新型电子乐器，允许表演者通过操纵桌面上的有形物体来控制系统；（该乐器基于半透明的发光圆桌和一些圆盘，通过旋转圆盘并使其相互连接，表演者可以组合出不同的元素，例如合成器，效果器，采样循环等。）</p></li><li><p>reacTIVision：一个开源的跨平台计算机视觉框架，用于快速可靠地跟踪附着在物理对象上的基准标记以及多点触摸手指跟踪；</p></li><li><p>RAPID-MIX：面向音乐，游戏和电子医疗应用的创新人机交互产品；</p></li><li><p>多用户多任务的手势识别</p></li><li><p>用于隐式生理计算的声波交互设计</p></li></ol><p><a href="https://www.upf.edu/web/mtg/music-and-multimodal-interaction-lab">https://www.upf.edu/web/mtg/music-and-multimodal-interaction-lab</a></p><p>四、音乐与机器学习实验室<br />该实验室专注于音乐技术，人工智能，深度学习和神经科学的交叉领域，由Rafael Ramírez领导，其研究兴趣主要在于：</p><ol><li>对音乐表演中的“表达”进行建模：研究在富有表现力的音乐表演中音乐家如何操纵声音属性（例如音高，时值，音色）以诠释和表达出他们对于音乐作品的理解，并对其量化和建模；</li><li>情感与脑机接口：研究音乐与大脑情绪的关系和在人机交互中如何使用音乐改善用户的健康状况和生活质量；</li><li>Future Songwriting：开发数字工具以支持在校学生创作和制作自己的歌曲；</li><li>TIMUL和TELMI：从教学和科学两个角度研究学习乐器的方法，将多模态交互式方法用于音乐训练与学习；</li><li>MUSA：无障碍音乐播放器，由眼动仪或头部跟踪器设备控制音乐的演奏与播放；</li></ol><p><a href="https://www.upf.edu/web/mtg/music-and-machine-learning-lab">https://www.upf.edu/web/mtg/music-and-machine-learning-lab</a></p><p>五、实验室共同参与的项目</p><ol><li>Musical AI：加强对音乐的理解，开发基于AI的模型和工具来帮助听众更深入理解和欣赏音乐，并开发基于AI的模型来帮助音乐学习和音乐创作。该项目主要从以下四点入手：<br />a）混合人机智能：研究在数据驱动的音乐应用中结合人与机器智能的最佳策略，通过以人为中心的人工智能方法提升听觉效果与体验；<br />b）自动发现音乐：基于无监督的方法，从音频信号开始，在不同的语料库中发现表征不同音乐实体(如艺术家、作曲家、形式、风格等)的相关旋律模式；<br />c）由技术增强的音乐学习：基于有监督的方法，发现优秀的音乐表演练习模式，并利用这些模式在学生练习时给予反馈，以促进学习过程；<br />d）辅助人类音乐创作的机器音乐智能：同时适用于专业音乐人和业余爱好者。</li><li>MIP-Frontiers：面向MIR研究人员的跨学科、跨国和跨部门的欧洲培训网络，旨在培训新一代音乐信息处理的研究人员。</li></ol><h2 id="教学-2"><a class="markdownIt-Anchor" href="#教学-2"></a> 教学</h2><p>一、UPF信息与通信技术系 博士：<br />博士学位课程为期3年或4年，学生将接受MTG教员的指导，对声音和音乐计算领域进行系统的了解，学习所需技能和必要的研究方法，从而构思、设计和实施严谨的、个性化的实质性研究计划。</p><p>二、UPF信息与通信技术系 声音与音乐计算硕士：<br />该课程使学生们能够熟练掌握声音与音乐计算的前沿技术，结合了音频信号处理、机器学习、感知与认知、交互系统、计算音乐学和语义技术等研究方向的实践和理论方法，为学生开始研究或职业生涯提供了科学和技术背景。</p><p>三、本科教育：<br />UPF信息与通信技术系的视听系统工程学士学位、计算机工程学士学位和数据科学数学工程学士学位学生，加泰罗尼亚高等音乐学院的声学音乐学士学位学生都可参加MTG的项目和活动。</p><p>四、在线课程：</p><ol><li>Coursera上的“Audio Signal Processing for Music Applications”（用于音乐应用程序的音频信号处理）课程；</li><li>Kadenze上的“North Indian Classical Music”课程；</li><li>Miríadax上的“Cante Flamenco Tech”课程；<br />除上述课程外，还有一些在线教育资料，如Essentia Python教程，用于音乐信息检索的软件工具，分析京剧音乐的计算工具等。</li></ol><p><a href="https://www.upf.edu/web/mtg/education-outreach/education">https://www.upf.edu/web/mtg/education-outreach/education</a></p><h1 id="ccrma"><a class="markdownIt-Anchor" href="#ccrma"></a> CCRMA</h1><p>美国斯坦福大学的音乐与声学计算机研究中心（Center for Computer Research in Music and Acoustics，简称CCRMA）于1975年由John Chowning创建，是一个多学科的研究机构，作曲家和研究人员共同使用计算机技术作为艺术媒介和研究工具。其研究领域包括应用硬件/软件、合成技术与算法、物理建模、音乐与移动设备、传感器与实时控制器、信号处理、数字录音与编辑、心理声学与音乐音响、感知音频编码、音乐信息检索、音频网络等。</p><h2 id="科研团队与项目-3"><a class="markdownIt-Anchor" href="#科研团队与项目-3"></a> 科研团队与项目</h2><p>一、音乐、计算与设计研究小组（M:C:D）：由教师Ge Wang领导，进行音乐、计算、美学和设计的交叉研究，包括以下领域和项目：</p><ol><li>计算机音乐软件系统的创意设计：《Artful Design》；</li><li>编程语言和交互式环境：例如ChucK（一种用于实时声音合成和音乐创作的编程语言）、sndpeek（实时音频可视化平台）、miniAudicle（ChucK语言的轻量级集成开发环境）等；</li><li>社会、人文与认知方面的音乐表达与计算；</li><li>移动音乐/社交音乐：例如手机乐团（MoPhO），使用手机作为主乐器进行合奏，利用现代软硬件独特技术功能，将多点触摸屏、内置加速度计、内置麦克风、GPS、数据网络和计算功能转换为功能强大且可移动的元乐器。</li><li>计算机介导的表演合奏：例如斯坦福笔记本电脑乐团（SLOrk），乐团使用20多台担任不同角色的笔记本电脑进行大型音乐合奏；</li><li>交互式源分离编辑器（ISSE）：使用户可以通过在声音的时-频可视化上进行绘画来执行音源分离的跨平台音频编辑工具；<br />……</li></ol><p><a href="https://ccrma.stanford.edu/groups/mcd/">https://ccrma.stanford.edu/groups/mcd/</a></p><p>二、神经音乐实验室：由Takako Fujioka于2012年牵头建立，研究目标是在基础神经科学、音乐在生命科学和工程中的应用和音乐本身的知识之间建立紧密的联系，研究项目有：</p><ol><li>音乐结构处理：包括和弦、调式、旋律图案等，以及乐谱阅读中的视听处理；</li><li>音乐、语言与情感之间的关系研究；</li><li>听觉节奏的动力学系统建模；</li><li>神经可塑性及其治疗应用：包括对中风康复，人工耳蜗听觉和人类学习弹奏新乐器的研究。</li></ol><p><a href="https://ccrma.stanford.edu/groups/neuromusiclab/">https://ccrma.stanford.edu/groups/neuromusiclab/</a></p><p>三、SoundWIRE研究小组：将互联网网络用作计算机音乐性能、作曲和研究的扩展。研究领域和项目：</p><ol><li>专业品质的低延迟多声道音频流；</li><li>网络可靠性的声音化；</li><li>高品质网络音乐会；</li><li>JackTrip：在因特网上提供高质量音频网络性能的系统。</li></ol><p><a href="https://ccrma.stanford.edu/groups/soundwire/">https://ccrma.stanford.edu/groups/soundwire/</a></p><p>四、其它研究小组与项目</p><ol><li>虚拟现实设计实验室：对音乐的虚拟、增强和混合现实（VR，AR，XR）的巧妙设计进行研究；</li><li>跨媒体性能实验室（IPL）：致力于跨学科艺术的研究与教育；</li><li>音乐的物理交互设计：设计新颖的物理界面和接口来创作音乐；</li><li>音乐参与研究计划（MERI）：开发并整合了多种测量音乐参与度的方法，包括测量大脑皮层反应和与音乐唤醒、情绪反应相关的生理标记，以及分析在线社交网络中用户的音乐相关行为；</li><li>虚拟世界中的音乐（MvW）：研究在虚拟环境中创建和控制音乐的模式和方法；</li><li>音乐历史研究：对1920年以前的大量录音资料进行数字化、编目和记录；</li><li>空间声音研究：从技术、音乐创作和表演的角度研究声音的空间化以及声音扩散；<br />……</li></ol><p><a href="https://ccrma.stanford.edu/groups/">https://ccrma.stanford.edu/groups/</a></p><h2 id="教学-3"><a class="markdownIt-Anchor" href="#教学-3"></a> 教学</h2><p>CCRMA是斯坦福大学音乐系的一部分。该中心开设的课程和研讨会对斯坦福大学注册学生和访问学者开放。</p><p>一、基于计算机的音乐理论与声学博士项目：<br />该项目同时从音乐、计算机科学、电子工程、机械工程和心理学专业招收博士生。若学生对此项目感兴趣，需先向斯坦福大学提交以上某一专业的博士生入学申请，再由CCRMA对其进行评估和筛选。CCRMA不单独招生。<br />该项目必修课程包括：计算机生成声音基础；作曲算法、心理声学和计算音乐；计算机生成音乐研讨会；心理物理学与音乐认知；作曲构图分析；音频信号处理导论（频谱分析与数字滤波器）；浪漫主义晚期到当代的曲目分析。</p><p>二、音乐、科学与技术硕士学位（MA/MST）：<br />该硕士项目为期两年，由45个课程单元组成，课程重点在音乐感知的整合，音乐相关的信号处理与控制器，合成、表演与作曲。该项目是为拥有音乐、工程学或理科学士学位的学生设计的。<br />必修课程包括：CCRMA学术讨论会；计算机生成声音基础；心理物理学与音乐认知；音乐、计算与设计的艺术；音频信号处理导论（频谱分析与数字滤波器）。</p><p>三、本科教育：<br />斯坦福大学音乐系的学生可以选修MST（Music, Science and Technology）的相关课程。</p><p>四、在线课程：</p><ol><li>Physics-based sound synthesis for games and interactive systems（用于游戏和交互系统的基于物理的声音合成）；</li><li>Careers in media technology（媒体技术职业）；</li><li>Audio signal processing for music applications（用于音乐应用程序的音频信号处理），与MTG共同设立的课程；</li><li>Structuring interactive software for digital arts（为数字艺术构建交互式软件）。<br />五、部分其它课程：</li><li>计算机音乐的即兴创作和算法性能；</li><li>生物信息学的听觉重映射；</li><li>音乐声学；</li><li>电子音乐的创作和演奏；</li><li>录音技术基础；</li><li>音乐的物理交互设计；</li><li>音乐信息导论；</li><li>配器与音色分析；</li><li>音乐、健康与医学；<br />10）音乐感知与认知；</li><li>时-频音频信号处理；</li><li>听觉和音乐神经科学基础；<br />……</li></ol><p><a href="https://ccrma.stanford.edu/academics">https://ccrma.stanford.edu/academics</a></p><h1 id="ircam"><a class="markdownIt-Anchor" href="#ircam"></a> IRCAM</h1><p>法国的声学/音乐协调研究所（Institute for Research and Coordination in Acoustics/Music，简称IRCAM）由Frank Madlener领导，是世界上最大的同时致力于音乐表达和科学研究的研究中心之一，艺术情感与科技创新的碰撞吸引了超过160位合作者。</p><h2 id="科研团队与项目-4"><a class="markdownIt-Anchor" href="#科研团队与项目-4"></a> 科研团队与项目</h2><p>IRCAM的STMS（Science and Technology of Music and Sound）联合研究实验室由7个小组组成，其研究与活动围绕三个多学科的交叉主题进行组织，分别为声音研讨会、音乐形体和创作动力，涵盖了音乐和声音的整个科学技术领域。</p><p>一、声音系统和信号研究团队（S3AM）：该团队对音频和声学中的声音对象进行理解、再现和发明，重点在于乐器和人声的产生，目标应用涉及科学、艺术、教育和医疗保健领域。研究主题包括：</p><ol><li>乐器声音的物理建模；</li><li>基于物理建模的声音合成；</li><li>非线性系统的识别与控制；</li><li>乐器声学；<br />研究项目有：</li><li>增强乐器与智能乐器；</li><li>Modalys：通过该软件，用户可以基于简单的物理对象（例如弦、管、膜等）创建新的虚拟乐器；</li><li>“绝对蜗牛”调音软件：提供新颖的乐器调音，音准处理以及实时可视化音乐功能；</li><li>实验性机器人平台：用于吹奏铜管乐器的一比一机器人人工嘴；</li></ol><p><a href="http://s3am.ircam.fr/">http://s3am.ircam.fr/</a></p><p>二、声学与认知空间研究团队：该团队主要研究空间化音频的再现技术和分析、合成声场的方法，同时进行基于多感官整合的认知研究，以开发新的交互设备。研究项目有：</p><ol><li>3DR3：室内脉冲响应渲染器，进行空间作品的捕获，混合和3D扩散；</li><li>听觉空间认知：研究不同感官之间的关系与对情感的综合影响；</li><li>声音场景分析；</li><li>双耳空间化声音再现技术；</li><li>SPAT：实时3D音频混合引擎；</li><li>Panoramix：3D音频内容的后期制作工作站；</li></ol><p><a href="https://www.ircam.fr/recherche/equipes-recherche/eac/">https://www.ircam.fr/recherche/equipes-recherche/eac/</a></p><p>三、感知与声音设计研究团队：该团队的研究重点是声音的感知与认知，将来自心理声学、声音信号处理与合成、心理学和认知神经科学的知识整合在一起，围绕声音设计领域的创作和教育活动进行。研究主要集中在环境声音上。<br />研究主题包括：</p><ol><li>多源声音场景的感知；</li><li>复杂声音场景的分析与感知表征；</li><li>声音与交互；</li><li>声音与情感；<br />……<br />研究项目有：</li><li>MICA：通过团体音乐即兴演奏分析音乐互动与感知；</li><li>CREAM：将神经科学方法与信号处理技术结合，把音乐作为一种真正的临床技术，以非侵入性和非药理学的方式刺激特定的神经元回路，以产生或抑制某种情绪；</li><li>LEGOS：基于手势的交互式声音系统中的感觉运动学习；</li><li>ACTIVATE：借助语音技术控制口语对话中的情绪特征；<br />……</li></ol><p><a href="https://www.stms-lab.fr/team/perception-et-design-sonores/">https://www.stms-lab.fr/team/perception-et-design-sonores/</a></p><p>四、声音分析-合成研究团队：该团队开发用于处理数字音频信号的算法，分为四个主题：</p><ol><li>利用数字信号处理和统计学的理论及方法对声音进行分析、表示、变换与合成；</li><li>人类声音的分析、合成与转换；</li><li>使用不同级别的音频特征表示音乐内容；</li><li>基于声源物理模型的声处理；<br />研究项目有：</li><li>ChaNTeR：一个高质量的歌唱声音合成系统，具有可实时控制的数字演唱功能，可以供普通公众使用；</li><li>PHYSIS：为交互式虚拟世界（视频游戏、仿真环境等）和增强现实（AR）提供声音的实时合成与转换；</li><li>AS Annotation：用于分析和注解声音文件的应用程序，包含先进的声音分析算法和专用的声音检查工具；</li><li>Trax：声音转换器，包含多种变声效果和特殊音效；<br />……</li></ol><p><a href="http://anasynth.ircam.fr/home/">http://anasynth.ircam.fr/home/</a></p><p>五、声音音乐运动交互研究团队：对用于音乐和表演的交互系统进行研究与开发。研究主题分为四点：</p><ol><li>声音与手势的建模分析；</li><li>多模态交互工具；</li><li>交互式声音合成与处理；</li><li>手势捕捉与增强乐器系统；<br />研究项目包括：</li><li>SkAT-VG：使用发声和手势的音频绘制技术；</li><li>MusicBricks：为数字音乐创作者打造的音乐构造块；</li><li>RAPID-MIX：与MTG和多个欧洲研究机构合作研发的大型交互系统；<br />……</li></ol><p><a href="http://ismm.ircam.fr/">http://ismm.ircam.fr/</a></p><p>六、音乐表现研究团队：该团队研究音乐的形式结构以及作曲与音乐互动的创造性环境，应用于计算机辅助作曲（CAC）、表演、即兴创作和计算音乐学等。<br />研究项目有：</p><ol><li>OpenMusic：用于计算机辅助作曲或音乐分析的可视化编程环境，包含多个工具、功能和模块；</li><li>Orchids：自动搜索乐器进行乐曲编排的系统，搜索时根据不同的声学相似性标准来接近作曲者定义的目标；</li><li>OMax：使用计算机进行即兴创作的软件，使用了新型的即兴人机音乐交互模式；</li><li>Antescofo：是一个模块化的乐谱跟踪系统，也是一种用于音乐创作的同步编程语言；</li><li>数学与音乐：研究计算音乐学中的代数模型、拓扑与类别，扩充计算音乐中的数学工具，探索古典音乐和流行音乐之间的理论和实践联系；<br />……</li></ol><p><a href="https://www.ircam.fr/recherche/equipes-recherche/repmus/">https://www.ircam.fr/recherche/equipes-recherche/repmus/</a></p><p>七、音乐实践分析研究团队：该团队对构成IRCAM核心的作品和学术实践进行研究，研究主题有：</p><ol><li>作曲分析；</li><li>表演分析；</li><li>现代听力练习；</li><li>音乐学与人文；</li><li>音乐多媒体发布工具；</li></ol><p><a href="https://www.ircam.fr/recherche/equipes-recherche/apm/">https://www.ircam.fr/recherche/equipes-recherche/apm/</a></p><p>注：以上介绍的部分研究项目是由多个研究团队合作完成</p><h2 id="教学-4"><a class="markdownIt-Anchor" href="#教学-4"></a> 教学</h2><p>IRCAM提供了从初学者到专家级别的一系列培训模块，主要分为四个主题：实时交互，声音处理，计算机辅助合成，Web音频。课程对象包括作曲家，音乐家，声音设计师，视频编辑，技术人员，声音工程师，戏剧和后期制作专业人员，教师，学生等。</p><p><a href="https://www.ircam.fr/transmission/">https://www.ircam.fr/transmission/</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;本文对国外部分音乐人工智能/音乐科技科研机构的科研项目与教学课程设置作简要介绍，包括英国伦敦玛丽女王大学（Queen Mary）的数字音乐中心（C4DM）、西班牙巴塞罗那庞培法布拉大学（UPF）的音乐技术研究组（MTG）、美国斯坦福大学的音乐与声学计算机研究中心（CCRMA</summary>
      
    
    
    
    <category term="经验与总结" scheme="http://wzw21.cn/categories/%E7%BB%8F%E9%AA%8C%E4%B8%8E%E6%80%BB%E7%BB%93/"/>
    
    
    <category term="音乐人工智能" scheme="http://wzw21.cn/tags/%E9%9F%B3%E4%B9%90%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/"/>
    
    <category term="音乐科技" scheme="http://wzw21.cn/tags/%E9%9F%B3%E4%B9%90%E7%A7%91%E6%8A%80/"/>
    
    <category term="科研项目" scheme="http://wzw21.cn/tags/%E7%A7%91%E7%A0%94%E9%A1%B9%E7%9B%AE/"/>
    
  </entry>
  
  <entry>
    <title>PyTorch入门程序</title>
    <link href="http://wzw21.cn/2022/02/20/hello-pytorch/"/>
    <id>http://wzw21.cn/2022/02/20/hello-pytorch/</id>
    <published>2022-02-20T12:42:42.000Z</published>
    <updated>2022-02-20T12:52:37.544Z</updated>
    
    <content type="html"><![CDATA[<p>在 <a href="https://www.youtube.com/watch?v=4p0G6tgNLis">PyTorch For Audio and Music Processing</a> 入门代码的基础上添加了一些注释和新的内容</p><ol><li>Download dataset</li><li>Create data loader</li><li>Build model</li><li>Train</li><li>Save trained model</li><li>Load model</li><li>Predict</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">from</span> torch <span class="keyword">import</span> nn</span><br><span class="line"><span class="keyword">from</span> torch.utils.data <span class="keyword">import</span> DataLoader</span><br><span class="line"><span class="keyword">from</span> torchvision <span class="keyword">import</span> datasets</span><br><span class="line"><span class="keyword">from</span> torchvision.transforms <span class="keyword">import</span> ToTensor</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">download_mnist_datasets</span>():</span></span><br><span class="line">  train_data = datasets.MNIST(</span><br><span class="line">      root=<span class="string">&quot;data&quot;</span>,</span><br><span class="line">      download=<span class="literal">True</span>,</span><br><span class="line">      train=<span class="literal">True</span>,</span><br><span class="line">      transform=ToTensor() </span><br><span class="line">  )</span><br><span class="line">  val_data = datasets.MNIST(</span><br><span class="line">      root=<span class="string">&quot;data&quot;</span>,</span><br><span class="line">      download=<span class="literal">True</span>,</span><br><span class="line">      train=<span class="literal">False</span>,</span><br><span class="line">      transform=ToTensor() </span><br><span class="line">  )</span><br><span class="line">  <span class="keyword">return</span> train_data, val_data</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SimpleNet</span>(<span class="params">nn.Module</span>):</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span> <span class="comment"># constructor</span></span><br><span class="line">    <span class="built_in">super</span>().__init__()</span><br><span class="line">    self.flatten = nn.Flatten()</span><br><span class="line">    self.dense_layers = nn.Sequential(</span><br><span class="line">        nn.Linear(<span class="number">28</span>*<span class="number">28</span>, <span class="number">256</span>), <span class="comment"># Fully Connected layer (input_shape, output_shape)</span></span><br><span class="line">        nn.ReLU(),</span><br><span class="line">        nn.Linear(<span class="number">256</span>, <span class="number">10</span>)</span><br><span class="line">    )</span><br><span class="line">    self.softmax = nn.Softmax(dim=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">forward</span>(<span class="params">self, input_data</span>):</span></span><br><span class="line">    flattened_data = self.flatten(input_data)</span><br><span class="line">    logits = self.dense_layers(flattened_data) <span class="comment"># logits here means the input of the final softmax</span></span><br><span class="line">    predictions = self.softmax(logits)</span><br><span class="line">    <span class="keyword">return</span> predictions</span><br></pre></td></tr></table></figure><p>Need more code than Tensorflow 2.x or Keras!</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">train_one_epoch</span>(<span class="params">model, data_loader, loss_fn, optimizer, device</span>):</span></span><br><span class="line">  model.train() <span class="comment"># change to train mode</span></span><br><span class="line">  loss_sum = <span class="number">0.</span></span><br><span class="line">  correct = <span class="number">0</span></span><br><span class="line">  <span class="keyword">for</span> inputs, targets <span class="keyword">in</span> data_loader:</span><br><span class="line">    inputs, targets = inputs.to(device), targets.to(device)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># calculate loss</span></span><br><span class="line">    predictions = model(inputs) <span class="comment"># this will call forward function automatically</span></span><br><span class="line">    loss = loss_fn(predictions, targets)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># backpropagate loss and update weights</span></span><br><span class="line">    optimizer.zero_grad() <span class="comment"># reset grads</span></span><br><span class="line">    loss.backward() <span class="comment"># calculate grads</span></span><br><span class="line">    optimizer.step() <span class="comment"># update weights</span></span><br><span class="line"></span><br><span class="line">    loss_sum += loss.item() <span class="comment"># item() returns the value of this tensor as a standard Python number</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">with</span> torch.no_grad():</span><br><span class="line">      _, predictions_indexes = torch.<span class="built_in">max</span>(predictions, <span class="number">1</span>) <span class="comment"># get predicted indexes</span></span><br><span class="line">      correct += torch.<span class="built_in">sum</span>(predictions_indexes == targets)</span><br><span class="line">      <span class="comment"># or correct += (predictions.argmax(1) == targets).type(torch.float).sum().item()</span></span><br><span class="line"></span><br><span class="line">  print(<span class="string">f&quot;Train loss: <span class="subst">&#123;(loss_sum / <span class="built_in">len</span>(data_loader)):<span class="number">.4</span>f&#125;</span>, train accuracy: <span class="subst">&#123;(correct / <span class="built_in">len</span>(data_loader.dataset)):<span class="number">.4</span>f&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">val_one_epoch</span>(<span class="params">model, data_loader, loss_fn, device</span>):</span></span><br><span class="line">  model.<span class="built_in">eval</span>() <span class="comment"># change to eval mode</span></span><br><span class="line">  loss_sum = <span class="number">0.</span></span><br><span class="line">  correct = <span class="number">0</span></span><br><span class="line">  <span class="keyword">with</span> torch.no_grad():</span><br><span class="line">    <span class="keyword">for</span> inputs, targets <span class="keyword">in</span> data_loader:</span><br><span class="line">      inputs, targets = inputs.to(device), targets.to(device)</span><br><span class="line"></span><br><span class="line">      predictions = model(inputs)</span><br><span class="line">      loss = loss_fn(predictions, targets)</span><br><span class="line"></span><br><span class="line">      loss_sum += loss.item()</span><br><span class="line">      _, predictions_indexes = torch.<span class="built_in">max</span>(predictions, <span class="number">1</span>)</span><br><span class="line">      correct += torch.<span class="built_in">sum</span>(predictions_indexes == targets)</span><br><span class="line"></span><br><span class="line">  print(<span class="string">f&quot;Validation loss: <span class="subst">&#123;(loss_sum / <span class="built_in">len</span>(data_loader)):<span class="number">.4</span>f&#125;</span>, validation accuracy: <span class="subst">&#123;(correct / <span class="built_in">len</span>(data_loader.dataset)):<span class="number">.4</span>f&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">train</span>(<span class="params">model, train_data_loader, val_data_loader, loss_fn, optimizer, device, epochs</span>):</span></span><br><span class="line">  <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(epochs):</span><br><span class="line">    print(<span class="string">f&quot;Epoch <span class="subst">&#123;i+<span class="number">1</span>&#125;</span>&quot;</span>)</span><br><span class="line">    train_one_epoch(model, train_data_loader, loss_fn, optimizer, device)</span><br><span class="line">    val_one_epoch(model, val_data_loader, loss_fn, device)</span><br><span class="line">    print(<span class="string">&quot;-----------------------&quot;</span>)</span><br><span class="line">  print(<span class="string">&quot;Training is done&quot;</span>)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">predict</span>(<span class="params">model, <span class="built_in">input</span>, target, class_mapping</span>):</span></span><br><span class="line">  <span class="comment"># input&#x27;s shape = torch.Size([1, 28, 28])</span></span><br><span class="line">  model.<span class="built_in">eval</span>() <span class="comment"># change to eval mode</span></span><br><span class="line">  <span class="keyword">with</span> torch.no_grad(): <span class="comment"># don&#x27;t have to calculate grads here</span></span><br><span class="line">    predictions = model(<span class="built_in">input</span>)</span><br><span class="line">    <span class="comment"># predictions&#x27; shape = torch.Size([1, 10])</span></span><br><span class="line">    predicted_index = predictions[<span class="number">0</span>].argmax(<span class="number">0</span>)</span><br><span class="line">    predicted = class_mapping[predicted_index]</span><br><span class="line">    expected = class_mapping[target]</span><br><span class="line">  <span class="keyword">return</span> predicted, expected</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> torch.cuda.is_available():</span><br><span class="line">  device = <span class="string">&quot;cuda&quot;</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">  device = <span class="string">&quot;cpu&quot;</span></span><br><span class="line">print(<span class="string">f&quot;Using <span class="subst">&#123;device&#125;</span> device&quot;</span>)</span><br><span class="line"></span><br><span class="line">BATCH_SIZE = <span class="number">32</span></span><br><span class="line">EPOCHS = <span class="number">10</span></span><br><span class="line">LEARNING_RATE = <span class="number">.001</span></span><br><span class="line"></span><br><span class="line">class_mapping = [</span><br><span class="line">  <span class="string">&quot;0&quot;</span>,</span><br><span class="line">  <span class="string">&quot;1&quot;</span>,</span><br><span class="line">  <span class="string">&quot;2&quot;</span>,</span><br><span class="line">  <span class="string">&quot;3&quot;</span>,</span><br><span class="line">  <span class="string">&quot;4&quot;</span>,</span><br><span class="line">  <span class="string">&quot;5&quot;</span>,</span><br><span class="line">  <span class="string">&quot;6&quot;</span>,</span><br><span class="line">  <span class="string">&quot;7&quot;</span>,</span><br><span class="line">  <span class="string">&quot;8&quot;</span>,</span><br><span class="line">  <span class="string">&quot;9&quot;</span></span><br><span class="line">]</span><br></pre></td></tr></table></figure><pre><code>Using cuda device</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># download MNIST dataset</span></span><br><span class="line">train_data, val_data = download_mnist_datasets()</span><br><span class="line">print(<span class="string">&quot;Dataset downloaded&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># create a data loader for the train set</span></span><br><span class="line">train_data_loader = DataLoader(train_data, batch_size=BATCH_SIZE)</span><br><span class="line">val_data_loader = DataLoader(val_data, batch_size=BATCH_SIZE)</span><br></pre></td></tr></table></figure><pre><code>Dataset downloaded</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># build model</span></span><br><span class="line">simple_net = SimpleNet().to(device)</span><br><span class="line"></span><br><span class="line">loss_fn = nn.CrossEntropyLoss()</span><br><span class="line">optimizer = torch.optim.Adam(simple_net.parameters(), lr=LEARNING_RATE)</span><br><span class="line"></span><br><span class="line"><span class="comment"># train model</span></span><br><span class="line">train(simple_net, train_data_loader, val_data_loader, loss_fn, optimizer, device, EPOCHS)</span><br><span class="line"></span><br><span class="line"><span class="comment"># save model</span></span><br><span class="line">torch.save(simple_net.state_dict(), <span class="string">&quot;simple_net.pth&quot;</span>)</span><br><span class="line">print(<span class="string">&quot;Model saved&quot;</span>)</span><br><span class="line"><span class="comment"># torch.save(model.state_dict(), &quot;my_model.pth&quot;)  # only save parameters</span></span><br><span class="line"><span class="comment"># torch.save(model, &quot;my_model.pth&quot;)  # save the whole model</span></span><br><span class="line"><span class="comment"># checkpoint = &#123;&quot;net&quot;: model.state_dict(), &quot;optimizer&quot;: optimizer.state_dict(), &quot;epoch&quot;: epoch&#125;</span></span><br></pre></td></tr></table></figure><pre><code>Epoch 1Train loss: 1.5717, train accuracy: 0.9036Validation loss: 1.5280, validation accuracy: 0.9388-----------------------Epoch 2Train loss: 1.5148, train accuracy: 0.9506Validation loss: 1.5153, validation accuracy: 0.9507-----------------------Epoch 3Train loss: 1.5008, train accuracy: 0.9629Validation loss: 1.5016, validation accuracy: 0.9625-----------------------Epoch 4Train loss: 1.4924, train accuracy: 0.9707Validation loss: 1.4958, validation accuracy: 0.9680-----------------------Epoch 5Train loss: 1.4871, train accuracy: 0.9760Validation loss: 1.4919, validation accuracy: 0.9702-----------------------Epoch 6Train loss: 1.4837, train accuracy: 0.9789Validation loss: 1.4884, validation accuracy: 0.9742-----------------------Epoch 7Train loss: 1.4811, train accuracy: 0.9814Validation loss: 1.4885, validation accuracy: 0.9736-----------------------Epoch 8Train loss: 1.4787, train accuracy: 0.9837Validation loss: 1.4896, validation accuracy: 0.9724-----------------------Epoch 9Train loss: 1.4771, train accuracy: 0.9851Validation loss: 1.4884, validation accuracy: 0.9739-----------------------Epoch 10Train loss: 1.4758, train accuracy: 0.9863Validation loss: 1.4889, validation accuracy: 0.9732-----------------------Training is doneModel saved</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># load model</span></span><br><span class="line">reloaded_simple_net = SimpleNet()</span><br><span class="line">state_dict = torch.load(<span class="string">&quot;simple_net.pth&quot;</span>)</span><br><span class="line">reloaded_simple_net.load_state_dict(state_dict)</span><br><span class="line"></span><br><span class="line"><span class="comment"># make an inference</span></span><br><span class="line"><span class="built_in">input</span>, target = val_data[<span class="number">0</span>][<span class="number">0</span>], val_data[<span class="number">0</span>][<span class="number">1</span>]</span><br><span class="line">predicted, expected = predict(reloaded_simple_net, <span class="built_in">input</span>, target, class_mapping)</span><br><span class="line">print(<span class="string">f&quot;Predicted: &#x27;<span class="subst">&#123;predicted&#125;</span>&#x27;, expected: &#x27;<span class="subst">&#123;expected&#125;</span>&#x27;&quot;</span>)</span><br></pre></td></tr></table></figure><pre><code>Predicted: '7', expected: '7'</code></pre>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;在 &lt;a href=&quot;https://www.youtube.com/watch?v=4p0G6tgNLis&quot;&gt;PyTorch For Audio and Music Processing&lt;/a&gt; 入门代码的基础上添加了一些注释和新的内容&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Down</summary>
      
    
    
    
    <category term="操作步骤与实践" scheme="http://wzw21.cn/categories/%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%AA%A4%E4%B8%8E%E5%AE%9E%E8%B7%B5/"/>
    
    
    <category term="Pytorch" scheme="http://wzw21.cn/tags/Pytorch/"/>
    
  </entry>
  
  <entry>
    <title>音乐速度与节拍估计（二）教程阅读笔记</title>
    <link href="http://wzw21.cn/2022/02/14/tempo-tutorial-notes/"/>
    <id>http://wzw21.cn/2022/02/14/tempo-tutorial-notes/</id>
    <published>2022-02-14T15:44:03.000Z</published>
    <updated>2022-02-15T08:33:16.521Z</updated>
    
    <content type="html"><![CDATA[<p>ISMIR 2021 速度、节拍与强拍估计教程阅读笔记</p><p>教程链接： <a href="https://tempobeatdownbeat.github.io/tutorial/intro.html">Tempo, Beat, and Downbeat Estimation — Tempo, Beat and Downbeat Estimation (tempobeatdownbeat.github.io)</a></p><h1 id="annotate"><a class="markdownIt-Anchor" href="#annotate"></a> Annotate</h1><p>自动标注 + 自动修正 + 人工修正</p><h1 id="baseline"><a class="markdownIt-Anchor" href="#baseline"></a> Baseline</h1><p>See <a href="https://wzw21.cn/2022/02/04/tempo-baseline">音乐速度与节拍估计基本方法 | WiZardWen (wzw21.cn)</a></p><h1 id="evaluate"><a class="markdownIt-Anchor" href="#evaluate"></a> Evaluate</h1><h2 id="f-measure"><a class="markdownIt-Anchor" href="#f-measure"></a> F-measure</h2><ul><li>将节拍估计问题视为二分类问题来进行评估</li><li>Typically use a tolerance window of +/- 70ms around each ground truth annotation.</li><li>使用 F-measure 的好处：Catch either: i) natural human variation in tapping and not punish it, or ii) contend with cases like arpeggiated chords where it’s difficult to mark a single beat location.</li><li>计算方式</li></ul><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>P</mi><mi>r</mi><mi>e</mi><mi>c</mi><mi>i</mi><mi>s</mi><mi>i</mi><mi>o</mi><mi>n</mi><mo>=</mo><mfrac><mrow><mi>T</mi><mi>P</mi></mrow><mrow><mi>T</mi><mi>P</mi><mo>+</mo><mi>F</mi><mi>P</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">Precision = \frac {TP} {TP + FP}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">i</span><span class="mord mathdefault">s</span><span class="mord mathdefault">i</span><span class="mord mathdefault">o</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.1296600000000003em;vertical-align:-0.7693300000000001em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.36033em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693300000000001em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>R</mi><mi>e</mi><mi>c</mi><mi>a</mi><mi>l</mi><mi>l</mi><mo>=</mo><mfrac><mrow><mi>T</mi><mi>P</mi></mrow><mrow><mi>T</mi><mi>P</mi><mo>+</mo><mi>F</mi><mi>N</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">Recall = \frac {TP} {TP + FN}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.1296600000000003em;vertical-align:-0.7693300000000001em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.36033em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693300000000001em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>F</mi><mi>m</mi><mi>e</mi><mi>a</mi><mi>s</mi><mi>u</mi><mi>r</mi><mi>e</mi><mo>=</mo><mo stretchy="false">(</mo><mn>1</mn><mo>+</mo><msup><mi>β</mi><mn>2</mn></msup><mo stretchy="false">)</mo><mo>⋅</mo><mfrac><mrow><mi>P</mi><mi>r</mi><mi>e</mi><mi>c</mi><mi>i</mi><mi>s</mi><mi>i</mi><mi>o</mi><mi>n</mi><mo>⋅</mo><mi>R</mi><mi>e</mi><mi>c</mi><mi>a</mi><mi>l</mi><mi>l</mi></mrow><mrow><msup><mi>β</mi><mn>2</mn></msup><mo>⋅</mo><mi>P</mi><mi>r</mi><mi>e</mi><mi>c</mi><mi>i</mi><mi>s</mi><mi>i</mi><mi>o</mi><mi>n</mi><mo>+</mo><mi>R</mi><mi>e</mi><mi>c</mi><mi>a</mi><mi>l</mi><mi>l</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">Fmeasure=(1+\beta ^2)\cdot \frac {Precision\cdot Recall} {\beta^2\cdot Precision + Recall}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="mord mathdefault">m</span><span class="mord mathdefault">e</span><span class="mord mathdefault">a</span><span class="mord mathdefault">s</span><span class="mord mathdefault">u</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">e</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.1141079999999999em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05278em;">β</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:2.25188em;vertical-align:-0.8804400000000001em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.05278em;">β</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.740108em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">i</span><span class="mord mathdefault">s</span><span class="mord mathdefault">i</span><span class="mord mathdefault">o</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">i</span><span class="mord mathdefault">s</span><span class="mord mathdefault">i</span><span class="mord mathdefault">o</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8804400000000001em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><h2 id="cemgils-method"><a class="markdownIt-Anchor" href="#cemgils-method"></a> Cemgil’s method</h2><ul><li>使用高斯分布作为分值来进行评估</li><li>将 F-measure 与 Cemgil 结合使用，F-measure 反映所估计节拍的 metrical level and phase，Cemgil 则反映节拍位置是否正确（更精确）</li></ul><h2 id="continuity-based-method"><a class="markdownIt-Anchor" href="#continuity-based-method"></a> Continuity-based method</h2><ul><li>Consider beat <em>i</em> to be accurate if it falls within the tolerance window and that beat <em>i-1</em> also falls within its respective tolerance window.</li><li>CMLc: “correct” (i.e., annotated) metrical level, with longest single continous segment.</li><li>CMLt: “correct” (i.e., annotated) metrical level, with the total of continous segments.</li><li>AMLc: “allowed” metrical levels, with longest single continous segment.</li><li>AMLt: “allowed” metrical levels, with the total of continous segments.</li><li>Metrical level 包括<ul><li>The same metrical level and “in-phase”</li><li>The same metrical level, but tapped on the “off-beat”</li><li>Twice the annotated metrical level</li><li>Half the annotated metrical level （两种）</li></ul></li></ul><h2 id="others"><a class="markdownIt-Anchor" href="#others"></a> Others</h2><ul><li>评估方法的选择</li><li>拓展到 Tempo 和 Downbeat</li></ul><h1 id="theoretical-underpinnings"><a class="markdownIt-Anchor" href="#theoretical-underpinnings"></a> Theoretical Underpinnings</h1><p>General pipeline commonly used for beat and/or downbeat tracking systems: feature extraction -&gt; likelihood estimation -&gt; post-processing.</p><h2 id="feature-extraction"><a class="markdownIt-Anchor" href="#feature-extraction"></a> Feature extraction</h2><ul><li>Three most explored categories of musically inspired features<ul><li>Chroma (CH), reflect the harmonic content of the signal</li><li>Onset detection function (ODF) or spectral flux (SF), event-oriented indicators</li><li>Spectral coefficients or MFCCs, timbre inspired features</li></ul></li><li>Combinations of logarithmic spectrograms with <strong>different resolutions</strong> (recently)</li></ul><h2 id="likelihood-estimation"><a class="markdownIt-Anchor" href="#likelihood-estimation"></a> Likelihood estimation</h2><ul><li>Heuristics method or traditional machine learning method<ul><li>Template</li><li>GMM, k-means: recognize rhythm patterns</li><li>Limitation: need assumptions of style or genre</li></ul></li><li>Deep learning method</li></ul><h2 id="inference-post-processing"><a class="markdownIt-Anchor" href="#inference-post-processing"></a> Inference (post-processing)</h2><ul><li>Obtain the final downbeat sequence</li><li>Most used: Probabilistic graphical models (PGMs)<ul><li>PGMs are a set of probabilistic models that express conditional dependencies between random variables as a graph.</li><li>Directed or Undirected</li></ul></li></ul><h2 id="pros-and-cons-of-dl"><a class="markdownIt-Anchor" href="#pros-and-cons-of-dl"></a> Pros and Cons of DL</h2><ul><li>Flexible and adaptable across tasks</li><li>Remove the stage of hand-crafted feature design</li><li>Dependence on annotated data</li><li>Bias of the data</li><li>Lack of interpretability</li></ul><h2 id="dnn-的各种结构"><a class="markdownIt-Anchor" href="#dnn-的各种结构"></a> DNN 的各种结构</h2><ul><li>包括 MLP、CNN、RNN、GRU、双向 RNN 的简单介绍</li><li>TCN:<ul><li>Uses dilated convolutions which enable exponentially large receptive fields</li><li>Good at learning sequential/temporal structure</li><li>Handle more context while retain the parallelisation property of CNN</li><li>Trained more efficiently than RNN, LSTM or GRU</li></ul></li></ul><h1 id="unfinished"><a class="markdownIt-Anchor" href="#unfinished"></a> Unfinished</h1>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ISMIR 2021 速度、节拍与强拍估计教程阅读笔记&lt;/p&gt;
&lt;p&gt;教程链接： &lt;a href=&quot;https://tempobeatdownbeat.github.io/tutorial/intro.html&quot;&gt;Tempo, Beat, and Downbeat Esti</summary>
      
    
    
    
    <category term="理论知识" scheme="http://wzw21.cn/categories/%E7%90%86%E8%AE%BA%E7%9F%A5%E8%AF%86/"/>
    
    
    <category term="MIR" scheme="http://wzw21.cn/tags/MIR/"/>
    
  </entry>
  
  <entry>
    <title>去除来必力（Livere）附带广告</title>
    <link href="http://wzw21.cn/2022/02/06/rm-ad/"/>
    <id>http://wzw21.cn/2022/02/06/rm-ad/</id>
    <published>2022-02-06T05:33:46.000Z</published>
    <updated>2022-02-07T04:11:51.220Z</updated>
    
    <content type="html"><![CDATA[<h1 id="去除来必力livere评论系统附带韩文广告的两种方法"><a class="markdownIt-Anchor" href="#去除来必力livere评论系统附带韩文广告的两种方法"></a> 去除来必力（Livere）评论系统附带韩文广告的两种方法</h1><h2 id="方法一添加css代码"><a class="markdownIt-Anchor" href="#方法一添加css代码"></a> 方法一：添加CSS代码</h2><p>在css文件（e.g. normalize.min.css）中添加如下代码</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.trc_rbox_container</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: none <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>添加后需要hexo clean</p><h2 id="方法二添加js代码"><a class="markdownIt-Anchor" href="#方法二添加js代码"></a> 方法二：添加JS代码</h2><p>在js/pug文件（e.g. livere.pug）中添加如下代码</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">script.</span><br><span class="line">  <span class="keyword">var</span> intervalFunctionID = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; myTimer() &#125;, <span class="number">1000</span>);</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">myTimer</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="built_in">document</span>.getElementById(<span class="string">&quot;taboola-livere&quot;</span>) != <span class="literal">null</span>)</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">document</span>.getElementById(<span class="string">&quot;taboola-livere&quot;</span>).style.display == <span class="string">&quot;none&quot;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="comment">//alert(&quot;Interval function stopped&quot;);</span></span><br><span class="line">          <span class="built_in">clearInterval</span>(intervalFunctionID);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="built_in">document</span>.getElementById(<span class="string">&quot;taboola-livere&quot;</span>).style.display=<span class="string">&quot;none&quot;</span>;</span><br><span class="line">      <span class="comment">//alert(&quot;Interval function running&quot;);</span></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>Ref:</p><ul><li><a href="https://my-youth.cn/2022/01/28/yin-cang-lai-bi-li-guang-gao/">https://my-youth.cn/2022/01/28/yin-cang-lai-bi-li-guang-gao/</a></li><li><a href="https://blog.jiejiss.com/LiveRe%E8%AF%84%E8%AE%BA%E5%9C%A8hexo-theme-even%E4%B8%8B%E5%81%B6%E5%8F%91%E6%B6%88%E5%A4%B1%E9%97%AE%E9%A2%98/">https://blog.jiejiss.com/LiveRe评论在hexo-theme-even下偶发消失问题/</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;去除来必力livere评论系统附带韩文广告的两种方法&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#去除来必力livere评论系统附带韩文广告的两种方法&quot;&gt;&lt;/a&gt; 去除来必力（Livere）评论系统附带韩文广告的两种方法&lt;/h1&gt;
&lt;</summary>
      
    
    
    
    <category term="网页与前端" scheme="http://wzw21.cn/categories/%E7%BD%91%E9%A1%B5%E4%B8%8E%E5%89%8D%E7%AB%AF/"/>
    
    
    <category term="博客相关" scheme="http://wzw21.cn/tags/%E5%8D%9A%E5%AE%A2%E7%9B%B8%E5%85%B3/"/>
    
  </entry>
  
  <entry>
    <title>音乐速度与节拍估计（一）基本方法</title>
    <link href="http://wzw21.cn/2022/02/04/tempo-baseline/"/>
    <id>http://wzw21.cn/2022/02/04/tempo-baseline/</id>
    <published>2022-02-04T08:58:28.000Z</published>
    <updated>2022-02-15T08:03:38.767Z</updated>
    
    <content type="html"><![CDATA[<h1 id="使用librosa库对音乐速度-节拍进行估计的基本方法"><a class="markdownIt-Anchor" href="#使用librosa库对音乐速度-节拍进行估计的基本方法"></a> 使用Librosa库对音乐速度、节拍进行估计的基本方法</h1><p>参考：<a href="https://tempobeatdownbeat.github.io/tutorial/ch2_basics/baseline.html">https://tempobeatdownbeat.github.io/tutorial/ch2_basics/baseline.html</a></p><h2 id="基本设置"><a class="markdownIt-Anchor" href="#基本设置"></a> 基本设置</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> librosa</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> librosa.display</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mount = <span class="literal">False</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> google.colab <span class="keyword">import</span> drive</span><br><span class="line">drive.mount(<span class="string">&#x27;/content/drive&#x27;</span>)</span><br><span class="line"><span class="comment"># drive._mount(&#x27;/content/drive&#x27;) # failed on Jan 21st, 2022</span></span><br><span class="line">mount = <span class="literal">True</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> mount == <span class="literal">True</span>:</span><br><span class="line">  filename = <span class="string">&quot;drive/MyDrive/data/tempo_tutorial/audio/book_assets_ch2_basics_audio_easy_example&quot;</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">  filename = <span class="string">&quot;book_assets_ch2_basics_audio_easy_example&quot;</span></span><br><span class="line">sr = <span class="number">44100</span></span><br><span class="line">fps = <span class="number">100</span></span><br><span class="line">hop_length = <span class="built_in">int</span>(librosa.time_to_samples(<span class="number">1.</span>/fps,sr=sr)) <span class="comment"># 441</span></span><br><span class="line"><span class="comment"># this Calculation is new to me</span></span><br><span class="line">n_fft = <span class="number">2048</span></span><br><span class="line"><span class="comment"># length of fft window</span></span><br><span class="line">fmin = <span class="number">27.5</span></span><br><span class="line">fmax = <span class="number">17000.</span></span><br><span class="line">n_mels = <span class="number">80</span></span><br><span class="line"><span class="comment"># number of Mel bands to generate</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">y, sr = librosa.load(filename+<span class="string">&quot;.flac&quot;</span>, sr=sr)</span><br></pre></td></tr></table></figure><h2 id="时频特征mel-spectrogram"><a class="markdownIt-Anchor" href="#时频特征mel-spectrogram"></a> 时频特征（Mel-Spectrogram）</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Mel-spectrogram</span></span><br><span class="line">mel_spec = librosa.feature.melspectrogram(y, sr=sr, n_fft=n_fft,</span><br><span class="line">                      hop_length=hop_length,</span><br><span class="line">                      fmin=fmin, fmax=fmax,</span><br><span class="line">                      n_mels=n_mels)</span><br><span class="line"><span class="comment"># melspectrogram&#x27;s defult parameters</span></span><br><span class="line"><span class="comment"># fmax = sr / 2</span></span><br><span class="line"><span class="comment"># win_length = n_fft</span></span><br><span class="line"><span class="comment"># power = 2 # exponent for the magnitude melspectrogram. e.g., 1 for energy, 2 for power, etc.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># If a time-series input y, sr is provided, then its magnitude spectrogram S is first computed, and then mapped onto the mel scale by mel_f.dot(S**power).</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">fig, ax = plt.subplots(nrows=<span class="number">2</span>, sharex=<span class="literal">True</span>, figsize=(<span class="number">14</span>,<span class="number">6</span>))</span><br><span class="line">librosa.display.waveplot(y, sr=sr, alpha=<span class="number">0.6</span>, ax=ax[<span class="number">0</span>])</span><br><span class="line"><span class="comment"># alpha controls the color transparency</span></span><br><span class="line">ax[<span class="number">0</span>].set_title(<span class="string">&#x27;Audio waveform&#x27;</span>, fontsize=<span class="number">15</span>)</span><br><span class="line">ax[<span class="number">0</span>].label_outer()</span><br><span class="line"><span class="comment"># only show &quot;outer&quot; labels and tick labels</span></span><br><span class="line"></span><br><span class="line">librosa.display.specshow(librosa.power_to_db(mel_spec, ref=np.<span class="built_in">max</span>), <span class="comment"># convert a power spectrogram (amplitude(?) squared) to decibel (dB) units</span></span><br><span class="line">            y_axis=<span class="string">&#x27;mel&#x27;</span>, x_axis=<span class="string">&#x27;time&#x27;</span>, sr=sr,</span><br><span class="line">            hop_length=hop_length, fmin=fmin, fmax=fmax,</span><br><span class="line">            ax=ax[<span class="number">1</span>])</span><br><span class="line">ax[<span class="number">1</span>].set_title(<span class="string">&#x27;Mel Spectrogram&#x27;</span>, fontsize=<span class="number">15</span>)</span><br><span class="line">ax[<span class="number">1</span>].label_outer()</span><br></pre></td></tr></table></figure><p><img src="/images/tempo_baseline/tempo_tutorial_6_0.png" alt="png" /></p><h2 id="中层特征spectral-flux"><a class="markdownIt-Anchor" href="#中层特征spectral-flux"></a> 中层特征（Spectral Flux）</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Mid-level Representation (Spectral Flux)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Onset strength at time t is determined by:</span></span><br><span class="line"><span class="comment"># mean_f max(0, S[f, t] - ref[f, t - lag])</span></span><br><span class="line"><span class="comment"># where ref is S after local max filtering along the frequency axis.</span></span><br><span class="line"></span><br><span class="line">S = mel_spec <span class="comment"># pre-computed (log-power) spectrogram</span></span><br><span class="line">lag = <span class="number">2</span> <span class="comment"># time lag for computing differences</span></span><br><span class="line">max_size = <span class="number">3</span> <span class="comment"># size (in frequency bins) of the local max filter， set to 1 to disable filtering</span></span><br><span class="line">spectral_flux = librosa.onset.onset_strength(S=librosa.power_to_db(S, ref=np.<span class="built_in">max</span>),</span><br><span class="line">                        sr=sr, hop_length=hop_length,</span><br><span class="line">                        lag=lag, max_size=max_size)</span><br><span class="line"><span class="comment"># Compute a spectral flux onset strength envelope</span></span><br><span class="line"></span><br><span class="line">times = librosa.frames_to_time(np.arange(<span class="built_in">len</span>(spectral_flux)),</span><br><span class="line">                 sr=sr, hop_length=hop_length)</span><br><span class="line"><span class="comment"># or librosa.times_like(spectral_flux, sr=sr, hop_length=hop_length)</span></span><br><span class="line"></span><br><span class="line">plt.figure(figsize=(<span class="number">14</span>, <span class="number">3</span>))</span><br><span class="line">plt.plot(times, spectral_flux, label=<span class="string">&quot;Spectral flux&quot;</span>)</span><br><span class="line">plt.title(<span class="string">&quot;Spectral flux&quot;</span>)</span><br><span class="line">plt.legend() <span class="comment"># show legend</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="/images/tempo_baseline/tempo_tutorial_7_0.png" alt="png" /></p><h2 id="速度估计autocorrelation"><a class="markdownIt-Anchor" href="#速度估计autocorrelation"></a> 速度估计（Autocorrelation）</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Periodicity Detection and Tempogram</span></span><br><span class="line"></span><br><span class="line">fig, ax = plt.subplots(nrows=<span class="number">3</span>, figsize=(<span class="number">14</span>, <span class="number">12</span>))</span><br><span class="line"></span><br><span class="line">tempogram = librosa.feature.tempogram(onset_envelope=spectral_flux,</span><br><span class="line">                    sr=sr, hop_length=hop_length)</span><br><span class="line"><span class="comment"># Compute the tempogram: local autocorrelation of the onset strength envelope</span></span><br><span class="line"><span class="comment"># default win_length = 384: length of the onset autocorrelation window</span></span><br><span class="line"><span class="comment"># return_shape = (win_length, n)</span></span><br><span class="line"><span class="comment"># time lag changes from 0 to win_length (?) \</span></span><br><span class="line"><span class="comment"># when time_lag == win_length \</span></span><br><span class="line"><span class="comment"># there is no overlap between origin window and shifted window, thus autocorrelation should be 0 \</span></span><br><span class="line"><span class="comment"># but for global_ac (window is much larger) there are still a lot of overlops</span></span><br><span class="line"></span><br><span class="line">librosa.display.specshow(tempogram, sr=sr, hop_length=hop_length,</span><br><span class="line">             x_axis=<span class="string">&#x27;time&#x27;</span>, y_axis=<span class="string">&#x27;tempo&#x27;</span>, cmap=<span class="string">&#x27;magma&#x27;</span>,</span><br><span class="line">             ax=ax[<span class="number">0</span>])</span><br><span class="line"><span class="comment"># y_axis=&#x27;tempo&#x27; visualizes the outputs of feature.tempogram</span></span><br><span class="line"><span class="comment"># cmap: color map</span></span><br><span class="line"><span class="comment"># win_length =&gt; BPM (?)</span></span><br><span class="line"></span><br><span class="line">tempo = librosa.beat.tempo(onset_envelope=spectral_flux, sr=sr,</span><br><span class="line">               hop_length=hop_length)[<span class="number">0</span>]</span><br><span class="line"><span class="comment"># default aggregation function: mean</span></span><br><span class="line"><span class="comment"># shape = (1,) or (n,) if no aggregate</span></span><br><span class="line">ax[<span class="number">0</span>].axhline(tempo, color=<span class="string">&#x27;w&#x27;</span>, linestyle=<span class="string">&#x27;--&#x27;</span>, alpha=<span class="number">1</span>,</span><br><span class="line">       label=<span class="string">&#x27;Estimated tempo=&#123;:g&#125;&#x27;</span>.<span class="built_in">format</span>(tempo))</span><br><span class="line"><span class="comment"># this line shows the estimated global tempo</span></span><br><span class="line">ax[<span class="number">0</span>].legend(loc=<span class="string">&#x27;upper right&#x27;</span>)</span><br><span class="line">ax[<span class="number">0</span>].set_title(<span class="string">&#x27;Fig.2: Tempogram&#x27;</span>,fontsize=<span class="number">15</span>)</span><br><span class="line"></span><br><span class="line">ac_global = librosa.autocorrelate(spectral_flux, max_size=tempogram.shape[<span class="number">0</span>])</span><br><span class="line"><span class="comment"># Compute global onset autocorrelation</span></span><br><span class="line"><span class="comment"># max_size: maximum correlation lag</span></span><br><span class="line">ac_global = librosa.util.normalize(ac_global)</span><br><span class="line"></span><br><span class="line">x_scale = np.linspace(start=<span class="number">0</span>, stop=tempogram.shape[<span class="number">0</span>] * <span class="built_in">float</span>(hop_length) / sr,</span><br><span class="line">            num=tempogram.shape[<span class="number">0</span>])</span><br><span class="line"><span class="comment"># return evenly spaced numbers over a specified interval</span></span><br><span class="line">ax[<span class="number">1</span>].plot(x_scale, np.mean(tempogram, axis=<span class="number">1</span>), label=<span class="string">&#x27;Mean local autocorrelation&#x27;</span>)</span><br><span class="line">ax[<span class="number">1</span>].plot(x_scale, ac_global, <span class="string">&#x27;--&#x27;</span>, label=<span class="string">&#x27;Global autocorrelation&#x27;</span>)</span><br><span class="line">ax[<span class="number">1</span>].legend(loc=<span class="string">&#x27;upper right&#x27;</span>)</span><br><span class="line">ax[<span class="number">1</span>].<span class="built_in">set</span>(xlabel=<span class="string">&#x27;Lag (seconds)&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ax[2]: map the lag scale into tempo, which is a prior distribution</span></span><br><span class="line">freqs = librosa.tempo_frequencies(n_bins = tempogram.shape[<span class="number">0</span>],</span><br><span class="line">                  hop_length=hop_length, sr=sr)</span><br><span class="line"><span class="comment"># Compute the frequencies (in beats per minute) corresponding to an onset auto-correlation or tempogram matrix</span></span><br><span class="line"><span class="comment"># n_bins: the number of lag bins</span></span><br><span class="line"><span class="comment"># freqs[0] = +np.inf corresponds to 0-lag</span></span><br><span class="line"><span class="comment"># freqs[1] = 6000, [2] = 3000, [3] = 1500 ...</span></span><br><span class="line"><span class="comment"># freqs here means x_scale</span></span><br><span class="line"></span><br><span class="line">ax[<span class="number">2</span>].semilogx(freqs[<span class="number">1</span>:], np.mean(tempogram[<span class="number">1</span>:], axis=<span class="number">1</span>),</span><br><span class="line">        label=<span class="string">&#x27;Mean local autocorrelation&#x27;</span>, basex=<span class="number">2</span>)</span><br><span class="line">ax[<span class="number">2</span>].semilogx(freqs[<span class="number">1</span>:], ac_global[<span class="number">1</span>:], linestyle=<span class="string">&#x27;--&#x27;</span>,</span><br><span class="line">        label=<span class="string">&#x27;Global autocorrelation&#x27;</span>, basex=<span class="number">2</span>)</span><br><span class="line">ax[<span class="number">2</span>].axvline(tempo, color=<span class="string">&#x27;black&#x27;</span>, linestyle=<span class="string">&#x27;--&#x27;</span>,</span><br><span class="line">       label=<span class="string">&#x27;Estimated tempo=&#123;:g&#125;&#x27;</span>.<span class="built_in">format</span>(tempo))</span><br><span class="line"></span><br><span class="line">ax[<span class="number">2</span>].legend(loc=<span class="string">&#x27;upper right&#x27;</span>)</span><br><span class="line">ax[<span class="number">2</span>].<span class="built_in">set</span>(xlabel=<span class="string">&#x27;BPM&#x27;</span>)</span><br><span class="line"><span class="comment"># blue line taper off at higher periodicity (lower tempi) \</span></span><br><span class="line"><span class="comment"># due to the lack of overlap between the shifted versions of the windowed spectral flux</span></span><br><span class="line"></span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"><span class="comment"># Notice that in a variable tempo context, \</span></span><br><span class="line"><span class="comment"># it’s not super meaningful to reduce the tempo information down to a single value.</span></span><br></pre></td></tr></table></figure><p><img src="/images/tempo_baseline/tempo_tutorial_8_0.png" alt="png" /></p><h2 id="节拍跟踪dynamic-programming"><a class="markdownIt-Anchor" href="#节拍跟踪dynamic-programming"></a> 节拍跟踪（Dynamic Programming）</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Use DP to recover beats sequence (i.e., temporal locations)</span></span><br><span class="line"><span class="comment"># Ref: https://www.audiolabs-erlangen.de/resources/MIR/FMP/C6/C6S3_BeatTracking.html</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">Pseudocode:</span></span><br><span class="line"><span class="string">for i = 1 to N</span></span><br><span class="line"><span class="string">  int tmp = 0;</span></span><br><span class="line"><span class="string">  for j = 1 to i-1</span></span><br><span class="line"><span class="string">    tmp = max(tmp, dp[j] + lamda * penalty(i-j));</span></span><br><span class="line"><span class="string">  dp[i] = delta[i] + tmp</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">beat_track_dp</span>(<span class="params">oenv, tempo, fps, sr, hop_length, tightness=<span class="number">100</span>, alpha=<span class="number">0.5</span>, ref_beats=<span class="literal">None</span></span>):</span></span><br><span class="line"></span><br><span class="line">    period = (fps * <span class="number">60.</span>/tempo) <span class="comment"># beat period (given in samples)</span></span><br><span class="line">    localscore = librosa.beat.__beat_local_score(oenv, period)</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Construct the local score for an onset envlope and given period&quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># localscore is a smoothed version of AGC&#x27;d(?) onset envelope</span></span><br><span class="line"></span><br><span class="line">    backlink = np.zeros_like(localscore, dtype=<span class="built_in">int</span>) <span class="comment"># save answers in DP process</span></span><br><span class="line">    cumulative_score = np.zeros_like(localscore)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Search range for previous beat</span></span><br><span class="line">    window = np.arange(<span class="number">-2</span> * period, -np.<span class="built_in">round</span>(period / <span class="number">2</span>) + <span class="number">1</span>, dtype=<span class="built_in">int</span>)</span><br><span class="line"></span><br><span class="line">    txwt = -tightness * (np.log(-window / period) ** <span class="number">2</span>) </span><br><span class="line">    <span class="comment"># penalty function</span></span><br><span class="line">    <span class="comment"># notice window is an array, so txwt saves not only one penalty value</span></span><br><span class="line">    <span class="comment"># tightness means tightness of beat distribution around tempo</span></span><br><span class="line">    <span class="comment"># higher tightness value favours constant tempi</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># Are we on the first beat?</span></span><br><span class="line">    first_beat = <span class="literal">True</span></span><br><span class="line">    <span class="keyword">for</span> i, score_i <span class="keyword">in</span> <span class="built_in">enumerate</span>(localscore):</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Are we reaching back before time 0?</span></span><br><span class="line">        z_pad = np.maximum(<span class="number">0</span>, <span class="built_in">min</span>(-window[<span class="number">0</span>], <span class="built_in">len</span>(window)))</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Search over all possible predecessors</span></span><br><span class="line">        candidates = txwt.copy()</span><br><span class="line">        candidates[z_pad:] = candidates[z_pad:] + cumulative_score[window[z_pad:]]</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Find the best preceding beat</span></span><br><span class="line">        beat_location = np.argmax(candidates)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Add the local score</span></span><br><span class="line">        cumulative_score[i] = (<span class="number">1</span>-alpha)*score_i + alpha*candidates[beat_location]</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Special case the first onset.  Stop if the localscore is small</span></span><br><span class="line">        <span class="keyword">if</span> first_beat <span class="keyword">and</span> score_i &lt; <span class="number">0.01</span> * localscore.<span class="built_in">max</span>():</span><br><span class="line">            backlink[i] = <span class="number">-1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            backlink[i] = window[beat_location]</span><br><span class="line">            first_beat = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># Update the time range</span></span><br><span class="line">        window = window + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    beats = [librosa.beat.__last_beat(cumulative_score)]</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Get the last beat from the cumulative score array&quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># get the last (final) beat</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># Reconstruct the beat path from backlinks</span></span><br><span class="line">    <span class="keyword">while</span> backlink[beats[<span class="number">-1</span>]] &gt;= <span class="number">0</span>:</span><br><span class="line">        beats.append(backlink[beats[<span class="number">-1</span>]])</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Put the beats in ascending order</span></span><br><span class="line">    <span class="comment"># Convert into an array of frame numbers</span></span><br><span class="line">    beats = np.array(beats[::<span class="number">-1</span>], dtype=<span class="built_in">int</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Discard spurious trailing beats</span></span><br><span class="line">    beats = librosa.beat.__trim_beats(oenv, beats, trim=<span class="literal">True</span>)</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Final post-processing: throw out spurious leading/trailing beats&quot;&quot;&quot;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># Convert beat times seconds</span></span><br><span class="line">    beats = librosa.frames_to_time(beats, hop_length=hop_length, sr=sr)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> beats, cumulative_score</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">alpha = <span class="number">0.5</span></span><br><span class="line">tightness=<span class="number">100</span></span><br><span class="line"></span><br><span class="line">est_beats, cumulative_score = beat_track_dp(oenv=spectral_flux, tempo=tempo, fps=fps, sr=sr, hop_length=hop_length, tightness=tightness, alpha=alpha)</span><br><span class="line">fig, ax = plt.subplots(nrows=<span class="number">2</span>, figsize=(<span class="number">14</span>, <span class="number">6</span>))</span><br><span class="line">times = librosa.times_like(spectral_flux, sr=sr, hop_length=hop_length)</span><br><span class="line">ax[<span class="number">0</span>].plot(times, spectral_flux, label=<span class="string">&#x27;Spectral flux&#x27;</span>)</span><br><span class="line">ax[<span class="number">0</span>].set_title(<span class="string">&#x27;Spectral flux&#x27;</span>,fontsize=<span class="number">15</span>)</span><br><span class="line">ax[<span class="number">0</span>].label_outer()</span><br><span class="line"></span><br><span class="line">ax[<span class="number">0</span>].<span class="built_in">set</span>(xlim=[<span class="number">0</span>, <span class="built_in">len</span>(spectral_flux)/fps])</span><br><span class="line">ax[<span class="number">0</span>].vlines(est_beats, <span class="number">0</span>, <span class="number">1.1</span>*spectral_flux.<span class="built_in">max</span>(), label=<span class="string">&#x27;Estimated beats&#x27;</span>, </span><br><span class="line">       color=<span class="string">&#x27;green&#x27;</span>, linestyle=<span class="string">&#x27;:&#x27;</span>, linewidth=<span class="number">2</span>)</span><br><span class="line">ax[<span class="number">0</span>].legend(loc=<span class="string">&#x27;upper right&#x27;</span>)</span><br><span class="line"></span><br><span class="line">ax[<span class="number">1</span>].plot(times, cumulative_score, color=<span class="string">&#x27;orange&#x27;</span>, label=<span class="string">&#x27;Cumultative score&#x27;</span>)</span><br><span class="line">ax[<span class="number">1</span>].set_title(<span class="string">&#x27;Cumulative score (alpha:&#x27;</span>+<span class="built_in">str</span>(alpha)+<span class="string">&#x27;)&#x27;</span>,fontsize=<span class="number">15</span>)</span><br><span class="line">ax[<span class="number">1</span>].label_outer()</span><br><span class="line">ax[<span class="number">1</span>].<span class="built_in">set</span>(xlim=[<span class="number">0</span>, <span class="built_in">len</span>(spectral_flux)/fps])</span><br><span class="line">ax[<span class="number">1</span>].vlines(est_beats, <span class="number">0</span>, <span class="number">1.1</span>*cumulative_score.<span class="built_in">max</span>(), label=<span class="string">&#x27;Estimated beats&#x27;</span>, </span><br><span class="line">       color=<span class="string">&#x27;green&#x27;</span>, linestyle=<span class="string">&#x27;:&#x27;</span>, linewidth=<span class="number">2</span>)</span><br><span class="line">ax[<span class="number">1</span>].legend(loc=<span class="string">&#x27;upper right&#x27;</span>)</span><br><span class="line">ax[<span class="number">1</span>].<span class="built_in">set</span>(xlabel = <span class="string">&#x27;Time&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="/images/tempo_baseline/tempo_tutorial_10_0.png" alt="png" /></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;使用librosa库对音乐速度-节拍进行估计的基本方法&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#使用librosa库对音乐速度-节拍进行估计的基本方法&quot;&gt;&lt;/a&gt; 使用Librosa库对音乐速度、节拍进行估计的基本方法&lt;/h1&gt;
</summary>
      
    
    
    
    <category term="操作步骤与实践" scheme="http://wzw21.cn/categories/%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%AA%A4%E4%B8%8E%E5%AE%9E%E8%B7%B5/"/>
    
    
    <category term="MIR" scheme="http://wzw21.cn/tags/MIR/"/>
    
    <category term="Python" scheme="http://wzw21.cn/tags/Python/"/>
    
    <category term="Librosa" scheme="http://wzw21.cn/tags/Librosa/"/>
    
  </entry>
  
  <entry>
    <title>使用Python播放MIDI音符</title>
    <link href="http://wzw21.cn/2022/01/11/play-midi-note/"/>
    <id>http://wzw21.cn/2022/01/11/play-midi-note/</id>
    <published>2022-01-11T12:56:38.000Z</published>
    <updated>2022-01-11T13:16:14.177Z</updated>
    
    <content type="html"><![CDATA[<h1 id="使用-python-播放-midi-note"><a class="markdownIt-Anchor" href="#使用-python-播放-midi-note"></a> 使用 Python 播放 MIDI Note</h1><h2 id="方法一使用music21"><a class="markdownIt-Anchor" href="#方法一使用music21"></a> 方法一：使用music21</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> music21 <span class="keyword">as</span> m21</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">play_note</span>(<span class="params">pitch=<span class="string">&quot;C4&quot;</span>, length=<span class="number">2</span>, velocity=<span class="number">127</span>, instrument=<span class="string">&#x27;Piano&#x27;</span></span>):</span></span><br><span class="line">    note_1 = m21.note.Note(pitch, quarterLength=length)</span><br><span class="line">    note_1.volume.velocity = velocity</span><br><span class="line">    stream_1 = m21.stream.Stream()</span><br><span class="line">    <span class="keyword">if</span> instrument == <span class="string">&#x27;Piano&#x27;</span>:</span><br><span class="line">        stream_1.append(m21.instrument.Piano())</span><br><span class="line">        <span class="comment"># stream_1.insert(0, m21.instrument.Piano())</span></span><br><span class="line">    stream_1.append(note_1)</span><br><span class="line">    s_player = m21.midi.realtime.StreamPlayer(stream_1)</span><br><span class="line">    s_player.play()</span><br></pre></td></tr></table></figure><p>注意该方法也需要安装pygame</p><h2 id="方法二使用pygame"><a class="markdownIt-Anchor" href="#方法二使用pygame"></a> 方法二：使用pygame</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pygame.midi <span class="keyword">as</span> pm</span><br><span class="line"></span><br><span class="line">pm.init() <span class="comment"># init midi player</span></span><br><span class="line">player = pm.Output(<span class="number">0</span>)</span><br><span class="line">BPM = <span class="number">120</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">play_note</span>(<span class="params">pitch=<span class="number">60</span>, length=<span class="number">2</span>, velocity=<span class="number">127</span>, instrument=<span class="string">&#x27;Piano&#x27;</span></span>):</span></span><br><span class="line">    <span class="keyword">if</span> instrument == <span class="string">&#x27;Piano&#x27;</span>:</span><br><span class="line">        player.set_instrument(<span class="number">0</span>)</span><br><span class="line">    player.note_on(pitch, velocity)</span><br><span class="line">    time.sleep(length * <span class="number">60</span> / BPM)</span><br><span class="line">    player.note_off(pitch, velocity)</span><br><span class="line"></span><br><span class="line"><span class="keyword">del</span> player</span><br><span class="line">pm.quit()</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;使用-python-播放-midi-note&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#使用-python-播放-midi-note&quot;&gt;&lt;/a&gt; 使用 Python 播放 MIDI Note&lt;/h1&gt;
&lt;h2 id=&quot;方法一使用mu</summary>
      
    
    
    
    <category term="操作步骤与实践" scheme="http://wzw21.cn/categories/%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%AA%A4%E4%B8%8E%E5%AE%9E%E8%B7%B5/"/>
    
    
    <category term="MIR" scheme="http://wzw21.cn/tags/MIR/"/>
    
    <category term="Python" scheme="http://wzw21.cn/tags/Python/"/>
    
  </entry>
  
  <entry>
    <title>群体智能优化算法</title>
    <link href="http://wzw21.cn/2022/01/08/sioa/"/>
    <id>http://wzw21.cn/2022/01/08/sioa/</id>
    <published>2022-01-08T08:14:34.000Z</published>
    <updated>2022-01-08T08:18:14.717Z</updated>
    
    <content type="html"><![CDATA[<h1 id="群体智能优化算法"><a class="markdownIt-Anchor" href="#群体智能优化算法"></a> 群体智能优化算法</h1><h2 id="研究背景"><a class="markdownIt-Anchor" href="#研究背景"></a> 研究背景</h2><p>群体智能优化算法（Swarm Intelligence Optimization Algorithm）是计算智能中的一种常用算法，其基本理论是模拟自然界中鱼群、鸟群、蜂群、狼群和细菌群等动物群体的行为，利用群体间的信息交流与合作，通过简单有限的个体间互动来达到优化的目的。</p><p>群体智能（Swarm Intelligence, SI）由Gerardo Beni和Jing Wang于1989年首次提出，是研究由大量简单个体构成的群体系统的学科。与个体的智能相比，这些群体系统往往并没有复杂精细的内部设计，但基于简单的个体与规则，它们具有更强的鲁棒性、稳定性和适应性。群体智能方法处理的最典型问题就是优化问题。优化问题的基础性能够较为直观地体现群体方法的理论特性，辅助其理论研究，同时也具有重要的应用价值，进一步推动了群体智能算法的发展。与传统的优化算法相比，基于仿生学的群体智能优化算法本质上是一种概率并行搜索算法。其寻优速度更快，能更有效地搜索复杂优化问题的全局最优解。</p><p>常见的群体智能优化算法有蚁群算法（Ant Colony Optimization，ACO）、粒子群优化算法（Particle Swarm Optimization，PSO）、烟花算法（Fireworks Algorithm，FWA）、萤火虫算法(Firefly Algorithm，FA)、布谷鸟算法(Cuckoo Search，CS)、头脑风暴算法(Brain Storm Optimization，BSO)、水波算法(Water Wave Optimization，WWO)、灰狼优化算法(Grey Wolf Optimizer，GWO)、鲸鱼优化算法(Whale Optimization Algorithm，WOA)、蛙跳算法(Shuffled Frog Leaping Algorithm，SFLA)等。应用包括寻找函数最优值、求解旅行商问题、武器目标分配问题、多处理机调度问题、有依赖的优化问题和作业调度问题等。</p><h2 id="相关工作"><a class="markdownIt-Anchor" href="#相关工作"></a> 相关工作</h2><p>元启发式优化算法可以分为三大类：进化算法、基于物理的算法和群体智能算法。进化算法受到自然界中生物进化概念的启发，最常见的是遗传算法，由Holland于1992年提出；基于物理的算法通常模仿物理规则实现优化，例如引力搜索算法、大爆炸算法。群体智能优化算法的机制与基于物理规则的算法相似，不同的是其搜索单元使用模拟的生物集体智能和社会智能进行导航。群体智能优化算法主要包括两个阶段，分别称为勘探和开发，勘探是指尽可能广泛地调查搜索空间中有希望的区域的过程，需要随机算子对搜索空间进行随机和全局的搜索。开发则是指在勘探阶段所获得的区域周围进行局部搜索。如何平衡这两个阶段以找到全局最优是各种优化算法需要解决的问题。</p><p>群体智能优化算法中的常见算法之一是粒子群优化算法，由Kennedy和Eberhart于1995年提出，其灵感来自于鸟群的社会行为。该算法使用多个粒子来追踪最佳粒子的位置以及目前为止已获得的自身最佳位置。蚁群算法由Dorigo等人于2006年提出，灵感来自于蚁群中蚂蚁的社会行为。该算法模仿蚁群在寻找巢穴与食物源之间最短路径时使用的信息素机制。人工蜂群算法受到蜂群行为启发，在2005年由Karaboga等人为优化代数问题而提出。其中侦察蜂负责勘探，雇佣蜂和观察蜂负责开发。烟花算法于 2010年由谭营等人提出，受启发于烟花爆炸的现象，是一种受自然现象而非生物启发的经典群体智能算法。烟花算法种包括爆炸算子、变异算子、映射规则和选择算子。萤火虫算法受启发于萤火虫的闪烁行为，由Xin-She Yang于 2009年提出。该算法假设每只萤火虫都向着看上去比自己更亮的萤火虫飞行，萤火虫的吸引力与它们的亮度成正比。布谷鸟算法由Xin-She Yang等人于 2009年提出，受启发于布谷鸟的巢寄生育雏行为和列维飞行机制。头脑风暴算法受到人类会议过程中的“头脑风暴”过程的启发，由史玉回于2011年提出，算法利用聚类思想搜索局部最优，然后通过对比得到全局最优。水波算法由 Yu-Jun Zheng于 2015年提出，受启发于水波的几种现象：传播、反射与消散。灰狼优化算法和鲸鱼优化算法由Seyedali Mirjalili等人分别于2014年和2016年提出，这两种算法在<a href="https://wzw21.cn/2022/01/07/gwo/">GWO</a>和<a href="https://wzw21.cn/2022/01/08/woa/">WOA</a>中重点介绍。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;群体智能优化算法&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#群体智能优化算法&quot;&gt;&lt;/a&gt; 群体智能优化算法&lt;/h1&gt;
&lt;h2 id=&quot;研究背景&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#研究背景&quot;&gt;&lt;</summary>
      
    
    
    
    <category term="理论知识" scheme="http://wzw21.cn/categories/%E7%90%86%E8%AE%BA%E7%9F%A5%E8%AF%86/"/>
    
    
    <category term="智能算法" scheme="http://wzw21.cn/tags/%E6%99%BA%E8%83%BD%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>群体智能优化算法之鲸鱼优化算法</title>
    <link href="http://wzw21.cn/2022/01/08/woa/"/>
    <id>http://wzw21.cn/2022/01/08/woa/</id>
    <published>2022-01-08T07:00:20.000Z</published>
    <updated>2022-01-08T08:10:54.387Z</updated>
    
    <content type="html"><![CDATA[<h1 id="鲸鱼优化算法"><a class="markdownIt-Anchor" href="#鲸鱼优化算法"></a> 鲸鱼优化算法</h1><h2 id="鲸鱼群体"><a class="markdownIt-Anchor" href="#鲸鱼群体"></a> 鲸鱼群体</h2><p>鲸鱼是世界上最大的哺乳动物，是有情感的高智商动物，大部分鲸鱼被认为是食肉动物且群居。座头鲸是最大的长须鲸之一，它们使用一种独特的捕猎方式来猎食虾群和鱼群，被称为泡泡网（Bubble-net）捕猎方式，如图4、图5所示。它们在捕食时以螺旋式逼近猎物，吐出气体形成气泡，迫使鱼群聚集以方便捕食。鲸鱼优化算法便是受启发于鲸鱼（特别是座头鲸）的捕猎方式。</p><p><img src="/images/woa_1.png" alt="" /></p><center style="font-size:14px;color:#C0C0C0;">图4：“泡泡网”捕猎示意图，引用自论文《The whale optimization algorithm》</center><p><img src="/images/woa_2.png" alt="" /></p><center style="font-size:14px;color:#C0C0C0;">图5：座头鲸捕猎场景</center><h2 id="模型与算法"><a class="markdownIt-Anchor" href="#模型与算法"></a> 模型与算法</h2><p>鲸鱼优化算法与灰狼优化算法相似，都采用对目标位置先进行包围再捕食的策略。不同点在于鲸鱼优化算法直接将当前最优解作为包围中心，且鲸鱼优化算法的捕猎逼近过程分为两种，第一种逐步降低距离，另一种以螺旋形逼近。鲸鱼优化算法的基本位置更新方式与灰狼优化算法相同，见<a href="https://wzw21.cn/2022/01/07/gwo/">灰狼优化算法</a>公式(1)至(4)。</p><p>鲸鱼优化算法基于一个随机数p∈[0,1]来决定当前搜索单元的行动，有50%的概率直接根据目标位置进行移动，有50%的概率以螺旋线逼近猎物。鲸鱼在捕猎时的行为被定义为：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mover accent="true"><mi>X</mi><mo>⃗</mo></mover><mo stretchy="false">(</mo><mi>t</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.15999999999999992em" columnalign="left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msup><mover accent="true"><mi>X</mi><mo>⃗</mo></mover><mo>∗</mo></msup><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mo>−</mo><mover accent="true"><mi>A</mi><mo>⃗</mo></mover><mo>⋅</mo><mover accent="true"><mi>D</mi><mo>⃗</mo></mover></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mover accent="true"><msup><mi>D</mi><mo mathvariant="normal">′</mo></msup><mo>⃗</mo></mover><mo>⋅</mo><msup><mi>e</mi><mrow><mi>b</mi><mi>l</mi></mrow></msup><mo>⋅</mo><mi>c</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mn>2</mn><mi>π</mi><mi>l</mi><mo stretchy="false">)</mo><mo>+</mo><msup><mover accent="true"><mi>X</mi><mo>⃗</mo></mover><mo>∗</mo></msup><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable><mtable rowspacing="0.15999999999999992em" columnalign="right" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>p</mi><mo>&lt;</mo><mn>0.5</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>p</mi><mo>≥</mo><mn>0.5</mn></mrow></mstyle></mtd></mtr></mtable></mrow></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(1)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\vec{X}(t+1)=\left\{    \begin{array}{l}        \vec{X}^*(t)-\vec{A}\cdot\vec{D} \\        \vec{D&#x27;}\cdot e^{bl}\cdot cos(2πl)+\vec{X}^*(t)    \end{array}    \begin{array}{r}        p&lt;0.5 \\        p≥0.5    \end{array}\right.\tag1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.21633em;vertical-align:-0.25em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.65266em;vertical-align:-1.0763300000000002em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">{</span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5763299999999998em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">A</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.09660999999999997em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.17994em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span></span></span><span style="top:-2.28367em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6778919999999999em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">b</span><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">c</span><span class="mord mathdefault">o</span><span class="mord mathdefault">s</span><span class="mopen">(</span><span class="mord">2</span><span class="mord mathdefault" style="margin-right:0.03588em;">π</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.0763300000000002em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">p</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">5</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">p</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">5</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="tag"><span class="strut" style="height:2.65266em;vertical-align:-1.0763300000000002em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">1</span></span><span class="mord">)</span></span></span></span></span></span></p><p>其中，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mover accent="true"><mi>X</mi><mo>⃗</mo></mover><mo>∗</mo></msup><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\vec{X}^*(t)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.21633em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span></span></span></span>可能是当前最优解的位置也可能是一个随机搜索单元的位置，取决于<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">∣</mi><mover accent="true"><mi>A</mi><mo>⃗</mo></mover><mi mathvariant="normal">∣</mi></mrow><annotation encoding="application/x-tex">|\vec{A}|</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.21633em;vertical-align:-0.25em;"></span><span class="mord">∣</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">A</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.09660999999999997em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mord">∣</span></span></span></span>的值，b决定螺旋线形状，l为随机值∈[-1,1]，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><msup><mi>D</mi><mo mathvariant="normal">′</mo></msup><mo>⃗</mo></mover><mo>=</mo><mi mathvariant="normal">∣</mi><msup><mover accent="true"><mi>X</mi><mo>⃗</mo></mover><mo>∗</mo></msup><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mo>−</mo><mover accent="true"><mi>X</mi><mo>⃗</mo></mover><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mi mathvariant="normal">∣</mi></mrow><annotation encoding="application/x-tex">\vec{D&#x27;}=|\vec{X}^*(t)-\vec{X}(t)|</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9663299999999999em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6778919999999999em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.21633em;vertical-align:-0.25em;"></span><span class="mord">∣</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.21633em;vertical-align:-0.25em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span><span class="mord">∣</span></span></span></span>。鲸鱼优化算法搜索机制示意图如图6所示。</p><p><img src="/images/woa_3.png" alt="" /></p><center style="font-size:14px;color:#C0C0C0;">图6：鲸鱼优化算法搜素机制，（a）缩小包围机制（b）螺旋更新位置，引用自论文《The whale optimization algorithm》</center><p>鲸鱼优化算法的伪代码如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">初始化鲸鱼种群 Xi (i&#x3D;1,2,…,n)</span><br><span class="line">计算每个搜索单元的适应度</span><br><span class="line">X*&#x3D;最优搜索单元</span><br><span class="line">while (t&lt;最大迭代次数)</span><br><span class="line">  for (每个搜索单元)</span><br><span class="line">    更新a, A, C, l, p</span><br><span class="line">    if1 (p&lt;0.5)</span><br><span class="line">      if2 (|A|&lt;1)</span><br><span class="line">        根据最优个体更新当前搜索单元的位置</span><br><span class="line">      else if2 (|A|≥1)</span><br><span class="line">        随机选择一个搜索单元Xrand</span><br><span class="line">        根据Xrand更新当前搜索单元的位置</span><br><span class="line">      end if2</span><br><span class="line">    else if1 (p≥0.5)</span><br><span class="line">      根据最优个体螺旋更新当前搜索单元的位置</span><br><span class="line">    end if1</span><br><span class="line">  end for</span><br><span class="line">  检查是否有超出搜索范围的搜索单元，并进行修正</span><br><span class="line">  计算所有搜索单元的适应度</span><br><span class="line">  更新X*</span><br><span class="line">  t&#x3D;t+1</span><br><span class="line">end while</span><br><span class="line">return X*</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;鲸鱼优化算法&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#鲸鱼优化算法&quot;&gt;&lt;/a&gt; 鲸鱼优化算法&lt;/h1&gt;
&lt;h2 id=&quot;鲸鱼群体&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#鲸鱼群体&quot;&gt;&lt;/a&gt; 鲸鱼</summary>
      
    
    
    
    <category term="理论知识" scheme="http://wzw21.cn/categories/%E7%90%86%E8%AE%BA%E7%9F%A5%E8%AF%86/"/>
    
    
    <category term="智能算法" scheme="http://wzw21.cn/tags/%E6%99%BA%E8%83%BD%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>群体智能优化算法之灰狼优化算法</title>
    <link href="http://wzw21.cn/2022/01/07/gwo/"/>
    <id>http://wzw21.cn/2022/01/07/gwo/</id>
    <published>2022-01-07T08:19:46.000Z</published>
    <updated>2022-01-08T08:11:42.638Z</updated>
    
    <content type="html"><![CDATA[<h1 id="灰狼优化算法"><a class="markdownIt-Anchor" href="#灰狼优化算法"></a> 灰狼优化算法</h1><h2 id="灰狼群体"><a class="markdownIt-Anchor" href="#灰狼群体"></a> 灰狼群体</h2><p>灰狼属于犬科动物，被认为是顶级的掠食者，它们处于生物圈食物链的顶端。灰狼大多喜欢群居，每个群体中平均有5至12只狼。灰狼群体有着严格的社会等级制度，如图1所示，其中α是狼群的领导者，负责所有决策；β协助α进行决策，必要时进行接替，地位仅次于α；δ则服从于α和β，负责放哨、侦察等事务；ω处于社会底层，是不可缺少的普通狼，负责种群内部关系的平衡。</p><p><img src="/images/gwo_1.png" alt="" /></p><center style="font-size:14px;color:#C0C0C0;">图1：灰狼的等级制度，引用自论文《Grey Wolf Optimizer》</center><p>集体狩猎是灰狼的一种社会行为，社会等级在集体狩猎过程中发挥着重要的作用，捕食的过程在α的带领下完成。主要包括三个步骤：1）跟踪和接近猎物；2）骚扰、追捕和包围猎物，直到它停止移动；3）攻击猎物。灰狼的集体狩猎行为如图2所示。</p><p><img src="/images/gwo_2.png" alt="" /></p><center style="font-size:14px;color:#C0C0C0;">图2：灰狼集体狩猎行为，引用自论文《Grey Wolf Optimizer》</center><h2 id="模型与算法"><a class="markdownIt-Anchor" href="#模型与算法"></a> 模型与算法</h2><p>灰狼优化算法的主要思路是假设α、β、δ更了解猎物的潜在位置，即优化问题的决策空间中最佳解决方案所在的位置，其他灰狼个体依据α、β、δ的位置来更新其自身位置，逐渐逼近猎物（最优解）。算法直接将前３匹适应度最高的狼分别定义为α，β和δ，它们指导其他狼向着目标搜索。在狩猎过程中，灰狼的基本位置更新方式定义为：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mover accent="true"><mi>D</mi><mo>⃗</mo></mover><mo>=</mo><mi mathvariant="normal">∣</mi><mover accent="true"><mi>C</mi><mo>⃗</mo></mover><mo>⋅</mo><mover accent="true"><msub><mi>X</mi><mi>p</mi></msub><mo>⃗</mo></mover><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mo>−</mo><mover accent="true"><mi>X</mi><mo>⃗</mo></mover><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mi mathvariant="normal">∣</mi></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(1)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\vec{D}=|\vec{C}\cdot\vec{X_p}(t)-\vec{X}(t)|\tag1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9663299999999999em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.17994em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.21633em;vertical-align:-0.25em;"></span><span class="mord">∣</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.252438em;vertical-align:-0.286108em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.21633em;vertical-align:-0.25em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span><span class="mord">∣</span></span><span class="tag"><span class="strut" style="height:1.252438em;vertical-align:-0.286108em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">1</span></span><span class="mord">)</span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mover accent="true"><mi>X</mi><mo>⃗</mo></mover><mo stretchy="false">(</mo><mi>t</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo><mo>=</mo><mover accent="true"><msub><mi>X</mi><mi>p</mi></msub><mo>⃗</mo></mover><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mo>−</mo><mover accent="true"><mi>A</mi><mo>⃗</mo></mover><mo>⋅</mo><mover accent="true"><mi>D</mi><mo>⃗</mo></mover></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\vec{X}(t+1)=\vec{X_p}(t)-\vec{A}\cdot\vec{D}\tag2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.21633em;vertical-align:-0.25em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.252438em;vertical-align:-0.286108em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.9663299999999999em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">A</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.09660999999999997em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.9663299999999999em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.17994em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span></span><span class="tag"><span class="strut" style="height:1.252438em;vertical-align:-0.286108em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2</span></span><span class="mord">)</span></span></span></span></span></span></p><p>式(1)计算个体与目标间的距离，式(2)是灰狼的位置更新公式。其中，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mi>X</mi><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{X}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9663299999999999em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span></span></span></span>为位置向量，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mi>D</mi><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{D}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9663299999999999em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.17994em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span></span></span></span>为距离，t是目前的迭代代数，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mi>A</mi><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{A}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9663299999999999em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">A</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.09660999999999997em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span></span></span></span>和<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mi>C</mi><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{C}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9663299999999999em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span></span></span></span>为系数向量，计算方式如下：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mover accent="true"><mi>A</mi><mo>⃗</mo></mover><mo>=</mo><mn>2</mn><mover accent="true"><mi>a</mi><mo>⃗</mo></mover><mo>⋅</mo><mover accent="true"><msub><mi>r</mi><mn>1</mn></msub><mo>⃗</mo></mover><mo>−</mo><mover accent="true"><mi>a</mi><mo>⃗</mo></mover></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(3)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\vec{A}=2\vec{a}\cdot\vec{r_1}-\vec{a}\tag3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9663299999999999em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">A</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.09660999999999997em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.714em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">a</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.864em;vertical-align:-0.15em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.714em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">a</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span></span><span class="tag"><span class="strut" style="height:1.21633em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">3</span></span><span class="mord">)</span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mover accent="true"><mi>C</mi><mo>⃗</mo></mover><mo>=</mo><mn>2</mn><mover accent="true"><msub><mi>r</mi><mn>2</mn></msub><mo>⃗</mo></mover></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(4)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\vec{C}=2\vec{r_2}\tag4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9663299999999999em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.864em;vertical-align:-0.15em;"></span><span class="mord">2</span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="tag"><span class="strut" style="height:1.21633em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">4</span></span><span class="mord">)</span></span></span></span></span></span></p><p>其中，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mi>a</mi><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{a}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.714em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">a</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span></span></span></span>是收敛因子，随着迭代次数从2线性减小到0，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><msub><mi>r</mi><mn>1</mn></msub><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{r_1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.864em;vertical-align:-0.15em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span>和<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><msub><mi>r</mi><mn>2</mn></msub><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{r_2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.864em;vertical-align:-0.15em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span>是模长属于[0,1]的随机向量。</p><p>在模拟灰狼进行狩猎时，根据当前三个最优解所在的位置更新所有搜索单元的位置。灰狼集体狩猎时的行为定义如下：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mo fence="true">{</mo><mtable rowspacing="0.15999999999999992em" columnalign="left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mover accent="true"><msub><mi>D</mi><mi>α</mi></msub><mo>⃗</mo></mover><mo>=</mo><mi mathvariant="normal">∣</mi><mover accent="true"><msub><mi>C</mi><mn>1</mn></msub><mo>⃗</mo></mover><mo>⋅</mo><mover accent="true"><msub><mi>X</mi><mi>α</mi></msub><mo>⃗</mo></mover><mo>−</mo><mover accent="true"><mi>X</mi><mo>⃗</mo></mover><mi mathvariant="normal">∣</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mover accent="true"><msub><mi>D</mi><mi>β</mi></msub><mo>⃗</mo></mover><mo>=</mo><mi mathvariant="normal">∣</mi><mover accent="true"><msub><mi>C</mi><mn>2</mn></msub><mo>⃗</mo></mover><mo>⋅</mo><mover accent="true"><msub><mi>X</mi><mi>β</mi></msub><mo>⃗</mo></mover><mo>−</mo><mover accent="true"><mi>X</mi><mo>⃗</mo></mover><mi mathvariant="normal">∣</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mover accent="true"><msub><mi>D</mi><mi>δ</mi></msub><mo>⃗</mo></mover><mo>=</mo><mi mathvariant="normal">∣</mi><mover accent="true"><msub><mi>C</mi><mn>3</mn></msub><mo>⃗</mo></mover><mo>⋅</mo><mover accent="true"><msub><mi>X</mi><mi>δ</mi></msub><mo>⃗</mo></mover><mo>−</mo><mover accent="true"><mi>X</mi><mo>⃗</mo></mover><mi mathvariant="normal">∣</mi></mrow></mstyle></mtd></mtr></mtable></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(5)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\left\{    \begin{array}{l}        \vec{D_α}=|\vec{C_1}\cdot\vec{X_α}-\vec{X}| \\        \vec{D_β}=|\vec{C_2}\cdot\vec{X_β}-\vec{X}| \\        \vec{D_δ}=|\vec{C_3}\cdot\vec{X_δ}-\vec{X}|    \end{array}\right.\tag5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.9789899999999996em;vertical-align:-1.7394949999999998em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.49999em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎩</span></span></span><span style="top:-3.15001em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎨</span></span></span><span style="top:-4.30002em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎧</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.239495em;"><span style="top:-4.273165em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.0037em;">α</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">∣</span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.0037em;">α</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mord">∣</span></span></span><span style="top:-2.9468349999999996em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05278em;">β</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">∣</span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05278em;">β</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mord">∣</span></span></span><span style="top:-1.6205050000000003em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03785em;">δ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">∣</span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03785em;">δ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mord">∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.7394949999999998em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="tag"><span class="strut" style="height:3.9789899999999996em;vertical-align:-1.7394949999999998em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">5</span></span><span class="mord">)</span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mo fence="true">{</mo><mtable rowspacing="0.15999999999999992em" columnalign="left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mover accent="true"><msub><mi>X</mi><mn>1</mn></msub><mo>⃗</mo></mover><mo>=</mo><mover accent="true"><msub><mi>X</mi><mi>α</mi></msub><mo>⃗</mo></mover><mo>−</mo><mover accent="true"><msub><mi>A</mi><mn>1</mn></msub><mo>⃗</mo></mover><mo>⋅</mo><mover accent="true"><msub><mi>D</mi><mi>α</mi></msub><mo>⃗</mo></mover></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mover accent="true"><msub><mi>X</mi><mn>2</mn></msub><mo>⃗</mo></mover><mo>=</mo><mover accent="true"><msub><mi>X</mi><mi>β</mi></msub><mo>⃗</mo></mover><mo>−</mo><mover accent="true"><msub><mi>A</mi><mn>2</mn></msub><mo>⃗</mo></mover><mo>⋅</mo><mover accent="true"><msub><mi>D</mi><mi>β</mi></msub><mo>⃗</mo></mover></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mover accent="true"><msub><mi>X</mi><mn>3</mn></msub><mo>⃗</mo></mover><mo>=</mo><mover accent="true"><msub><mi>X</mi><mi>δ</mi></msub><mo>⃗</mo></mover><mo>−</mo><mover accent="true"><msub><mi>A</mi><mn>3</mn></msub><mo>⃗</mo></mover><mo>⋅</mo><mover accent="true"><msub><mi>D</mi><mi>δ</mi></msub><mo>⃗</mo></mover></mrow></mstyle></mtd></mtr></mtable></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(6)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\left\{    \begin{array}{l}        \vec{X_1}=\vec{X_α}-\vec{A_1}\cdot\vec{D_α} \\        \vec{X_2}=\vec{X_β}-\vec{A_2}\cdot\vec{D_β} \\        \vec{X_3}=\vec{X_δ}-\vec{A_3}\cdot\vec{D_δ}    \end{array}\right.\tag6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.9789899999999996em;vertical-align:-1.7394949999999998em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.49999em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎩</span></span></span><span style="top:-3.15001em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎨</span></span></span><span style="top:-4.30002em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎧</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.239495em;"><span style="top:-4.273165em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.0037em;">α</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.0037em;">α</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span style="top:-2.9468349999999996em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05278em;">β</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05278em;">β</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span><span style="top:-1.6205050000000003em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03785em;">δ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03785em;">δ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.7394949999999998em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="tag"><span class="strut" style="height:3.9789899999999996em;vertical-align:-1.7394949999999998em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">6</span></span><span class="mord">)</span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mover accent="true"><mi>X</mi><mo>⃗</mo></mover><mo stretchy="false">(</mo><mi>t</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><mover accent="true"><msub><mi>X</mi><mn>1</mn></msub><mo>⃗</mo></mover><mo>+</mo><mover accent="true"><msub><mi>X</mi><mn>2</mn></msub><mo>⃗</mo></mover><mo>+</mo><mover accent="true"><msub><mi>X</mi><mn>3</mn></msub><mo>⃗</mo></mover></mrow><mn>3</mn></mfrac></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(7)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\vec{X}(t+1)=\frac{\vec{X_1}+\vec{X_2}+\vec{X_3}}{3}\tag7</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.21633em;vertical-align:-0.25em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.3293299999999997em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6433299999999997em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="tag"><span class="strut" style="height:2.3293299999999997em;vertical-align:-0.686em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">7</span></span><span class="mord">)</span></span></span></span></span></span></p><p>其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><msub><mi>D</mi><mi>α</mi></msub><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{D_α}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1163299999999998em;vertical-align:-0.15em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.0037em;">α</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span>，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><msub><mi>D</mi><mi>β</mi></msub><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{D_β}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.252438em;vertical-align:-0.286108em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05278em;">β</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span>和<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><msub><mi>D</mi><mi>δ</mi></msub><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{D_δ}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1163299999999998em;vertical-align:-0.15em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03785em;">δ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span>分别表示α，β和δ与其他个体间的距离，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><msub><mi>X</mi><mi>α</mi></msub><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{X_α}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1163299999999998em;vertical-align:-0.15em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.0037em;">α</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span>，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><msub><mi>X</mi><mi>β</mi></msub><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{X_β}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.252438em;vertical-align:-0.286108em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05278em;">β</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span>和<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><msub><mi>X</mi><mi>δ</mi></msub><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{X_δ}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1163299999999998em;vertical-align:-0.15em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03785em;">δ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span>分别代表α，β和δ的当前位置，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mi>X</mi><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{X}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9663299999999999em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span></span></span></span>是当前灰狼的位置，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mi>X</mi><mo>⃗</mo></mover><mo stretchy="false">(</mo><mi>t</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\vec{X}(t+1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.21633em;vertical-align:-0.25em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span>是下一时间步即更新后灰狼的位置。<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mi>A</mi><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{A}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9663299999999999em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">A</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.09660999999999997em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span></span></span></span>和<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mi>C</mi><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{C}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9663299999999999em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span></span></span></span>为算法带来了随机性，避免陷入局部最优，当<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mrow><mi mathvariant="normal">∣</mi><mi>A</mi><mi mathvariant="normal">∣</mi></mrow><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{|A|}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.283em;vertical-align:-0.25em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.033em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">∣</span><span class="mord mathdefault">A</span><span class="mord">∣</span></span></span><span style="top:-3.319em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.25em;"><span></span></span></span></span></span></span></span></span>&lt;1时，灰狼靠近猎物，进行开发，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mrow><mi mathvariant="normal">∣</mi><mi>A</mi><mi mathvariant="normal">∣</mi></mrow><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{|A|}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.283em;vertical-align:-0.25em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.033em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">∣</span><span class="mord mathdefault">A</span><span class="mord">∣</span></span></span><span style="top:-3.319em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.25em;"><span></span></span></span></span></span></span></span></span>&gt;1时，灰狼远离猎物，进行勘探。在计算<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mi>D</mi><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{D}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9663299999999999em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.17994em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span></span></span></span>时，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mi>C</mi><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{C}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9663299999999999em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span></span></span></span>将随机强化或弱化目标对<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mi>X</mi><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{X}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9663299999999999em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span></span></span></span>的影响。灰狼位置更新示意图如图3所示。</p><p><img src="/images/gwo_3.png" alt="" /></p><center style="font-size:14px;color:#C0C0C0;">图3：灰狼位置更新示意图，引用自论文《Grey Wolf Optimizer》</center><p>灰狼优化算法的伪代码如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">初始化灰狼种群 Xi (i&#x3D;1,2,…,n)</span><br><span class="line">初始化 a, A, C</span><br><span class="line">计算每个搜索单元的适应度</span><br><span class="line">Xα&#x3D;最优搜索单元</span><br><span class="line">Xβ&#x3D;第二优搜索单元</span><br><span class="line">Xδ&#x3D;第三优搜索单元</span><br><span class="line">while (t&lt;最大迭代次数)</span><br><span class="line">  for (每个搜索单元)</span><br><span class="line">    根据公式2.7更新当前搜索单元的位置</span><br><span class="line">  end for</span><br><span class="line">  更新a, A, C</span><br><span class="line">  计算所有搜索单元的适应度</span><br><span class="line">  更新Xα，Xβ，Xδ</span><br><span class="line">  t&#x3D;t+1</span><br><span class="line">end while</span><br><span class="line">return Xα</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;灰狼优化算法&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#灰狼优化算法&quot;&gt;&lt;/a&gt; 灰狼优化算法&lt;/h1&gt;
&lt;h2 id=&quot;灰狼群体&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#灰狼群体&quot;&gt;&lt;/a&gt; 灰狼</summary>
      
    
    
    
    <category term="理论知识" scheme="http://wzw21.cn/categories/%E7%90%86%E8%AE%BA%E7%9F%A5%E8%AF%86/"/>
    
    
    <category term="智能算法" scheme="http://wzw21.cn/tags/%E6%99%BA%E8%83%BD%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>非侵入式教务系统辅助选课方法</title>
    <link href="http://wzw21.cn/2021/10/30/get-courses/"/>
    <id>http://wzw21.cn/2021/10/30/get-courses/</id>
    <published>2021-10-30T06:59:30.000Z</published>
    <updated>2021-10-30T07:09:46.463Z</updated>
    
    <content type="html"><![CDATA[<p>注意：该方法仅可用于替代手动刷新页面并选择课程，不影响选课的公平性</p><ol><li>下载安装“按键精灵”</li><li>运行软件后，在新建脚本中选择新建空白脚本</li><li>进入脚本后选择上方“普通”旁边的“源文件”，并粘贴入如下内容。</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">d &#x3D; 30000</span><br><span class="line">MoveTo 1285,376</span><br><span class="line">LeftClick 1</span><br><span class="line">Delay 1000</span><br><span class="line">MoveTo 293,538</span><br><span class="line">LeftClick 1</span><br><span class="line">Delay 1000</span><br><span class="line">MoveTo 1756, 246</span><br><span class="line">LeftClick 1</span><br><span class="line">Delay d</span><br></pre></td></tr></table></figure><p>（注意三处MoveTo后的坐标分别为“查询”按钮、查询结果中第一项课程前的勾选框，“提交”按钮的坐标位置，不同电脑按钮坐标可能不同，可用软件里的“抓抓”功能获取各个按钮的坐标并进行修改）</p><ol start="4"><li>完成脚本后保存退出</li><li>按电脑键盘上相应热键可启动或停止脚本，热键可设置</li><li>使用时需先进入“自由选课”，并在搜索框中输入想选课程的全称，然后启动脚本</li><li>使用脚本时不能使用电脑做其他事</li><li>时间设置为30s抢一次，可更改</li><li>可按顺序加入更多勾选框坐标，以实现同一时间抢多门具有相同特征的课程（例如网课）</li></ol><p>— 2019年12月</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;注意：该方法仅可用于替代手动刷新页面并选择课程，不影响选课的公平性&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;下载安装“按键精灵”&lt;/li&gt;
&lt;li&gt;运行软件后，在新建脚本中选择新建空白脚本&lt;/li&gt;
&lt;li&gt;进入脚本后选择上方“普通”旁边的“源文件”，并粘贴入如下内容。&lt;/li&gt;
&lt;/o</summary>
      
    
    
    
    <category term="操作步骤与实践" scheme="http://wzw21.cn/categories/%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%AA%A4%E4%B8%8E%E5%AE%9E%E8%B7%B5/"/>
    
    
    <category term="自动" scheme="http://wzw21.cn/tags/%E8%87%AA%E5%8A%A8/"/>
    
  </entry>
  
  <entry>
    <title>使用Python读取和播放音频文件</title>
    <link href="http://wzw21.cn/2021/10/27/play-audio-in-python/"/>
    <id>http://wzw21.cn/2021/10/27/play-audio-in-python/</id>
    <published>2021-10-27T14:40:18.000Z</published>
    <updated>2021-10-27T15:42:06.514Z</updated>
    
    <content type="html"><![CDATA[<p>暂时记录两种方式，分别为使用“pydub+ffmpeg+simpleaudio”和“librosa+simpleaudio”，推荐第二种</p><h1 id="使用pydub库读取音频-simpleaudio库播放音频"><a class="markdownIt-Anchor" href="#使用pydub库读取音频-simpleaudio库播放音频"></a> 使用pydub库读取音频、simpleaudio库播放音频</h1><h2 id="环境配置"><a class="markdownIt-Anchor" href="#环境配置"></a> 环境配置</h2><p>Windows10环境下</p><ol><li><p>pip install pydub</p></li><li><p>pip install simpleaudio</p></li><li><p>安装ffmpeg<br />从https://www.gyan.dev/ffmpeg/builds/下载ffmpeg（压缩包），解压后将bin文件所在位置加入Path环境变量，并在相应程序中添加一行代码。具体操作参考以下三个链接：<br /><a href="https://blog.csdn.net/qq_38161040/article/details/91654183">https://blog.csdn.net/qq_38161040/article/details/91654183</a><br /><a href="https://cloud.tencent.com/developer/article/1702673">https://cloud.tencent.com/developer/article/1702673</a><br /><a href="https://www.freesion.com/article/6184901177/">https://www.freesion.com/article/6184901177/</a></p></li><li><p>注意该步骤不是用pip安装</p></li><li><p>重启计算机！（重要）</p></li></ol><h2 id="代码示例"><a class="markdownIt-Anchor" href="#代码示例"></a> 代码示例</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pydub <span class="keyword">import</span> AudioSegment</span><br><span class="line"><span class="keyword">import</span> simpleaudio</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">play_data_from_pydub</span>(<span class="params">audio_segment</span>):</span></span><br><span class="line">  player = simpleaudio.play_buffer(</span><br><span class="line">​    audio_segment.raw_data,</span><br><span class="line">​    num_channels=audio_segment.channels,</span><br><span class="line">​    bytes_per_sample=audio_segment.sample_width,</span><br><span class="line">​    sample_rate=audio_segment.frame_rate</span><br><span class="line">  )</span><br><span class="line">  <span class="keyword">try</span>:</span><br><span class="line">​    player.wait_done()</span><br><span class="line">  <span class="keyword">except</span> KeyboardInterrupt:</span><br><span class="line">​    player.stop()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    audio_path = <span class="string">r&#x27;audio\test.mp3&#x27;</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (audio_path[<span class="number">-3</span>:] == <span class="string">&#x27;wav&#x27;</span>): audio_seg = AudioSegment.from_file(audio_path, <span class="string">&#x27;wav&#x27;</span>)</span><br><span class="line">    <span class="keyword">elif</span> (audio_path[<span class="number">-3</span>:] == <span class="string">&#x27;mp3&#x27;</span>): audio_seg = AudioSegment.from_file(audio_path, <span class="string">&#x27;mp3&#x27;</span>)</span><br><span class="line">    play_data_from_pydub(audio_seg)</span><br></pre></td></tr></table></figure><h1 id="使用librosa库读取音频-simpleaudio库播放音频"><a class="markdownIt-Anchor" href="#使用librosa库读取音频-simpleaudio库播放音频"></a> 使用librosa库读取音频、simpleaudio库播放音频</h1><h2 id="环境配置-2"><a class="markdownIt-Anchor" href="#环境配置-2"></a> 环境配置</h2><p>Windows10环境下</p><ol><li>pip install librosa</li><li>pip install simpleaudio</li></ol><h2 id="代码示例-2"><a class="markdownIt-Anchor" href="#代码示例-2"></a> 代码示例</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> simpleaudio</span><br><span class="line"><span class="keyword">import</span> librosa</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">play_data_from_librosa</span>(<span class="params">y, sr</span>):</span></span><br><span class="line">    player = simpleaudio.play_buffer(</span><br><span class="line">        y,</span><br><span class="line">        num_channels=<span class="number">1</span>,</span><br><span class="line">        bytes_per_sample=<span class="number">4</span>,</span><br><span class="line">        sample_rate=sr</span><br><span class="line">    )</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        player.wait_done()</span><br><span class="line">    <span class="keyword">except</span> KeyboardInterrupt:</span><br><span class="line">        player.stop()</span><br><span class="line">        </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    audio_path = <span class="string">r&#x27;audio\test.mp3&#x27;</span></span><br><span class="line">    </span><br><span class="line">y, sr = librosa.load(audio_path)</span><br><span class="line">    play_data_from_librosa(y, sr)</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;暂时记录两种方式，分别为使用“pydub+ffmpeg+simpleaudio”和“librosa+simpleaudio”，推荐第二种&lt;/p&gt;
&lt;h1 id=&quot;使用pydub库读取音频-simpleaudio库播放音频&quot;&gt;&lt;a class=&quot;markdownIt-Anch</summary>
      
    
    
    
    <category term="操作步骤与实践" scheme="http://wzw21.cn/categories/%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%AA%A4%E4%B8%8E%E5%AE%9E%E8%B7%B5/"/>
    
    
    <category term="MIR" scheme="http://wzw21.cn/tags/MIR/"/>
    
    <category term="Python" scheme="http://wzw21.cn/tags/Python/"/>
    
  </entry>
  
  <entry>
    <title>Git使用方法</title>
    <link href="http://wzw21.cn/2021/10/17/git-use/"/>
    <id>http://wzw21.cn/2021/10/17/git-use/</id>
    <published>2021-10-17T15:19:08.000Z</published>
    <updated>2021-10-27T14:43:40.841Z</updated>
    
    <content type="html"><![CDATA[<p>将代码上传至Github的方法以及提升下载速度的方法</p><h1 id="向新建仓库首次上传代码"><a class="markdownIt-Anchor" href="#向新建仓库首次上传代码"></a> 向新建仓库首次上传代码</h1><h2 id="注意事项"><a class="markdownIt-Anchor" href="#注意事项"></a> 注意事项</h2><p>2020年10月1日起，github默认主分支从master更名为main</p><p>在使用git前应使用指令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global init.defaultBranch main</span><br></pre></td></tr></table></figure><p>将本地默认分支设置为main</p><h2 id="上传步骤"><a class="markdownIt-Anchor" href="#上传步骤"></a> 上传步骤</h2><p>在当前文件夹下初始化 git</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br></pre></td></tr></table></figure><p>将文件添加至缓存区，&quot;.&quot;代表文件夹下的全部内容（新建及修改过的文件）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git add . 或 git add 文件名</span><br></pre></td></tr></table></figure><p>将缓存区的内容提交到本地仓库，“xxx&quot;是此次提交内容的注释，例如&quot;First commit”</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -m <span class="string">&quot;xxx&quot;</span></span><br></pre></td></tr></table></figure><p>查看当前状态</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git status</span><br></pre></td></tr></table></figure><p>将本地仓库与远程仓库连接</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote add origin git@github.com:xxx/xxx.git</span><br></pre></td></tr></table></figure><p>如果远程仓库为空（不含README等初始文件），使用如下指令上传</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push -u origin main</span><br></pre></td></tr></table></figure><p>否则使用以下指令上传</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git pull --rebase origin main</span><br><span class="line">git push origin main </span><br></pre></td></tr></table></figure><h2 id="非首次上传"><a class="markdownIt-Anchor" href="#非首次上传"></a> 非首次上传</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br><span class="line"></span><br><span class="line">git commit -m <span class="string">&quot;xxx&quot;</span></span><br><span class="line"></span><br><span class="line">git push origin main</span><br></pre></td></tr></table></figure><h1 id="提升github下载速度的方法"><a class="markdownIt-Anchor" href="#提升github下载速度的方法"></a> 提升Github下载速度的方法</h1><h2 id="手动绑定cdn域名与ip地址"><a class="markdownIt-Anchor" href="#手动绑定cdn域名与ip地址"></a> 手动绑定CDN域名与IP地址</h2><ol><li>访问 <a href="http://github.global.ssl.fastly.net.ipaddress.com/#ipinfo">http://github.global.ssl.fastly.net.ipaddress.com/#ipinfo</a><br />获取ip地址1 <a href="http://xxx.xxx.xxx.xxx">xxx.xxx.xxx.xxx</a></li><li>访问 <a href="http://github.com.ipaddress.com/#ipinfo">http://github.com.ipaddress.com/#ipinfo</a><br />获取ip地址2 yyy.yyy.yyy.yyy</li><li>在C:\Windows\System32\drivers\etc\hosts 文件末尾添加以下两行<br /><a href="http://xxx.xxx.xxx.xxx">xxx.xxx.xxx.xxx</a> <a href="http://github.global.ssl.fastly.net">http://github.global.ssl.fastly.net</a><br />yyy.yyy.yyy.yyy <a href="http://github.com">http://github.com</a></li><li>最后打开CMD<br />输入ipconfig /flushdns 刷新DNS即可</li></ol><h2 id="clone至码云下载"><a class="markdownIt-Anchor" href="#clone至码云下载"></a> Clone至码云下载</h2><h1 id="学习git的使用"><a class="markdownIt-Anchor" href="#学习git的使用"></a> 学习git的使用</h1><p><a href="https://learngitbranching.js.org/?NODEMO=&amp;locale=zh_CN">https://learngitbranching.js.org/?NODEMO=&amp;locale=zh_CN</a></p><p>在左边终端中输入levels即可进行关卡选择</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;将代码上传至Github的方法以及提升下载速度的方法&lt;/p&gt;
&lt;h1 id=&quot;向新建仓库首次上传代码&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#向新建仓库首次上传代码&quot;&gt;&lt;/a&gt; 向新建仓库首次上传代码&lt;/h1&gt;
&lt;h2 id=&quot;注意事项&quot;&gt;</summary>
      
    
    
    
    <category term="操作步骤与实践" scheme="http://wzw21.cn/categories/%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%AA%A4%E4%B8%8E%E5%AE%9E%E8%B7%B5/"/>
    
    
    <category term="Github" scheme="http://wzw21.cn/tags/Github/"/>
    
  </entry>
  
  <entry>
    <title>算法竞赛部分算法（二）算法模板</title>
    <link href="http://wzw21.cn/2021/07/26/algorithms2/"/>
    <id>http://wzw21.cn/2021/07/26/algorithms2/</id>
    <published>2021-07-26T11:35:07.000Z</published>
    <updated>2022-02-04T10:11:38.635Z</updated>
    
    <content type="html"><![CDATA[<h1 id="常用算法模板cc"><a class="markdownIt-Anchor" href="#常用算法模板cc"></a> 常用算法模板（C/C++）</h1><p>整理于 NOIP2016 前 - Written by WZW</p><h2 id="定义部分"><a class="markdownIt-Anchor" href="#定义部分"></a> 定义部分</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXN 10005</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXM 10005</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> n,m;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">edge_</span> &#123;</span><span class="keyword">int</span> to,next,w;&#125;edge[MAXM*<span class="number">2</span>];</span><br><span class="line"><span class="keyword">int</span> first[MAXN],et;</span><br><span class="line"><span class="keyword">int</span> dis[MAXN],vis[MAXN];</span><br><span class="line"><span class="keyword">int</span> low[MAXN],dfn[MAXN],tim,belong[MAXN],now;</span><br><span class="line"><span class="keyword">int</span> p[MAXN],eu[MAXN];<span class="keyword">bool</span> f[MAXN];</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">bian_</span> &#123;</span><span class="keyword">int</span> u,v,w;&#125;bian[MAXM];</span><br><span class="line"><span class="keyword">int</span> fa[MAXN];</span><br><span class="line"><span class="keyword">int</span> root,from[MAXN];</span><br><span class="line"><span class="keyword">int</span> rd[MAXN];</span><br><span class="line"><span class="keyword">int</span> anc[MAXN][<span class="number">16</span>],deep[MAXN];</span><br><span class="line"><span class="keyword">int</span> A[MAXN],B[MAXN],cnt;</span><br><span class="line"><span class="built_in">queue</span> &lt;<span class="keyword">int</span>&gt; Q;</span><br><span class="line"><span class="built_in">stack</span> &lt;<span class="keyword">int</span>&gt; S;</span><br><span class="line"><span class="built_in">priority_queue</span> &lt;<span class="keyword">int</span>&gt; Q1;</span><br><span class="line"><span class="built_in">priority_queue</span> &lt;<span class="keyword">int</span>, <span class="built_in">vector</span> &lt;<span class="keyword">int</span>&gt;, greater &lt;<span class="keyword">int</span>&gt; &gt; Q2;</span><br><span class="line"><span class="comment">//优先队列重载运算符见Dijkstra算法</span></span><br></pre></td></tr></table></figure><h2 id="图论"><a class="markdownIt-Anchor" href="#图论"></a> 图论</h2><h3 id="存图"><a class="markdownIt-Anchor" href="#存图"></a> 存图</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> u,<span class="keyword">int</span> v,<span class="keyword">int</span> w)</span> <span class="comment">//邻接表（前向星）</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">et++;</span><br><span class="line">edge[et].to=v;</span><br><span class="line">edge[et].w=w;</span><br><span class="line">edge[et].next=first[u];</span><br><span class="line">first[u]=et;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">get_graph</span><span class="params">(<span class="keyword">int</span> o)</span> <span class="comment">//1 无向图 2 有向图  3 边集数组 </span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;n&gt;&gt;m;</span><br><span class="line"><span class="keyword">int</span> i,j,u,v,w;</span><br><span class="line"><span class="keyword">if</span> (o==<span class="number">1</span>||o==<span class="number">2</span>||o==<span class="number">4</span>||o==<span class="number">5</span>) </span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (i=<span class="number">1</span>;i&lt;=m;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;u&gt;&gt;v&gt;&gt;w;</span><br><span class="line">add(u,v,w);</span><br><span class="line"><span class="keyword">if</span> (o==<span class="number">1</span>) add(v,u,w);</span><br><span class="line"><span class="keyword">if</span> (o==<span class="number">4</span>) rd[v]++;</span><br><span class="line">&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (o==<span class="number">3</span>)</span><br><span class="line">    &#123;</span><br><span class="line">    <span class="keyword">for</span> (i=<span class="number">1</span>;i&lt;=m;i++)</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;bian[i].u&gt;&gt;bian[i].v&gt;&gt;bian[i].w;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="spfa最短路"><a class="markdownIt-Anchor" href="#spfa最短路"></a> SPFA（最短路）</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SPFA</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">get_graph(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">int</span> i,j,u,v,w;</span><br><span class="line"><span class="built_in">memset</span>(dis,<span class="number">0x7f</span>,<span class="keyword">sizeof</span>(dis));</span><br><span class="line"><span class="built_in">memset</span>(vis,<span class="number">0</span>,<span class="keyword">sizeof</span>(vis));</span><br><span class="line">dis[<span class="number">1</span>]=<span class="number">0</span>;</span><br><span class="line">Q.push(<span class="number">1</span>);</span><br><span class="line">vis[<span class="number">1</span>]=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span> (!Q.empty())</span><br><span class="line">&#123;</span><br><span class="line">u=Q.front();</span><br><span class="line">Q.pop();</span><br><span class="line">vis[u]=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> b=first[u];</span><br><span class="line"><span class="keyword">while</span> (b!=<span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">v=edge[b].to;</span><br><span class="line">w=edge[b].w;</span><br><span class="line"><span class="keyword">if</span> (dis[u]+w&lt;dis[v])</span><br><span class="line">&#123;</span><br><span class="line">dis[v]=dis[u]+w;</span><br><span class="line"><span class="keyword">if</span> (vis[v]==<span class="number">0</span>) </span><br><span class="line">&#123;</span><br><span class="line">Q.push(v);</span><br><span class="line">vis[v]=<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">b=edge[b].next;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;dis[i]&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="dijkstra堆优化最短路"><a class="markdownIt-Anchor" href="#dijkstra堆优化最短路"></a> Dijkstra+堆优化（最短路）</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">int</span> dis,id;</span><br><span class="line"><span class="keyword">bool</span> <span class="keyword">operator</span> &lt; (<span class="keyword">const</span> node &amp;x) <span class="keyword">const</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> x.dis &lt; dis;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">priority_queue</span> &lt;node&gt; Q3;</span><br><span class="line"><span class="keyword">bool</span> blue[MAXN];</span><br><span class="line"><span class="keyword">int</span> dist[MAXN];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Dijkstra</span><span class="params">(<span class="keyword">int</span> s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        dist[i]=<span class="number">1e10</span>;</span><br><span class="line">dist[s]=<span class="number">0</span>;</span><br><span class="line">node tmp;</span><br><span class="line">tmp.dis=<span class="number">0</span>;tmp.id=s;</span><br><span class="line">Q3.push(tmp);</span><br><span class="line"><span class="keyword">int</span> u,v,b;</span><br><span class="line">    <span class="keyword">while</span>(!Q3.empty())</span><br><span class="line">    &#123;</span><br><span class="line">    tmp=Q3.top();</span><br><span class="line">u=tmp.id;</span><br><span class="line">Q3.pop();</span><br><span class="line">    <span class="keyword">if</span> (blue[u]) <span class="keyword">continue</span>;</span><br><span class="line">    blue[u]=<span class="literal">true</span>;</span><br><span class="line">    b=first[u];</span><br><span class="line">    <span class="keyword">while</span> (b)</span><br><span class="line">    &#123;</span><br><span class="line">    v=edge[b].to;</span><br><span class="line">    <span class="keyword">if</span> (dist[u]+edge[b].w&lt;dist[v])</span><br><span class="line">    &#123;</span><br><span class="line">    dist[v]=dist[u]+edge[b].w;</span><br><span class="line">    tmp.dis=dist[v];tmp.id=v;</span><br><span class="line">    Q3.push(tmp);</span><br><span class="line">    &#125;</span><br><span class="line">    b=edge[b].next;</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="kruskal最小生成树"><a class="markdownIt-Anchor" href="#kruskal最小生成树"></a> Kruskal（最小生成树）</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp1</span><span class="params">(bian_ x,bian_ y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x.w&lt;y.w;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (fa[x]!=x) fa[x]=find(fa[x]);</span><br><span class="line"><span class="keyword">return</span> fa[x];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">unionn</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> x1=find(x),y1=find(y);</span><br><span class="line"><span class="keyword">if</span> (x1!=y1) fa[x1]=y1;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">kruskal</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">get_graph(<span class="number">3</span>);</span><br><span class="line"><span class="keyword">int</span> i,j;</span><br><span class="line">sort(bian+<span class="number">1</span>,bian+<span class="number">1</span>+m,cmp1);</span><br><span class="line"><span class="keyword">int</span> m1=<span class="number">0</span>,mst=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">fa[i]=i;</span><br><span class="line"><span class="keyword">for</span> (i=<span class="number">1</span>;i&lt;=m;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (find(bian[i].u)!=find(bian[i].v))</span><br><span class="line">&#123;</span><br><span class="line">unionn(bian[i].u,bian[i].v);</span><br><span class="line">mst+=bian[i].w;</span><br><span class="line">m1++;</span><br><span class="line"><span class="keyword">if</span> (m1==n<span class="number">-1</span>) <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;mst;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="tarjan强连通分量"><a class="markdownIt-Anchor" href="#tarjan强连通分量"></a> Tarjan（强连通分量）</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">tarjan</span><span class="params">(<span class="keyword">int</span> u)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">dfn[u]=low[u]=++tim;</span><br><span class="line">S.push(u);</span><br><span class="line"><span class="keyword">int</span> v=<span class="number">0</span>;</span><br><span class="line">vis[u]=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">int</span> b=first[u];</span><br><span class="line"><span class="keyword">while</span> (b!=<span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">v=edge[b].to;</span><br><span class="line"><span class="keyword">if</span> (dfn[v]==<span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">tarjan(v);</span><br><span class="line">low[u]=min(low[u],low[v]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (vis[v]) low[u]=min(low[u],dfn[v]);</span><br><span class="line">b=edge[b].next;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (dfn[u]==low[u])</span><br><span class="line">&#123;</span><br><span class="line">now++;</span><br><span class="line"><span class="keyword">do</span>&#123;</span><br><span class="line">v=S.top();</span><br><span class="line">S.pop();</span><br><span class="line">belong[v]=now;</span><br><span class="line">vis[v]=<span class="number">0</span>;</span><br><span class="line">&#125;<span class="keyword">while</span> (u!=v);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">scc</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">memset</span>(vis,<span class="number">0</span>,<span class="keyword">sizeof</span>(vis));</span><br><span class="line">get_graph(<span class="number">2</span>);</span><br><span class="line">tarjan(<span class="number">1</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;belong[i]&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="hungary二分图匹配"><a class="markdownIt-Anchor" href="#hungary二分图匹配"></a> Hungary（二分图匹配）</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">match</span><span class="params">(<span class="keyword">int</span> u)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> b=first[u];</span><br><span class="line"><span class="keyword">while</span> (b!=<span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">int</span> v=edge[b].to;</span><br><span class="line"><span class="keyword">if</span> (vis[v]!=root)</span><br><span class="line">&#123;</span><br><span class="line">vis[v]=root;</span><br><span class="line"><span class="keyword">if</span> (!from[v]||match(from[v]))</span><br><span class="line">&#123;</span><br><span class="line">from[v]=u;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">b=edge[b].next;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">hungary</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> x,y,ans=<span class="number">0</span>;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;x&gt;&gt;y;</span><br><span class="line">get_graph(<span class="number">1</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=x;i++)</span><br><span class="line">&#123;</span><br><span class="line">  root=i;</span><br><span class="line">  <span class="keyword">if</span> (match(i)==<span class="number">1</span>)</span><br><span class="line">  ans++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="拓扑排序"><a class="markdownIt-Anchor" href="#拓扑排序"></a> 拓扑排序</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">tuopu</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">get_graph(<span class="number">4</span>);</span><br><span class="line"><span class="keyword">int</span> i,j,u,v;</span><br><span class="line"><span class="keyword">for</span> (i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line"><span class="keyword">if</span> (rd[i]==<span class="number">0</span>) S.push(i);</span><br><span class="line"><span class="keyword">while</span> (!S.empty())</span><br><span class="line">&#123;</span><br><span class="line">u=S.top();</span><br><span class="line">S.pop();</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;u&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line"><span class="keyword">int</span> b=first[u];</span><br><span class="line"><span class="keyword">while</span> (b)</span><br><span class="line">&#123;</span><br><span class="line">v=edge[b].to;</span><br><span class="line">rd[v]--;</span><br><span class="line"><span class="keyword">if</span> (rd[v]==<span class="number">0</span>) S.push(v);</span><br><span class="line">b=edge[b].next;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="数论"><a class="markdownIt-Anchor" href="#数论"></a> 数论</h2><h3 id="线筛求素数与欧拉函数"><a class="markdownIt-Anchor" href="#线筛求素数与欧拉函数"></a> 线筛（求素数与欧拉函数）</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">prime</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> i,j,pi=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span> (i=<span class="number">2</span>;i&lt;MAXN;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (f[i]==<span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">p[pi]=i;</span><br><span class="line">pi++;</span><br><span class="line">eu[i]=i<span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (j=<span class="number">1</span>;j&lt;pi&amp;&amp;i*p[j]&lt;MAXN;j++)</span><br><span class="line">  &#123;</span><br><span class="line">  f[i*p[j]]=<span class="literal">true</span>;</span><br><span class="line">  <span class="keyword">if</span> (i%p[j]==<span class="number">0</span>)</span><br><span class="line">  &#123;</span><br><span class="line">     eu[i*p[j]]=eu[i]*p[j];</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">  &#125;</span><br><span class="line">    <span class="keyword">else</span> eu[i*p[j]]=eu[i]*(p[j]<span class="number">-1</span>);</span><br><span class="line">      &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (i=<span class="number">1</span>;i&lt;=<span class="number">1000</span>;i++)</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;p[i]&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="快速幂"><a class="markdownIt-Anchor" href="#快速幂"></a> 快速幂</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">ksm</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> a,b,c;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;a&gt;&gt;b&gt;&gt;c;</span><br><span class="line"><span class="keyword">int</span> ans=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span> (b!=<span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (b%<span class="number">2</span>!=<span class="number">0</span>) ans=ans*a%c;</span><br><span class="line">a=a*a%c;</span><br><span class="line">b/=<span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="扩展欧几里得"><a class="markdownIt-Anchor" href="#扩展欧几里得"></a> 扩展欧几里得</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">e_gcd</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b,<span class="keyword">int</span> &amp;x,<span class="keyword">int</span> &amp;y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (b==<span class="number">0</span>) </span><br><span class="line">&#123;</span><br><span class="line">x=<span class="number">1</span>;</span><br><span class="line">y=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> ans=e_gcd(b,a%b,x,y);</span><br><span class="line"><span class="keyword">int</span> t=x;</span><br><span class="line">x=y;</span><br><span class="line">y=t-a/b*y;</span><br><span class="line"><span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">exgcd</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> a,b,x,y,gcd;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;a&gt;&gt;b;</span><br><span class="line">gcd=e_gcd(a,b,x,y);</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;gcd&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;x&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;y&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;(x%b+b)%b&lt;&lt;<span class="built_in">endl</span>;<span class="comment">//gcd(a,b)=1时,x是a关于b的逆元</span></span><br><span class="line"><span class="comment">//除以一个数取模等于乘以这个数的逆元取模。 </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="树"><a class="markdownIt-Anchor" href="#树"></a> 树</h2><h3 id="lca最近公共祖先"><a class="markdownIt-Anchor" href="#lca最近公共祖先"></a> LCA（最近公共祖先）</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> u,<span class="keyword">int</span> s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> b=first[u];</span><br><span class="line">deep[u]=s;</span><br><span class="line"><span class="keyword">while</span> (b!=<span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">int</span> v=edge[b].to;</span><br><span class="line">dfs(v,s+<span class="number">1</span>);</span><br><span class="line">anc[v][<span class="number">0</span>]=u;</span><br><span class="line">b=edge[b].next;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getlca</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> i,j,k;</span><br><span class="line"><span class="keyword">if</span> (deep[a]&lt;deep[b]) swap(a,b);</span><br><span class="line"><span class="keyword">for</span> (k=<span class="built_in">log</span>(n)/<span class="built_in">log</span>(<span class="number">2</span>)+<span class="number">1</span>;k&gt;=<span class="number">0</span>;k--)</span><br><span class="line">  <span class="keyword">if</span> (deep[a]-(<span class="number">1</span>&lt;&lt;k)&gt;=deep[b])</span><br><span class="line">a=anc[a][k];</span><br><span class="line"><span class="keyword">if</span> (a==b) <span class="keyword">return</span> a;</span><br><span class="line"><span class="keyword">for</span> (j=<span class="built_in">log</span>(n)/<span class="built_in">log</span>(<span class="number">2</span>)+<span class="number">1</span>;j&gt;=<span class="number">0</span>;j--)</span><br><span class="line">  <span class="keyword">if</span> (anc[a][j]!=anc[b][j])</span><br><span class="line">  &#123;</span><br><span class="line">  a=anc[a][j];</span><br><span class="line">  b=anc[b][j];</span><br><span class="line">  &#125;</span><br><span class="line"><span class="keyword">return</span> anc[a][<span class="number">0</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">lca</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">get_graph(<span class="number">4</span>);</span><br><span class="line"><span class="keyword">int</span> i,j,k;</span><br><span class="line"><span class="keyword">for</span> (i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line"><span class="keyword">if</span> (rd[i]==<span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">dfs(i,<span class="number">0</span>);</span><br><span class="line"><span class="keyword">for</span> (j=<span class="number">1</span>;j&lt;=<span class="built_in">log</span>(n)/<span class="built_in">log</span>(<span class="number">2</span>)+<span class="number">1</span>;j++)</span><br><span class="line">  <span class="keyword">for</span> (k=<span class="number">1</span>;k&lt;=n;k++)</span><br><span class="line">anc[k][j]=anc[anc[k][j<span class="number">-1</span>]][j<span class="number">-1</span>];</span><br><span class="line"><span class="keyword">int</span> x,y;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;x&gt;&gt;y;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;getlca(x,y);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="线段树"><a class="markdownIt-Anchor" href="#线段树"></a> 线段树</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxn 200002</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> lson l, mid, o &lt;&lt; 1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rson mid + 1, r, o &lt;&lt; 1 | 1</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span> </span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> sum,lazy;</span><br><span class="line">&#125; T[maxn&lt;&lt;<span class="number">2</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pushup</span><span class="params">(<span class="keyword">int</span> o)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    T[o].sum=T[o&lt;&lt;<span class="number">1</span>].sum+T[o&lt;&lt;<span class="number">1</span>|<span class="number">1</span>].sum;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pushdown</span><span class="params">(<span class="keyword">int</span> l,<span class="keyword">int</span> r,<span class="keyword">int</span> o)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> mid=(l+r)&gt;&gt;<span class="number">1</span>;</span><br><span class="line">    T[o&lt;&lt;<span class="number">1</span>].sum+=T[o].lazy*(mid-l+<span class="number">1</span>);</span><br><span class="line">    T[o&lt;&lt;<span class="number">1</span>|<span class="number">1</span>].sum+=T[o].lazy*(r-mid);</span><br><span class="line">    T[o&lt;&lt;<span class="number">1</span>].lazy+=T[o].lazy;</span><br><span class="line">    T[o&lt;&lt;<span class="number">1</span>|<span class="number">1</span>].lazy+=T[o].lazy;</span><br><span class="line">    T[o].lazy=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(<span class="keyword">int</span> l,<span class="keyword">int</span> r,<span class="keyword">int</span> o)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l==r) </span><br><span class="line">&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;T[o].sum);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> mid=(l+r)&gt;&gt;<span class="number">1</span>;</span><br><span class="line">    build(lson);</span><br><span class="line">    build(rson);</span><br><span class="line">    pushup(o);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> L,<span class="keyword">int</span> R,<span class="keyword">int</span> V,<span class="keyword">int</span> l,<span class="keyword">int</span> r,<span class="keyword">int</span> o)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l==L&amp;&amp;r==R) </span><br><span class="line">&#123;</span><br><span class="line">        T[o].lazy+=V;</span><br><span class="line">        T[o].sum+=V*(r-l+<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> mid=(l+r)&gt;&gt;<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(T[o].lazy) pushdown(l,r,o);</span><br><span class="line">    <span class="keyword">if</span>(R&lt;=mid) update(L,R,V,lson);</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(L&gt;mid) update(L,R,V,rson);</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        update(L,mid,V,lson);</span><br><span class="line">        update(mid+<span class="number">1</span>,R,V,rson);</span><br><span class="line">    &#125;</span><br><span class="line">    pushup(o);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> L,<span class="keyword">int</span> R,<span class="keyword">int</span> l,<span class="keyword">int</span> r,<span class="keyword">int</span> o)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l==L&amp;&amp;R==r)</span><br><span class="line">        <span class="keyword">return</span> T[o].sum;</span><br><span class="line">    <span class="keyword">int</span> mid=(l+r)&gt;&gt;<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(T[o].lazy) pushdown(l,r,o);</span><br><span class="line">    <span class="keyword">if</span>(R&lt;=mid) <span class="keyword">return</span> query(L,R,lson);</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(L&gt;mid) <span class="keyword">return</span> query(L,R,rson);</span><br><span class="line">    <span class="keyword">return</span> query(L,mid,lson)+query(mid+<span class="number">1</span>,R,rson);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="排序"><a class="markdownIt-Anchor" href="#排序"></a> 排序</h2><h3 id="归并排序"><a class="markdownIt-Anchor" href="#归并排序"></a> 归并排序</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">merge_sort</span><span class="params">(<span class="keyword">int</span> l,<span class="keyword">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(l==r)<span class="keyword">return</span>;</span><br><span class="line"><span class="keyword">int</span> m=(l+r)/<span class="number">2</span>;</span><br><span class="line">merge_sort(l,m);</span><br><span class="line">merge_sort(m+<span class="number">1</span>,r);</span><br><span class="line"><span class="keyword">int</span> i=l,j=m+<span class="number">1</span>,p=l;</span><br><span class="line"><span class="keyword">while</span>(i&lt;=m&amp;&amp;j&lt;=r)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(A[i]&lt;=A[j])</span><br><span class="line">&#123;</span><br><span class="line">B[p]=A[i];p++;i++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">B[p]=A[j];p++;j++;</span><br><span class="line">cnt+=m-i+<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">while</span>(i&lt;=m) &#123;B[p]=A[i];i++;p++;&#125;</span><br><span class="line"><span class="keyword">while</span>(j&lt;=r) &#123;B[p]=A[j];j++;p++;&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> k=l;k&lt;=r;k++) A[k]=B[k];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">merge</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line"><span class="keyword">int</span> i,j;</span><br><span class="line"><span class="keyword">for</span> (i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;A[i];</span><br><span class="line">merge_sort(<span class="number">1</span>,n);</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;cnt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="快速排序"><a class="markdownIt-Anchor" href="#快速排序"></a> 快速排序</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">qsort</span><span class="params">(<span class="keyword">int</span> *a,<span class="keyword">int</span> start,<span class="keyword">int</span> end)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (start&gt;=end) <span class="keyword">return</span>;</span><br><span class="line"><span class="keyword">int</span> i=start,j=end,key=a[start];</span><br><span class="line"><span class="keyword">while</span> (i&lt;j)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">while</span> (i&lt;j &amp;&amp; a[j]&gt;=key) j--;</span><br><span class="line">a[i]=a[j];</span><br><span class="line"><span class="keyword">while</span> (i&lt;j &amp;&amp; a[i]&lt;key) i++;</span><br><span class="line">a[j]=a[i];</span><br><span class="line">&#125;</span><br><span class="line">a[i]=key;</span><br><span class="line">qsort(a,start,i<span class="number">-1</span>);</span><br><span class="line">qsort(a,i+<span class="number">1</span>,end);</span><br><span class="line">&#125;</span><br><span class="line">qsort(a,<span class="number">1</span>,n);</span><br><span class="line"><span class="comment">//该代码块与定义部分无关</span></span><br></pre></td></tr></table></figure><h2 id="高精度"><a class="markdownIt-Anchor" href="#高精度"></a> 高精度</h2><h3 id="高精度乘法"><a class="markdownIt-Anchor" href="#高精度乘法"></a> 高精度乘法</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">hp <span class="title">cheng</span><span class="params">(hp a,hp b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">hp c;</span><br><span class="line"><span class="built_in">memset</span>(c.w,<span class="number">0</span>,<span class="keyword">sizeof</span>(c.w));</span><br><span class="line">c.w[<span class="number">0</span>]=a.w[<span class="number">0</span>]+b.w[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=a.w[<span class="number">0</span>];i++)</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=b.w[<span class="number">0</span>];j++)</span><br><span class="line">    &#123;</span><br><span class="line">      c.w[i+j<span class="number">-1</span>]+=a.w[i]*b.w[j];</span><br><span class="line">      c.w[i+j]+=c.w[i+j<span class="number">-1</span>]/<span class="number">10</span>;</span><br><span class="line">      c.w[i+j<span class="number">-1</span>]%=<span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">while</span> (c.w[c.w[<span class="number">0</span>]]==<span class="number">0</span>&amp;&amp;c.w[<span class="number">0</span>]&gt;<span class="number">1</span>)</span><br><span class="line">  c.w[<span class="number">0</span>]--;</span><br><span class="line"><span class="keyword">return</span> c;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="对拍bat"><a class="markdownIt-Anchor" href="#对拍bat"></a> 对拍（.bat）</h2><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"><span class="keyword">for</span> /l <span class="variable">%%i</span> <span class="keyword">in</span> (<span class="number">1</span>,<span class="number">1</span>,<span class="number">100</span>) <span class="keyword">do</span> (</span><br><span class="line">     data.exe <span class="variable">%%i</span> &gt; ab.<span class="keyword">in</span></span><br><span class="line">     ::<span class="built_in">type</span> ab.<span class="keyword">in</span></span><br><span class="line">     ab.exe &lt; ab.<span class="keyword">in</span> &gt; ab.out</span><br><span class="line">     ab_baoli.exe &lt; ab.<span class="keyword">in</span> &gt; ab_baoli.out</span><br><span class="line">     fc ab.out ab_baoli.out &gt;<span class="built_in">nul</span></span><br><span class="line">     <span class="keyword">if</span> <span class="keyword">not</span> <span class="keyword">errorlevel</span> <span class="number">1</span> ( <span class="built_in">echo</span> AC ) <span class="keyword">else</span> ( <span class="keyword">goto</span> wa )</span><br><span class="line">)</span><br><span class="line"><span class="keyword">goto</span> end</span><br><span class="line">:wa (</span><br><span class="line"><span class="built_in">echo</span> WA</span><br><span class="line"><span class="built_in">type</span> ab.<span class="keyword">in</span></span><br><span class="line">)</span><br><span class="line"><span class="built_in">pause</span></span><br><span class="line">:end</span><br><span class="line"><span class="built_in">pause</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;常用算法模板cc&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#常用算法模板cc&quot;&gt;&lt;/a&gt; 常用算法模板（C/C++）&lt;/h1&gt;
&lt;p&gt;整理于 NOIP2016 前 - Written by WZW&lt;/p&gt;
&lt;h2 id=&quot;定义部分&quot;</summary>
      
    
    
    
    <category term="经验与总结" scheme="http://wzw21.cn/categories/%E7%BB%8F%E9%AA%8C%E4%B8%8E%E6%80%BB%E7%BB%93/"/>
    
    <category term="算法" scheme="http://wzw21.cn/categories/%E7%BB%8F%E9%AA%8C%E4%B8%8E%E6%80%BB%E7%BB%93/%E7%AE%97%E6%B3%95/"/>
    
    
    <category term="总结" scheme="http://wzw21.cn/tags/%E6%80%BB%E7%BB%93/"/>
    
    <category term="算法模板" scheme="http://wzw21.cn/tags/%E7%AE%97%E6%B3%95%E6%A8%A1%E6%9D%BF/"/>
    
  </entry>
  
  <entry>
    <title>算法竞赛部分算法（一）算法简介</title>
    <link href="http://wzw21.cn/2021/04/13/algorithms/"/>
    <id>http://wzw21.cn/2021/04/13/algorithms/</id>
    <published>2021-04-13T05:44:40.000Z</published>
    <updated>2022-01-09T09:10:36.218Z</updated>
    
    <content type="html"><![CDATA[<p>本文写于2015年暑假，当年文笔稚嫩，且内容并不全面，仅供参考。总结内容包括搜索、图论、动态规划、数据结构与数论等。</p><h1 id="搜索"><a class="markdownIt-Anchor" href="#搜索"></a> 搜索</h1><h2 id="dfs"><a class="markdownIt-Anchor" href="#dfs"></a> DFS</h2><p>深度优先搜索（Depth-first Search，DFS），基于递归的搜索方式，它的特点是由一个状态拓展一个状态，然后不停拓展，直到找到目标或者无法继续拓展结束一个状态的递归。可以在数列中进行搜索，也可在坐标系中进行搜索。</p><h2 id="bfs"><a class="markdownIt-Anchor" href="#bfs"></a> BFS</h2><p>广度优先搜索（Breadth-First Search，BFS），基于队列这种数据结构的搜索方式，它的特点是由每一个状态可以扩展出许多状态，然后再以此扩展，直到找到目标状态或者队列中头尾指针相遇，即队列中所有状态都已处理完毕。</p><h2 id="优缺点"><a class="markdownIt-Anchor" href="#优缺点"></a> 优缺点</h2><p>DFS：对于解决遍历和求所有问题有效，对于问题搜索深度小的时候处理速度迅速，然而在深度很大的情况下效率不高</p><p>BFS：对于解决最短或最少问题特别有效，而且寻找深度小，但缺点是内存耗费量大（需要开大量的数组单元用来存储状态）。</p><h2 id="剪枝"><a class="markdownIt-Anchor" href="#剪枝"></a> 剪枝</h2><p>由于时间和空间的局限性，搜索一般只能解决数据量小的问题。所以我们需要用不同的方法剪枝。剪枝方法包括：</p><ul><li>记忆化搜索（与DP类似）；</li><li>从方法上剪枝，如采用分枝定界，启发式搜索等，适用范围较广；</li><li>双向进行搜索或者反向进行搜索；</li><li>使用其它小技巧，例如卡时。这类方法适用性虽不如以上，有时甚至只能适用一道题，但也十分有效，并且几乎每道题都存在一些这样那样的剪枝技巧，只是每题有所不同而已。</li></ul><h1 id="图论"><a class="markdownIt-Anchor" href="#图论"></a> 图论</h1><p>图论是一个应用十分广泛而又极其有趣的数学分支。图即是由若干个不同顶点与连接其中某些顶点的边所组成的图形。<br />图的存储方式有邻接矩阵、边集数组和邻接表，其中邻接表适用于数据规模比较大的图的存储，也比较好用。</p><h2 id="图的遍历"><a class="markdownIt-Anchor" href="#图的遍历"></a> 图的遍历</h2><p>图的遍历有两种遍历方式：深度优先遍历和广度优先遍历。</p><h2 id="最短路径"><a class="markdownIt-Anchor" href="#最短路径"></a> 最短路径</h2><p>即求任意两点之间的最短路径。<br />四种最短路算法：</p><ul><li>Floyd算法：三重循环，枚举每一种三个点的组合，可以一次求出任意两点的最短路。是一种动态规划算法，对于稠密图效果最好，边权可正可负。O(n^3)</li><li>Dijkstra 算法：单个源点到其他顶点的最短路，蓝白点思想，找dis最小的u，更新v。不适用于负边权，可以进行堆优化。未优化O(n^2)，优化O(nlogn)</li><li>Bellman-ford 算法： 迭代n-1次，检查每条边，进行多次松弛操作，可发现负圈。O(nm)</li><li>SPFA：用FIFO队列代替Bellman的循环检查。O(nlogn)，较为常用</li></ul><p>SPFA在稀疏图上快，因为它是通过边来增广的。<br />Dijkstra在稠密图上快，因为它是通过点来增广的。<br />某些情况下dijkstra加上堆优化在处理大数据时会比SPFA快很多，但SPFA在随机数据的综合表现中相比dijkstra优势更大</p><h2 id="最小生成树"><a class="markdownIt-Anchor" href="#最小生成树"></a> 最小生成树</h2><p>求图中权值最小的生成树。<br />两种算法：</p><ul><li>Prim 算法：蓝白点思想，min[v]表示蓝点与白点相连最小边权。贪心思想。O(n^2)</li><li>Kruskal 算法：适用于稀疏图。利用并查集，将边权排序，不在同一个集合就连。O(eloge)</li></ul><h2 id="拓扑排序"><a class="markdownIt-Anchor" href="#拓扑排序"></a> 拓扑排序</h2><p>适用于有向无环图，使每个点排在它所指向的点的前面。入度为0的入栈，没有就将栈顶元素出栈，将此点删掉。O(v+e)</p><h2 id="强连通分量"><a class="markdownIt-Anchor" href="#强连通分量"></a> 强连通分量</h2><p>对于一个强连通分量中的任意一对顶点(u，v)，都能够保证分量中存在路径使得u-&gt;v，v-&gt;u。可缩点成为DAG<br />两种算法：</p><ul><li>Kosaraju 算法：两次dfs，第二次将边翻转 O(v+e)</li><li>Tarjan 算法：找代表元，记下u能回溯到的最早的顶点的编号与u被搜索的编号。 O(v+e)</li></ul><h2 id="二分图匹配"><a class="markdownIt-Anchor" href="#二分图匹配"></a> 二分图匹配</h2><p>当且仅当图的点可被划分为两个内部两两之间没有边的部分。</p><ul><li>判定：dfs交替染色</li><li>最大匹配：匈牙利算法：从每个点找增广路，如果有，把此路上匹配边和非匹配边互换，得到匹配比之前多1</li><li>最小点覆盖数=最大匹配数 最大独立集数=总点数-最大匹配数</li></ul><h1 id="动态规划"><a class="markdownIt-Anchor" href="#动态规划"></a> 动态规划</h1><p>动态规划（Dynamic Programming，DP）是一种思想与手段。<br />动态规划算法通常用于求解具有某种最优性质的问题。在这类问题中，可能会有许多可行解。每一个解都对应于一个值，我们希望找到具有最优值的解。动态规划算法与分治法类似，其基本思想也是将待求解问题分解成若干个子问题，先求解子问题，然后从这些子问题的解得到原问题的解。</p><ul><li>明确阶段、决策、状态和状态转移方程。</li><li>状态转移方程是核心。</li><li>适用动态规划的问题必须满足最优化原理和无后效性。</li></ul><h2 id="普通的动态规划"><a class="markdownIt-Anchor" href="#普通的动态规划"></a> 普通的动态规划</h2><p>序列型(最长上升子序列)、区间型(石子合并)、棋盘型(过河卒)、划分型(乘积最大)动态规划。</p><h2 id="背包型动态规划"><a class="markdownIt-Anchor" href="#背包型动态规划"></a> 背包型动态规划</h2><p>01背包(可用滚动数组)、完全、多重、混合、二维、分组、有依赖。</p><h2 id="状态压缩动态规划"><a class="markdownIt-Anchor" href="#状态压缩动态规划"></a> 状态压缩动态规划</h2><p>一些问题状态中所包含的信息过多，如果要用数组来保存状态的话需要四维以上的数组。所以需要通过状态压缩来保存状态。用二进制的一个数来表示一种放法。将1和0分别表示两种状态，二进制数可以表示出所有状态。</p><h2 id="树形动态规划"><a class="markdownIt-Anchor" href="#树形动态规划"></a> 树形动态规划</h2><ul><li>树的最大独立集：节点u两种决策，不选，则问题转化为求出u的儿子的值，选，则所有u孙子加上自己。</li><li>树的重心：dfs，u为根的子树节点等于它所有儿子节点的值加一。删掉u后，最大的连通块的节点数即可求出。</li><li>树的最长路径：对于每个节点i，把所有根为其子节点的子树中根到叶子的最大距离求出，找出值前两大的相加再加2即为所求。</li></ul><h2 id="动态规划的优化"><a class="markdownIt-Anchor" href="#动态规划的优化"></a> 动态规划的优化</h2><ul><li>数据结构优化：可用树状数组、线段树对所求最值进行优化。</li><li>单调队列优化：单调队列是一种严格单调的队列，可以单调递增，也可以单调递减。队首位置保存的是最优解，第二个位置保存的是次优解…利用单调队列对dp方程进行优化，可将O(n)复杂度降至O(1)。只有形如 dp[i]=max/min (f[k]) + g[i]  （k&lt;i &amp;&amp; g[i]是与k无关的变量）才能用到单调队列进行优化。优化的对象就是f[k]。</li><li>斜率优化：对于这样的一类DP方程f[i]=min{a[i]*x[j]+b[j]}，a[i]是和i有关的函数，x[j],b[j]是和j有关的函数或常数。求解这个问题朴素是O(n^2)的，可以将它优化到O(n)或O(nlogn)。把它改写为-a[i]*x[j]+f[i]=b[j]，<br />把-a[i]看作斜率，f[i]看作截距，每一个决策相当于平面上一个点。最优决策在平面点集的凸包上。要求f[i]的最小值，就相当于将一条斜率为-a[i]的直线不断向上平移，碰到的第一个点就是截距最小的点。也就是f[i]的最优决策。</li></ul><h1 id="数据结构"><a class="markdownIt-Anchor" href="#数据结构"></a> 数据结构</h1><p>数据结构是指相互之间存在一种或多种特定关系的数据元素的集合。通常情况下，精心选择的数据结构可以带来更高的运行或者存储效率。数据结构往往同高效的检索算法和索引技术有关</p><h2 id="基本数据结构"><a class="markdownIt-Anchor" href="#基本数据结构"></a> 基本数据结构</h2><p>栈，队列，堆，链表，并查集，树（二叉树、多叉树、森林）</p><h2 id="树状数组"><a class="markdownIt-Anchor" href="#树状数组"></a> 树状数组</h2><p>是一种查询和修改复杂度都为log(n)的数据结构。主要用于查询任意两位之间的所有元素之和，但是每次只能修改一个元素的值。<br />lowbit(x)=x&amp;-x  (-x为x按位取反，末尾+1)。一个节点存这个数二进制下最右边1所对应值到它自己。前缀和Si，顺着i往左上走，修改Ai，从Ci往右上走。<br />注意是改成一个值还是添加一个值。</p><h2 id="线段树"><a class="markdownIt-Anchor" href="#线段树"></a> 线段树</h2><p>线段树是一种二叉搜索树，它将一个区间划分成一些单元区间，每个单元区间对应线段树中的一个叶结点。使用线段树可以求最大值、最小值、区间和等，或者单点修改、区间修改。时间复杂度基本为O(logN）。<br />注意边的数组范围，一般要开四倍。</p><ul><li>查询：当前结点完全包含在查询区间？；向左；向右。</li><li>单点修改：若是叶节点，直接更新，else 递归更左或右，再更本节点。</li><li>区间修改：把一个lazy操作分解成不超过2h个，完全包含时，累加边界的lazy值(递归结束前维护此点信息，即此点及其祖先都会被维护)(查询时，考虑祖先节点对它的影响，增加一个参数表示当前区间所有祖先节点lazy值之和)</li><li>值域线段树：可求逆序对，可求整个区间第k大。</li></ul><h2 id="分块"><a class="markdownIt-Anchor" href="#分块"></a> 分块</h2><p>N可分成长度根号N的根号N块区间。</p><h2 id="莫队"><a class="markdownIt-Anchor" href="#莫队"></a> 莫队</h2><p>(不带修改，询问离线) 先分块，排序(左端点所属块编号，右端点大小)；按排序for，转移到下一个时，for出少了的，for掉多了的。</p><h2 id="可持久化数据结构"><a class="markdownIt-Anchor" href="#可持久化数据结构"></a> 可持久化数据结构</h2><p>部分可持久化：链形；完全可持久化：树形；<br />用新建节点取代修改节点信息。(指针、vector)<br />主席树属于可持久化线段树，求区间第k大，对于序列的每一个前缀建一棵以序列的值为下标的线段树(可离散化)，记录该前缀序列里出现的值的次数。</p><h2 id="平衡树"><a class="markdownIt-Anchor" href="#平衡树"></a> 平衡树</h2><ul><li>Treap：略</li><li>Splay：把要查询的x提到根节点。单旋，双旋。插入，查询，同BST；删除时，把左子树内最大的splay上来，将右子树接到右边(两个儿子时)，前驱后继，对节点splay然后找到左右子树中最大或最小。</li></ul><h2 id="树上信息维护"><a class="markdownIt-Anchor" href="#树上信息维护"></a> 树上信息维护</h2><ul><li>DFS序：性质：一棵子树其节点一定在一段连续区间中；</li><li>祖先关系判断，子树和(换根，前缀和：距离、路径上第k小。</li><li>欧拉(括号)序：出子树时节点也加在序列中：路径点权和(LCA转化为RMQ)</li></ul><h2 id="树链剖分"><a class="markdownIt-Anchor" href="#树链剖分"></a> 树链剖分</h2><p>将树剖成不向交的链。向下连size大的，存一个top，树链剖分得到的序列也是dfs序。分成的链(连起来)作为维护的序列。</p><ul><li>性质：如果(v,u)为轻边，则size(u)*2&lt;size[v];从根的某一点的路径上轻链，重链的个数都小于logn。把一些点(边)合成一条路径，使其在线段树的编号(下标)有序(线段树中每个点可是原树的点或边) 注意区间中的每个点不是作为树的点。</li></ul><h2 id="树的点分治"><a class="markdownIt-Anchor" href="#树的点分治"></a> 树的点分治：</h2><ul><li>树的重心：遍历所有点，删除此点后，最大的那一块最小 min{max(size)}</li><li>性质：删除重心后最大的那一块不超过树的一半。</li><li>重心C：分为过C的路径和在C的子树中的路径。</li></ul><h1 id="数论"><a class="markdownIt-Anchor" href="#数论"></a> 数论</h1><p>数论是纯粹数学的分支之一，主要研究整数的性质。<br />做数论题前，一般先在纸上推出公式或找出规律，再用各种定理或者是方法处理大的数据。</p><h2 id="欧几里德和扩展欧几里德定理"><a class="markdownIt-Anchor" href="#欧几里德和扩展欧几里德定理"></a> 欧几里德和扩展欧几里德定理</h2><p>欧几里德即辗转相除，目的是求最大公约数， gcd(a,b)=gcd(b,a%b), 有存在性唯一性，复杂度O(logn);<br />扩展欧几里德，ax+by=gcd(a,b)，求满足的x、y。x1=y2,  y1=x2-(a/b)y2；x1与y1的值可由x2、y2推知，拓展欧几里得算法就是不断地的将b放小，直至b等于0，最后反推求回x和y。主要用于解不定方程、解线性同余方程。<br />注意：x*y=gcd(x,y)*lcm(x,y)</p><h2 id="唯一分解定理算术基本定理"><a class="markdownIt-Anchor" href="#唯一分解定理算术基本定理"></a> 唯一分解定理(算术基本定理)</h2><p>N可以唯一分解成有限个质数的乘积N=p1<sup>a1</sup>+p2<sup>a2</sup>+p3<sup>a3</sup>……+pk<sup>ak</sup>;<br />唯一性证明：若p|ab，则p|a或p|b。 设n= p1<sup>a1</sup>+p2<sup>a2</sup>+p3<sup>a3</sup>……=q1<sup>b1</sup>+q2<sup>b2</sup>……<br />N为最小的不符合的数，则p1|q1<sup>b1</sup>+q2<sup>b2</sup>,即q1q2…中有一个能被p1整除，不妨设为q1，而q1为质数则p1=q1。假设a1&gt;b1，p1<sup>a1-b1</sup>p2<sup>a2</sup>…=q2<sup>b2</sup>q3<sup>b3</sup>…。同上p1能整除q2,q3…中的数，但p1=q1!=qi 所以不存在a1&gt;b1。同理a1不会小于b1，所以a1=b1。那么n0= p2<sup>a2</sup>+p3<sup>a3</sup>……= q2<sup>b2</sup>……,而n是最小有多种分解的，<br />所以n0只有一种分解，推出n只有一种分解。</p><h2 id="欧拉函数"><a class="markdownIt-Anchor" href="#欧拉函数"></a> 欧拉函数</h2><p>欧拉函数是积性函数，欧拉定理 (a,n)=1则a^φ(n) ≡1(mod n)。<br />欧拉筛法求欧拉函数，欧拉筛法筛素数即线筛。复杂度 O(n)<br />线筛：对于当前的一个数i，欧拉筛法把从2，3，5…到小于 i 的最大素数分别和 i 相乘得到的数标记成合数。并且过程中一旦发现 i % （p[j]） == 0，则跳出循环。保证每个合数只被他的最小素因子筛到一次</p><h2 id="快速幂矩阵快速幂"><a class="markdownIt-Anchor" href="#快速幂矩阵快速幂"></a> 快速幂，矩阵快速幂</h2><p>用到了二分的思想，快速高效的求a^b mod m. O(logn)<br />将所求的幂不断除以2，改变底数，注意要先乘再模。<br />矩阵乘法：m<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>×</mo></mrow><annotation encoding="application/x-tex">\times</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">×</span></span></span></span>n与n<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>×</mo></mrow><annotation encoding="application/x-tex">\times</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">×</span></span></span></span>p -&gt; m<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>×</mo></mrow><annotation encoding="application/x-tex">\times</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">×</span></span></span></span>p 。第[i,j] 上的数为矩阵一第i行上的n个数与矩阵二上第j列上的n个数，对应相乘的积之和。<br />矩阵快速幂，即将矩阵乘进行快速幂，可用于求一些数列。</p><h2 id="费马小定理"><a class="markdownIt-Anchor" href="#费马小定理"></a> 费马小定理</h2><p>a^(p-1) ≡ 1 mod m .</p><h2 id="逆元"><a class="markdownIt-Anchor" href="#逆元"></a> 逆元</h2><p>a^-1 ≡ a^(φ(m)-1) mod m.<br />1/a mod m 当m为素数时 =a^(m-2) mod m;<br />a/b mod m= a mod (mb)/b</p><h2 id="二项式定理"><a class="markdownIt-Anchor" href="#二项式定理"></a> 二项式定理</h2><p>(a+b)<sup>n</sup>=sigma (k=0-&gt;n) Cnk*a<sup>k</sup>*b<sup>(n-k)</sup><br />(a+b)<sup>0</sup>=1,(a+b)<sup>1</sup>=a+b,(a+b)<sup>2</sup>-a<sup>2</sup>+2ab+b<sup>2</sup> 与杨辉三角形联系。</p><h2 id="容斥原理"><a class="markdownIt-Anchor" href="#容斥原理"></a> 容斥原理</h2><p>两个集合：A∪B =|A∪B| = |A|+|B| - |A∩B |<br />三个集合：|A∪B∪C| = |A|+|B|+|C| - |A∩B| - |B∩C| - |C∩A| + |A∩B∩C|</p><h2 id="排列组合"><a class="markdownIt-Anchor" href="#排列组合"></a> 排列组合</h2><p>P rn = n!/(n-r)!  C rn = n!/r!(n-r)!</p><h1 id="其它"><a class="markdownIt-Anchor" href="#其它"></a> 其它</h1><h2 id="分治与二分"><a class="markdownIt-Anchor" href="#分治与二分"></a> 分治与二分</h2><p>分治的思想在于将问题划分为子问题来解决。<br />二分则包括二分查找与二分答案等。若题目要求最大值最小或最小值最大，应考虑二分答案。</p><h2 id="贪心"><a class="markdownIt-Anchor" href="#贪心"></a> 贪心</h2><p>找到贪心策略。</p><h2 id="排序"><a class="markdownIt-Anchor" href="#排序"></a> 排序</h2><p>各种排序算法。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;本文写于2015年暑假，当年文笔稚嫩，且内容并不全面，仅供参考。总结内容包括搜索、图论、动态规划、数据结构与数论等。&lt;/p&gt;
&lt;h1 id=&quot;搜索&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#搜索&quot;&gt;&lt;/a&gt; 搜索&lt;/h1&gt;
&lt;h2 id=&quot;d</summary>
      
    
    
    
    <category term="经验与总结" scheme="http://wzw21.cn/categories/%E7%BB%8F%E9%AA%8C%E4%B8%8E%E6%80%BB%E7%BB%93/"/>
    
    
    <category term="总结" scheme="http://wzw21.cn/tags/%E6%80%BB%E7%BB%93/"/>
    
  </entry>
  
  <entry>
    <title>ASR (自动语音识别）初探</title>
    <link href="http://wzw21.cn/2020/12/23/asr/"/>
    <id>http://wzw21.cn/2020/12/23/asr/</id>
    <published>2020-12-23T14:43:35.000Z</published>
    <updated>2021-10-27T14:43:52.356Z</updated>
    
    <content type="html"><![CDATA[<h1 id="asr实验及记录"><a class="markdownIt-Anchor" href="#asr实验及记录"></a> ASR实验及记录</h1><h3 id="deepspeech2"><a class="markdownIt-Anchor" href="#deepspeech2"></a> DeepSpeech2</h3><p>DeepSpeech2是一个采用PaddlePaddle平台的端到端自动语音识别引擎的开源项目，具体原理参考论文Baidu’s Deep Speech 2 paper。</p><h4 id="环境配置"><a class="markdownIt-Anchor" href="#环境配置"></a> 环境配置</h4><ul><li>使用官方镜像，运行失败。原因：PaddlePaddle版本不匹配，缺少RNN模块等关键组件；尝试进行修改后发现CUDNN版本也不匹配；</li><li>使用带有正确版本CUDA与CUDNN的镜像，手动安装PaddlePaddle，安装成功后clone DeepSpeech2项目，根据setup.sh进行相关依赖的安装与配置。注意镜像中缺少git、swig等基础命令或依赖包的安装，需通过apt-get进行安装。</li></ul><h4 id="数据准备及使用方式"><a class="markdownIt-Anchor" href="#数据准备及使用方式"></a> 数据准备及使用方式：</h4><ul><li><p>下载BaiduCN1.2k Model语音模型与Mandarin LM Small语言模型；</p></li><li><p>自行准备manifest文件，其中包括每条音频的存储路径，音频时长与数据标签（文本）。文本中不能含有标点符号、英文字母与阿拉伯数字。格式为：{“audio_filepath”: “”, “duration”: , “text”: “”}</p></li><li><p>使用如下命令可进行自定义语音音频识别</p>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">PYTHONIOENCODING&#x3D;utf-8 &#x2F;&#x2F; 需设定编码方式为utf-8，否则会出现错误；</span><br><span class="line"></span><br><span class="line">python infer.py</span><br><span class="line"></span><br><span class="line">--num_samples 1 &#x2F;&#x2F;识别语音条数</span><br><span class="line"></span><br><span class="line">--infer_manifest data&#x2F;mydata&#x2F;manifest &#x2F;&#x2F;manifest文件路径</span><br><span class="line"></span><br><span class="line">--use_gru TRUE &#x2F;&#x2F;使用门控循环单元</span><br><span class="line"></span><br><span class="line">--use_gpu FALSE </span><br><span class="line"></span><br><span class="line">--mean_std_path models&#x2F;baidu_ch1.2k&#x2F;mean_std.npz &#x2F;&#x2F;样本特征的均值与标准差</span><br><span class="line"></span><br><span class="line">--vocab_path models&#x2F;baidu_ch1.2k&#x2F;vocab.txt &#x2F;&#x2F;字典路径</span><br><span class="line"></span><br><span class="line">--lang_model_path models&#x2F;lm&#x2F;zh_giga.no_cna_cmn.prune01244.klm &#x2F;&#x2F;语言模型路径</span><br><span class="line"></span><br><span class="line">--model_path models&#x2F;baidu_ch1.2k &#x2F;&#x2F;语音模型路径</span><br><span class="line"></span><br><span class="line">--num_conv_layers&#x3D;2 &#x2F;&#x2F;卷积层数量</span><br><span class="line"></span><br><span class="line">--num_rnn_layers&#x3D;3 &#x2F;&#x2F;循环神经网络配置</span><br><span class="line"></span><br><span class="line">--rnn_layer_size&#x3D;2048 </span><br><span class="line"></span><br><span class="line">--share_rnn_weights&#x3D;False </span><br><span class="line"></span><br><span class="line">--specgram_type&#x3D;&#39;linear&#39; </span><br><span class="line"></span><br><span class="line">--error_rate_type&#x3D;cer &#x2F;&#x2F;错误率类型设置为字错误率</span><br><span class="line"></span><br><span class="line">--alpha&#x3D;0.4 </span><br><span class="line"></span><br><span class="line">--beta&#x3D;0.3</span><br></pre></td></tr></table></figure></li><li><p>使用tools/tune.py可使用不同参数进行识别，以找出最优参数。参数包括alpha与beta，分别为语言模型权重与单词插入权重。</p></li><li><p>使用tools/compute_mean_std.py和tools/build_vocab.py可获得自定义样本的特征均值、标准差（用于归一化）与字典；</p></li><li><p>相关命令及运行参数保存在command.txt中，方便使用。</p></li></ul><h4 id="实验结果分析"><a class="markdownIt-Anchor" href="#实验结果分析"></a> 实验结果分析</h4><ul><li>实验数据为100条语音数据，带有ground truth。使用BaiduCN1.2k Model语音模型与Mandarin LM Small语言模型，使用预训练模型的数据特征（即归一化方式）与字典，经测试，最佳运行参数为alpha=0.4， beta =0.3，测试结果的平均cer（字错误率）为55.19%</li><li>将语音模型替换为Aishell模型进行实验，错误率升高</li></ul><h4 id="迁移学习"><a class="markdownIt-Anchor" href="#迁移学习"></a> 迁移学习</h4><p>在公开的模型上使用自己的数据集进行迁移训练</p><ul><li><p>准备工作</p><p>1）修改词典中的阿拉伯数字为中文；</p><p>2）将正确数据标签中所有阿拉伯数字换为中文，去除所有标点符号与英文字母；</p><p>3）按照要求生成manifest.train文件，包含训练数据路径，时长与标签；</p><p>4）预处理出训练集数据特征的均值与标准差；</p><p>5）若要修改字典（添加或删除），则需要修改神经网络模型的结构，较为复杂；</p></li><li><p>运行train.py进行训练，命令及参数如下</p>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">PYTHONIOENCODING&#x3D;utf-8 </span><br><span class="line"></span><br><span class="line">python train.py </span><br><span class="line"></span><br><span class="line">--batch_size 16 &#x2F;&#x2F;批量大小</span><br><span class="line"></span><br><span class="line">--num_epoch 10 &#x2F;&#x2F;训练周期数</span><br><span class="line"></span><br><span class="line">--num_conv_layers&#x3D;2 </span><br><span class="line"></span><br><span class="line">--num_rnn_layers&#x3D;3 </span><br><span class="line"></span><br><span class="line">--rnn_layer_size&#x3D;2048 </span><br><span class="line"></span><br><span class="line">--share_rnn_weights&#x3D;False </span><br><span class="line"></span><br><span class="line">--save_epoch 1 &#x2F;&#x2F;每训练一个epoch进行一次模型保存</span><br><span class="line"></span><br><span class="line">--num_samples 80 </span><br><span class="line"></span><br><span class="line">--learning_rate 0.05 &#x2F;&#x2F;学习率，需调优</span><br><span class="line"></span><br><span class="line">--max_duration 130 &#x2F;&#x2F;最大音频时长</span><br><span class="line"></span><br><span class="line">--use_gpu FALSE </span><br><span class="line"></span><br><span class="line">--use_gru TRUE </span><br><span class="line"></span><br><span class="line">--init_from_pretrained_model models&#x2F;baidu_ch1.2k </span><br><span class="line"></span><br><span class="line">--train_manifest data&#x2F;mydata&#x2F;manifest.train &#x2F;&#x2F;训练集路径</span><br><span class="line"></span><br><span class="line">--dev_manifest data&#x2F;mydata&#x2F;manifest.validation &#x2F;&#x2F;验证集路径</span><br><span class="line"></span><br><span class="line">--mean_std_path models&#x2F;baidu_ch1.2k&#x2F;mean_std.npz &#x2F;&#x2F;可选择模型预训练时使用的数据的特征（即models&#x2F;baidu_ch1.2k&#x2F;mean_std.npz），或是当前进行迁移学习的数据的特征（data&#x2F;mydata&#x2F; mean_std.npz）</span><br><span class="line"></span><br><span class="line">--vocab_path models&#x2F;baidu_ch1.2k&#x2F;vocab_new.txt </span><br><span class="line"></span><br><span class="line">--output_model_dir models&#x2F;baidu_ch1.2k_new &#x2F;&#x2F;新模型保存位置</span><br><span class="line"></span><br><span class="line">--num_iter_print 1 &#x2F;&#x2F;每一个epoch输出一次信息</span><br><span class="line"></span><br><span class="line">--test_off TRUE&#x2F;&#x2F;训练过程中是否进行验证</span><br></pre></td></tr></table></figure></li></ul><h4 id="难点"><a class="markdownIt-Anchor" href="#难点"></a> 难点</h4><ul><li>环境难以配置，官方镜像存在问题，配置环境花费大量时间；</li><li>暂无法成功在docker中使用gpu，导致训练与识别速度非常慢；</li><li>（15h仅训练了6个epoch）</li><li>自定义训练数据的特征均值和标准差与预训练模型使用的数据不同，导致迁移学习效果较差</li><li>若需修改字典，则必须深入了解DeepSpeech模型结构与修改方式，深入学习PaddlePaddle框架</li></ul><h4 id="todo"><a class="markdownIt-Anchor" href="#todo"></a> Todo</h4><ul><li>结合预训练时使用的数据的特征，对我们的音频数据进行预处理，再进行迁移训练</li><li>修改字典，修改网络模型，使最后的全连接层与自定义字典相匹配</li><li>使用更大型的语言模型Mandarin LM Large</li></ul><h4 id="参考文档"><a class="markdownIt-Anchor" href="#参考文档"></a> 参考文档</h4><ul><li><p><a href="https://github.com/PaddlePaddle/DeepSpeech/blob/develop/README_cn.md">https://github.com/PaddlePaddle/DeepSpeech/blob/develop/README_cn.md</a></p></li><li><p><a href="https://www.paddlepaddle.org.cn/install/quick">https://www.paddlepaddle.org.cn/install/quick</a></p></li><li><p><a href="https://baijiahao.baidu.com/s?id=1675202226359497084&amp;wfr=spider&amp;for=pc">https://baijiahao.baidu.com/s?id=1675202226359497084&amp;wfr=spider&amp;for=pc</a></p></li></ul><h3 id="cvte开源模型"><a class="markdownIt-Anchor" href="#cvte开源模型"></a> CVTE开源模型</h3><h4 id="概述"><a class="markdownIt-Anchor" href="#概述"></a> 概述</h4><ul><li>基于Kaldi</li><li>批量将mp3或wav音频进行数据部署，并生成txt识别结果</li><li>无phone和ctm时间戳</li></ul><h4 id="实验过程"><a class="markdownIt-Anchor" href="#实验过程"></a> 实验过程</h4><ul><li>将音频文件放入data/wav/filename中</li><li>新建data/filename/test文件夹，并在其中创建text、utt2spk、spk2utt、wav.scp文件，text中保存标签数据，wav.scp中保存音频路径，utt2spk、spk2utt中保存音频与说话人的关系。</li><li>每次运行后需删除data/filename/test中的cmvn.scp文件，否则会报错。</li><li>创建好data/filename/test中相应文件后，可使用utils/validate_data_dir.sh进行检查（需加上 --no-feats）</li><li>运行run.sh开始语音识别，运行前需修改run.sh中的路径（有三处）</li><li>在exp/chain/tdnn/decode_filename/scoring_kaldi/中可查看识别结果，对于不同的参数会有不同的结果，可通过best_cer（best_wer）查看最优结果对应参数（记为参数a）参数包括inv-acoustic-scale∈[7,17] ，word-ins-penalty∈{0.0,0.5,1.0}。</li><li>猜测：最优识别结果对应的参数（参数a）是最适合对此类语音数据进行识别的参数。在没有text文件的情况下，最优结果大概率存在于使用参数a得到的结果中。</li><li>对于不同的数据集，需要进行测试以获取最优参数</li></ul><h4 id="实验结果分析-2"><a class="markdownIt-Anchor" href="#实验结果分析-2"></a> 实验结果分析</h4><ul><li>实验数据为28条语音数据，带有ground truth。经测试，最佳参数为inv-acoustic-scale=16， word-ins-penalty=0.0，测试结果的平均cer（字错误率）为50.18%</li></ul><h4 id="流程"><a class="markdownIt-Anchor" href="#流程"></a> 流程</h4><ul><li>将音频文件（wav格式）放入/kaldi-master/egs/cvte/s5/data/wav/filename中；</li><li>将text文件放入/kaldi-master/egs/cvte/s5/data/test_filename/test中，text格式为“音频ID    文字标签\r\n”（中间为Tab）；</li><li>将conf与frame_shift放入test文件夹；</li><li>将进行整个识别流程封装入asr.sh文件。首先将自动生成wav.scp、utt2spk、spk2utt文件，并删除可能造成冲突的文件，然后开始语音识别；</li><li>识别结果将保存于/kaldi-master/egs/cvte/s5/exp/chain/tdnn/decode_filename/scoring_kaldi/中。若text文件中含有真实标签，则可查看最佳参数。打开最佳参数对应的文件夹可查看识别结果。</li></ul><h4 id="难点-2"><a class="markdownIt-Anchor" href="#难点-2"></a> 难点</h4><ul><li>无官方文档，相关参考资料较少</li><li>模型封装完整，无法进行修改，无法使用迁移学习进行模型优化</li><li>因未提供相关解码文件，无法获取时间戳信息</li></ul><h4 id="参考"><a class="markdownIt-Anchor" href="#参考"></a> 参考</h4><ul><li><p><a href="https://chatopera.blog.csdn.net/article/details/107733688">https://chatopera.blog.csdn.net/article/details/107733688</a></p></li><li><p><a href="https://blog.csdn.net/samurais/article/details/107889376">https://blog.csdn.net/samurais/article/details/107889376</a></p></li><li><p><a href="https://blog.csdn.net/tcx1992/article/details/85717100">https://blog.csdn.net/tcx1992/article/details/85717100</a></p></li><li><p><a href="https://github.com/tcxdgit/ASR_utils">https://github.com/tcxdgit/ASR_utils</a></p></li><li><p><a href="https://blog.csdn.net/benbenls/article/details/102691710">https://blog.csdn.net/benbenls/article/details/102691710</a></p></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;asr实验及记录&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#asr实验及记录&quot;&gt;&lt;/a&gt; ASR实验及记录&lt;/h1&gt;
&lt;h3 id=&quot;deepspeech2&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#</summary>
      
    
    
    
    <category term="操作步骤与实践" scheme="http://wzw21.cn/categories/%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%AA%A4%E4%B8%8E%E5%AE%9E%E8%B7%B5/"/>
    
    
    <category term="ASR" scheme="http://wzw21.cn/tags/ASR/"/>
    
  </entry>
  
  <entry>
    <title>Python使用建议</title>
    <link href="http://wzw21.cn/2020/12/23/tips4python/"/>
    <id>http://wzw21.cn/2020/12/23/tips4python/</id>
    <published>2020-12-23T07:54:26.000Z</published>
    <updated>2020-12-23T14:07:43.854Z</updated>
    
    <content type="html"><![CDATA[<h2 id="强烈推荐python组合技-miniconda-jupyter-vscode"><a class="markdownIt-Anchor" href="#强烈推荐python组合技-miniconda-jupyter-vscode"></a> 强烈推荐Python组合技 : MiniConda + Jupyter + Vscode</h2><h2 id="管理python环境"><a class="markdownIt-Anchor" href="#管理python环境"></a> 管理Python环境</h2><p>使用miniconda管理python环境，方便不同python版本的管理与切换，同时方便对python库进行管理与使用。例如你可以创建一个python版本为3.7的环境来进行tensorflow的使用，创建一个python版本为3.8的环境来进行pytorch的使用，两个环境独立，互不影响。</p><h2 id="实时运行代码"><a class="markdownIt-Anchor" href="#实时运行代码"></a> 实时运行代码</h2><p>使用Jupyter Notebook来进行程序编写，可以实时运行代码。每完成几行代码后，同时按下enter与shift，可直接运行这几行代码并得到结果，并且结果会保存在内存中，可继续编写程序。</p><h2 id="合适的ide"><a class="markdownIt-Anchor" href="#合适的ide"></a> 合适的IDE</h2><p>使用全能的Vscode搭配miniconda与jupyter进行python程序的编写，比起在网页上使用jupyter notebook更加舒适。在Vscode的右上角可更改所使用的python环境。</p><p>具体的安装方式与环境配置方式待补充。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;强烈推荐python组合技-miniconda-jupyter-vscode&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#强烈推荐python组合技-miniconda-jupyter-vscode&quot;&gt;&lt;/a&gt; 强烈推荐Python组</summary>
      
    
    
    
    <category term="经验与总结" scheme="http://wzw21.cn/categories/%E7%BB%8F%E9%AA%8C%E4%B8%8E%E6%80%BB%E7%BB%93/"/>
    
    
    <category term="总结" scheme="http://wzw21.cn/tags/%E6%80%BB%E7%BB%93/"/>
    
    <category term="Python" scheme="http://wzw21.cn/tags/Python/"/>
    
  </entry>
  
  <entry>
    <title>律学初探</title>
    <link href="http://wzw21.cn/2020/11/10/lvxue1/"/>
    <id>http://wzw21.cn/2020/11/10/lvxue1/</id>
    <published>2020-11-10T08:43:31.000Z</published>
    <updated>2021-09-25T14:56:51.023Z</updated>
    
    <content type="html"><![CDATA[<h1 id="概论"><a class="markdownIt-Anchor" href="#概论"></a> 概论</h1><p>律学（temperament）是对构成乐制的各音依据声学原理、运用数学方法来研究各音间相互关系的一门学科。其中，“律”是构成律制的基本单位。当各律在高度上作精密规定，形成一种体系时，称为“律制”（tuning system）。“律”和“音”的概念相近但略有不同，律制中每个单位称为“律”，而音阶中每个单位称为“音”，律制与音阶的关系十分密切。</p><p>我们知道，在复合音中，除“基音”（fundamental tone）外还有各种“泛音”（overtone），有时也称为倍音。以弦振动为例，全弦振动产生基音，同时各部分振动产生各种泛音（弦分两段振动产生第一泛音，分三段振动产生第二泛音，以此类推）。将基音和各泛音进行横向排列，可以得到“谐音列”，如表1-1所示。各律制的规定与谐音列密不可分。</p><center>表1-1 谐音列</center><table><thead><tr><th style="text-align:center">第一谐音</th><th style="text-align:center">第二谐音</th><th style="text-align:center">第三谐音</th><th style="text-align:center">第四谐音</th><th style="text-align:center">第五谐音</th><th style="text-align:center">……</th><th style="text-align:center">第N谐音</th></tr></thead><tbody><tr><td style="text-align:center">基音</td><td style="text-align:center">第一泛音</td><td style="text-align:center">第二泛音</td><td style="text-align:center">第三泛音</td><td style="text-align:center">第四泛音</td><td style="text-align:center">……</td><td style="text-align:center">第N-1泛音</td></tr><tr><td style="text-align:center">f（频率）</td><td style="text-align:center">2f</td><td style="text-align:center">3f</td><td style="text-align:center">4f</td><td style="text-align:center">5f</td><td style="text-align:center">……</td><td style="text-align:center">N×f</td></tr></tbody></table><p>接下来将分别对音律计算法，三种常见律制（五度相生律、纯律和十二平均律），中欧律学简史以及律制的应用进行详细介绍。</p><h1 id="以下内容暂不开放"><a class="markdownIt-Anchor" href="#以下内容暂不开放"></a> 以下内容暂不开放</h1><h1 id="音律计算法"><a class="markdownIt-Anchor" href="#音律计算法"></a> 音律计算法</h1><p>音律计算法即音程的计算法，使用频率比或音程值（interval value）来表示和计算音程的大小。音程值有四种，分别为对数值、八度值、音分值和平均音程值。</p><h2 id="频率比"><a class="markdownIt-Anchor" href="#频率比"></a> 频率比</h2><h2 id="对数值"><a class="markdownIt-Anchor" href="#对数值"></a> 对数值</h2><h2 id="八度值"><a class="markdownIt-Anchor" href="#八度值"></a> 八度值</h2><h2 id="音分值"><a class="markdownIt-Anchor" href="#音分值"></a> 音分值</h2><h2 id="平均音程值"><a class="markdownIt-Anchor" href="#平均音程值"></a> 平均音程值</h2><h1 id="五度相生律"><a class="markdownIt-Anchor" href="#五度相生律"></a> 五度相生律</h1><h1 id="纯律"><a class="markdownIt-Anchor" href="#纯律"></a> 纯律</h1><h1 id="十二平均律"><a class="markdownIt-Anchor" href="#十二平均律"></a> 十二平均律</h1>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;概论&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#概论&quot;&gt;&lt;/a&gt; 概论&lt;/h1&gt;
&lt;p&gt;律学（temperament）是对构成乐制的各音依据声学原理、运用数学方法来研究各音间相互关系的一门学科。其中，“律”是构成律制的基本单位。当各</summary>
      
    
    
    
    <category term="理论知识" scheme="http://wzw21.cn/categories/%E7%90%86%E8%AE%BA%E7%9F%A5%E8%AF%86/"/>
    
    
    <category term="乐理" scheme="http://wzw21.cn/tags/%E4%B9%90%E7%90%86/"/>
    
  </entry>
  
  <entry>
    <title>技术栈</title>
    <link href="http://wzw21.cn/2020/11/10/used/"/>
    <id>http://wzw21.cn/2020/11/10/used/</id>
    <published>2020-11-10T05:09:09.000Z</published>
    <updated>2022-02-06T05:41:49.474Z</updated>
    
    <content type="html"><![CDATA[<h1 id="已掌握或使用过的工具与技术"><a class="markdownIt-Anchor" href="#已掌握或使用过的工具与技术"></a> 已掌握或使用过的工具与技术</h1><h2 id="ide"><a class="markdownIt-Anchor" href="#ide"></a> IDE</h2><ul><li>Free Pascal</li><li>Delphi</li><li>Dev C++</li><li>Virtual Studio 2013/2017</li><li>Virtual Studio Code</li><li>Eclipse</li><li>IntelliJ IDEA</li><li>Pycharm</li><li>Android Studio</li><li>Matlab</li><li>Masm</li></ul><h2 id="语言"><a class="markdownIt-Anchor" href="#语言"></a> 语言</h2><ul><li>Pascal</li><li>C/C++</li><li>Python</li><li>Java</li><li>SQL</li></ul><h2 id="机器学习相关"><a class="markdownIt-Anchor" href="#机器学习相关"></a> 机器学习相关</h2><ul><li>TensorFlow</li><li>Keras</li><li>OpenCV</li><li>Scikit-Learn</li><li>ModelArts</li><li>Kaldi</li><li>DeepSpeech</li></ul><h2 id="数据库"><a class="markdownIt-Anchor" href="#数据库"></a> 数据库</h2><ul><li>SQL Server 2000</li><li>MySQL</li><li>Navicat</li></ul><h2 id="cjava-框架"><a class="markdownIt-Anchor" href="#cjava-框架"></a> C++/Java 框架</h2><ul><li>MFC</li><li>Win32 API</li><li>Spring Boot</li><li>MyBatis</li></ul><h2 id="硬件"><a class="markdownIt-Anchor" href="#硬件"></a> 硬件</h2><ul><li>Raspberry Pi</li><li>Serial Comm</li><li>ESP 8266</li><li>MPU 6050</li><li>8253/8255/8259</li></ul><h2 id="前端"><a class="markdownIt-Anchor" href="#前端"></a> 前端</h2><ul><li>Vue.js</li><li>Bootstrap</li><li>Hexo</li></ul><h2 id="音频音乐相关"><a class="markdownIt-Anchor" href="#音频音乐相关"></a> 音频音乐相关</h2><ul><li>Librosa</li><li>Music21</li></ul><h2 id="其它工具"><a class="markdownIt-Anchor" href="#其它工具"></a> 其它工具</h2><h3 id="音乐制作"><a class="markdownIt-Anchor" href="#音乐制作"></a> 音乐制作</h3><ul><li>Cubase</li><li>Overture</li><li>Sonic Pi</li><li>Musescore</li><li>Max/MSP</li></ul><h3 id="游戏制作"><a class="markdownIt-Anchor" href="#游戏制作"></a> 游戏制作</h3><ul><li>Cocos</li><li>Unity</li></ul><h3 id="图像处理"><a class="markdownIt-Anchor" href="#图像处理"></a> 图像处理</h3><ul><li>Photoshop</li></ul><h3 id="网页制作"><a class="markdownIt-Anchor" href="#网页制作"></a> 网页制作</h3><ul><li>DreamWeaver</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;已掌握或使用过的工具与技术&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#已掌握或使用过的工具与技术&quot;&gt;&lt;/a&gt; 已掌握或使用过的工具与技术&lt;/h1&gt;
&lt;h2 id=&quot;ide&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; </summary>
      
    
    
    
    <category term="经验与总结" scheme="http://wzw21.cn/categories/%E7%BB%8F%E9%AA%8C%E4%B8%8E%E6%80%BB%E7%BB%93/"/>
    
    
    <category term="总结" scheme="http://wzw21.cn/tags/%E6%80%BB%E7%BB%93/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="http://wzw21.cn/2020/11/08/hello-world/"/>
    <id>http://wzw21.cn/2020/11/08/hello-world/</id>
    <published>2020-11-08T05:04:25.660Z</published>
    <updated>2020-11-09T13:43:58.596Z</updated>
    
    <content type="html"><![CDATA[<h2 id="welcome-to-hell"><a class="markdownIt-Anchor" href="#welcome-to-hell"></a> Welcome to Hell</h2>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;welcome-to-hell&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#welcome-to-hell&quot;&gt;&lt;/a&gt; Welcome to Hell&lt;/h2&gt;
</summary>
      
    
    
    
    
  </entry>
  
</feed>
