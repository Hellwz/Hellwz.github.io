<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>WiZardWen</title>
  
  <subtitle>Blog</subtitle>
  <link href="http://wzw21.cn/atom.xml" rel="self"/>
  
  <link href="http://wzw21.cn/"/>
  <updated>2024-03-20T17:25:03.080Z</updated>
  <id>http://wzw21.cn/</id>
  
  <author>
    <name>David Wang</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Librosa/Madmom/Torchaudio时频转换算法对比</title>
    <link href="http://wzw21.cn/2024/03/21/music-processing-library-comparison/"/>
    <id>http://wzw21.cn/2024/03/21/music-processing-library-comparison/</id>
    <published>2024-03-20T16:38:35.000Z</published>
    <updated>2024-03-20T17:25:03.080Z</updated>
    
    <content type="html"><![CDATA[<p>本文对Librosa、Madmom和Torchaudio三个库中获取频谱图的方法细节进行对比</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;本文对Librosa、Madmom和Torchaudio三个库中获取频谱图的方法细节进行对比&lt;/p&gt;
</summary>
      
    
    
    
    <category term="理论知识" scheme="http://wzw21.cn/categories/%E7%90%86%E8%AE%BA%E7%9F%A5%E8%AF%86/"/>
    
    
    <category term="Python" scheme="http://wzw21.cn/tags/Python/"/>
    
    <category term="MIR" scheme="http://wzw21.cn/tags/MIR/"/>
    
  </entry>
  
  <entry>
    <title>音频分帧的相关计算公式</title>
    <link href="http://wzw21.cn/2023/11/11/framing/"/>
    <id>http://wzw21.cn/2023/11/11/framing/</id>
    <published>2023-11-11T15:13:18.000Z</published>
    <updated>2024-03-20T17:28:13.386Z</updated>
    
    <content type="html"><![CDATA[<h2 id="音频分帧"><a class="markdownIt-Anchor" href="#音频分帧"></a> 音频分帧</h2><p>关于分帧（Framing）的介绍可见 <a href="https://brianmcfee.net/dstbook-site/content/ch09-stft/Framing.html">https://brianmcfee.net/dstbook-site/content/ch09-stft/Framing.html</a></p><h3 id="帧数计算方法"><a class="markdownIt-Anchor" href="#帧数计算方法"></a> 帧数计算方法：</h3><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>N</mi><mrow><mi>f</mi><mi>r</mi><mi>a</mi><mi>m</mi><mi>e</mi></mrow></msub><mo>=</mo><mn>1</mn><mo>+</mo><mrow><mo fence="true">⌊</mo><mfrac><mrow><msub><mi>N</mi><mrow><mi>s</mi><mi>a</mi><mi>m</mi><mi>p</mi><mi>l</mi><mi>e</mi></mrow></msub><mo>−</mo><mi>w</mi><mi>i</mi><mi>n</mi><mi>d</mi><mi>o</mi><mi>w</mi><mi mathvariant="normal">_</mi><mi>s</mi><mi>i</mi><mi>z</mi><mi>e</mi></mrow><mrow><mi>h</mi><mi>o</mi><mi>p</mi><mi mathvariant="normal">_</mi><mi>s</mi><mi>i</mi><mi>z</mi><mi>e</mi></mrow></mfrac><mo fence="true">⌋</mo></mrow></mrow><annotation encoding="application/x-tex">N_{frame} = 1 + \left\lfloor\frac{N_{sample} - window\_size}{hop\_size}\right\rfloor</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span><span class="mord mathdefault mtight">a</span><span class="mord mathdefault mtight">m</span><span class="mord mathdefault mtight">e</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:2.4459999999999997em;vertical-align:-0.996em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">⌊</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.39444em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">h</span><span class="mord mathdefault">o</span><span class="mord mathdefault">p</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord mathdefault">s</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="mord mathdefault">e</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.6999999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span><span class="mord mathdefault mtight">a</span><span class="mord mathdefault mtight">m</span><span class="mord mathdefault mtight">p</span><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span><span class="mord mathdefault mtight">e</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mord mathdefault">d</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord mathdefault">s</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="mord mathdefault">e</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.996em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">⌋</span></span></span></span></span></span></span></p><p>其中N<sub>sample</sub>为采样点数量，window_size为窗长（也称window_length），hop_size为帧移长度（也称hop_length）。注意在不同音频处理库中的分帧算法可能不同，此公式仅作参考，详见<a href="https://wzw21.cn/2024/03/21/music-processing-library-comparison/">下一篇博文</a>。</p><h3 id="帧率fps计算方法"><a class="markdownIt-Anchor" href="#帧率fps计算方法"></a> 帧率（fps）计算方法：</h3><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi><mi>p</mi><mi>s</mi><mo>=</mo><mfrac><mrow><mi>s</mi><mi>a</mi><mi>m</mi><mi>p</mi><mi>l</mi><mi>e</mi><mi mathvariant="normal">_</mi><mi>r</mi><mi>a</mi><mi>t</mi><mi>e</mi></mrow><mrow><mi>h</mi><mi>o</mi><mi>p</mi><mi mathvariant="normal">_</mi><mi>s</mi><mi>i</mi><mi>z</mi><mi>e</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">fps = \frac{sample\_rate} {hop\_size}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord mathdefault">p</span><span class="mord mathdefault">s</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.39044em;vertical-align:-0.996em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.39444em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">h</span><span class="mord mathdefault">o</span><span class="mord mathdefault">p</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord mathdefault">s</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="mord mathdefault">e</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.6999999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">s</span><span class="mord mathdefault">a</span><span class="mord mathdefault">m</span><span class="mord mathdefault">p</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">e</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">a</span><span class="mord mathdefault">t</span><span class="mord mathdefault">e</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.996em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>其中sample_rate为采样率，hop_size为帧移长度。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;音频分帧&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#音频分帧&quot;&gt;&lt;/a&gt; 音频分帧&lt;/h2&gt;
&lt;p&gt;关于分帧（Framing）的介绍可见 &lt;a href=&quot;https://brianmcfee.net/dstbook-site/co</summary>
      
    
    
    
    <category term="理论知识" scheme="http://wzw21.cn/categories/%E7%90%86%E8%AE%BA%E7%9F%A5%E8%AF%86/"/>
    
    
    <category term="MIR" scheme="http://wzw21.cn/tags/MIR/"/>
    
  </entry>
  
  <entry>
    <title>低于1.5kg轻薄笔记本不完全汇总（2023年11月）</title>
    <link href="http://wzw21.cn/2023/11/06/ultrabook/"/>
    <id>http://wzw21.cn/2023/11/06/ultrabook/</id>
    <published>2023-11-05T17:22:41.000Z</published>
    <updated>2023-11-07T13:10:06.076Z</updated>
    
    <content type="html"><![CDATA[<p>本文对一些轻薄笔记本（ &lt; 1.5kg ）的基本信息进行了汇总，仅供参考。其中“容量”列只记录了该机型的一种配置，不代表该机型只有这种配置。“屏幕”列中，除特殊说明外，OLED一般为镜面屏，IPS和LED一般为雾面屏。“参考价格”列的价格在汇总时处于“双十一”的影响下，之后应该会有所变化，仅供参考。如有错误，欢迎指正。</p><table><thead><tr><th>品牌</th><th>型号</th><th>重量</th><th>屏幕</th><th><div style="width: 50pt"> 参考价格</th><th>处理器</th><th>电池</th><th>容量</th><th>备注</th></tr></thead><tbody><tr><td>华硕</td><td>灵耀13 2023</td><td>1kg</td><td>OLED 13.3英寸 2880x1800</td><td>8394</td><td>i7-1355U</td><td>63Wh</td><td>32G+1T</td><td></td></tr><tr><td>华硕</td><td>灵耀X13</td><td>1kg</td><td>OLED 13.3英寸 2880x1800</td><td>5299</td><td>R7-6800U</td><td>67Wh</td><td>16G+1T</td><td>注意处理器非最新代</td></tr><tr><td>华硕</td><td>灵耀14 2023</td><td>1.39kg</td><td>OLED 14英寸 2880x1800</td><td>5999</td><td>i7-1360P</td><td>75Wh</td><td>16G+1T</td><td></td></tr><tr><td>华硕</td><td>破晓Air</td><td>990g</td><td>OLED 14英寸 2880x1800</td><td>9469</td><td>i7-1355U</td><td>63Wh</td><td>16G+1T</td><td>线下店无样机展示</td></tr><tr><td>华硕</td><td>a豆14 2023</td><td>1.4kg</td><td>IPS 14英寸 2560x1600</td><td>4479</td><td>i5-13500H</td><td>42Wh</td><td>16G+1T</td><td></td></tr><tr><td>华硕</td><td>灵耀X凌峰</td><td>995g</td><td>IPS 14英寸 1920x1080</td><td>5499</td><td>i7-1165G7</td><td>63Wh</td><td>16G+1T</td><td>注意处理器非最新代</td></tr><tr><td>联想</td><td>ThinkBook 14+</td><td>1.4kg</td><td>IPS 14英寸 2880x1800</td><td>5599</td><td>R7-7840H</td><td>62Wh</td><td>32G+1T</td><td></td></tr><tr><td>联想</td><td>ThinkBook 14+</td><td>1.4kg</td><td>IPS 14英寸 2880x1800</td><td>7199</td><td>i7-13700H</td><td>62Wh</td><td>32G+1T</td><td></td></tr><tr><td>联想</td><td>小新Pro14</td><td>1.46kg</td><td>IPS 14英寸 2880x1800</td><td>5178</td><td>R7-7840H</td><td>75Wh</td><td>32G+1T</td><td></td></tr><tr><td>联想</td><td>小新Pro14</td><td>1.46kg</td><td>IPS 14英寸 2880x1800</td><td>6899</td><td>i7-13700H</td><td>75Wh</td><td>16G+1T</td><td></td></tr><tr><td>联想</td><td>小新Air14</td><td>1.34kg</td><td>IPS 14英寸 2880x1800</td><td>5799</td><td>i5-1340P</td><td>65Wh</td><td>16G+1T</td><td></td></tr><tr><td>联想</td><td>Yoga Air14s</td><td>1.28kg</td><td>OLED 14.5英寸 2944x1840</td><td>8299</td><td>R7-7840S</td><td>70Wh</td><td>32G+1T</td><td>触控屏</td></tr><tr><td>联想</td><td>ThinkPad X1 Nano</td><td>970g</td><td>LED 13英寸 2160x1350</td><td>10999</td><td>i7-1360P</td><td>49.5Wh</td><td>16G+512G</td><td></td></tr><tr><td>联想</td><td>ThinkPad X1 Carbon</td><td>1.12kg</td><td>LED 14英寸 2240x1400</td><td>12799</td><td>i7-1360P</td><td>57Wh</td><td>16G+1T</td><td></td></tr><tr><td>惠普</td><td>星BookPro13</td><td>960g</td><td>IPS 13.3英寸 2560x1600</td><td>5399</td><td>R7-7735U</td><td>43Wh</td><td>16G+1T</td><td>有轻微电流声</td></tr><tr><td>惠普</td><td>星BookPro14</td><td>1.4kg</td><td>IPS 14英寸 2240x1400</td><td>5299</td><td>i5-13500H</td><td>51Wh</td><td>16G+1T</td><td></td></tr><tr><td>惠普</td><td>星BookPro14</td><td>1.4kg</td><td>OLED 14英寸 2880x1800</td><td>5999</td><td>i7-13700H</td><td>51Wh</td><td>16G+1T</td><td></td></tr><tr><td>惠普</td><td>星BookPro14</td><td>1.45kg</td><td>OLED 14英寸 2880x1800</td><td>5699</td><td>R7-7840H</td><td>68Wh</td><td>32G+1T</td><td></td></tr><tr><td>LG</td><td>gram14 2023</td><td>999g</td><td>IPS 14英寸 1920x1080</td><td>7579</td><td>i5-1340P</td><td>72Wh</td><td>16G+512G</td><td></td></tr><tr><td>LG</td><td>gram14 2023</td><td>999g</td><td>IPS 14英寸 1920x1080</td><td>9579</td><td>i7-1360P</td><td>72Wh</td><td>32G+1T</td><td></td></tr><tr><td>LG</td><td>gram16 2023</td><td>1.19kg</td><td>IPS 16英寸 2560x1600</td><td>8799</td><td>i5-1340P</td><td>80Wh</td><td>16G+512G</td><td></td></tr><tr><td>LG</td><td>gram16 2023</td><td>1.19kg</td><td>IPS 16英寸 2560x1600</td><td>10999</td><td>i7-1360P</td><td>80Wh</td><td>32G+1T</td><td></td></tr><tr><td>LG</td><td>gram SuperSlim 2023</td><td>990g</td><td>OLED 15.6英寸 1920x1080</td><td>8999</td><td>i5-1340P</td><td>60Wh</td><td>16G+512G</td><td></td></tr><tr><td>LG</td><td>gram SuperSlim 2023</td><td>990g</td><td>OLED 15.6英寸 1920x1080</td><td>10999</td><td>i7-1360P</td><td>60Wh</td><td>32G+1T</td><td></td></tr><tr><td>宏碁</td><td>非凡Pro</td><td>1.2kg</td><td>IPS 14英寸 2560x1600</td><td>6999</td><td>i7-13700H</td><td>56Wh</td><td>16G+1T</td><td>镜面触控屏</td></tr><tr><td>机械革命</td><td>无界14+</td><td>1.4kg</td><td>LED 14英寸 2880x1800</td><td>3898</td><td>R7-7840HS</td><td>60Wh</td><td>16G+1T</td><td></td></tr><tr><td>荣耀</td><td>MagicBook X 14 Pro 2023</td><td>1.4kg</td><td>IPS 14英寸 1920x1080</td><td>3859</td><td>R7-7840HS</td><td>60Wh</td><td>16G+512G</td><td></td></tr><tr><td>荣耀</td><td>MagicBook X 14 Pro 2023</td><td>1.34kg</td><td>IPS 14英寸 2240x1400</td><td>4899</td><td>i5-13500H</td><td>60Wh</td><td>16G+1T</td><td></td></tr><tr><td>小米</td><td>Redmi Book 14</td><td>1.37kg</td><td>LCD 14英寸 2880x1800</td><td>4399</td><td>i7-12700H</td><td>56Wh</td><td>16G+512G</td><td>雾面屏，注意处理器非最新代</td></tr></tbody></table>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;本文对一些轻薄笔记本（ &amp;lt; 1.5kg ）的基本信息进行了汇总，仅供参考。其中“容量”列只记录了该机型的一种配置，不代表该机型只有这种配置。“屏幕”列中，除特殊说明外，OLED一般为镜面屏，IPS和LED一般为雾面屏。“参考价格”列的价格在汇总时处于“双十一”的影响下</summary>
      
    
    
    
    <category term="经验与总结" scheme="http://wzw21.cn/categories/%E7%BB%8F%E9%AA%8C%E4%B8%8E%E6%80%BB%E7%BB%93/"/>
    
    
    <category term="总结" scheme="http://wzw21.cn/tags/%E6%80%BB%E7%BB%93/"/>
    
    <category term="轻薄笔记本" scheme="http://wzw21.cn/tags/%E8%BD%BB%E8%96%84%E7%AC%94%E8%AE%B0%E6%9C%AC/"/>
    
  </entry>
  
  <entry>
    <title>Hexo博客迁移步骤</title>
    <link href="http://wzw21.cn/2023/10/22/hexo-blog-migration/"/>
    <id>http://wzw21.cn/2023/10/22/hexo-blog-migration/</id>
    <published>2023-10-22T14:31:11.000Z</published>
    <updated>2023-10-31T06:59:18.814Z</updated>
    
    <content type="html"><![CDATA[<h1 id="hexo博客迁移步骤踩坑记录"><a class="markdownIt-Anchor" href="#hexo博客迁移步骤踩坑记录"></a> Hexo博客迁移步骤（踩坑记录）</h1><p>本文记录了博主在更换电脑后将旧电脑本地的Hexo博客项目迁移到新电脑，并实现在新电脑上正常发布Hexo博客至GitHub的步骤。</p><p>说明：</p><ul><li>建议优先使用前置步骤+解决方案（一）；</li><li>博主对Hexo等工具并不是很熟悉，本文仅供参考，如有错误，欢迎指正；</li><li>本地的Hexo博客项目本身也可上传至GitHub进行管理和备份，但此方法不在本文讨论范围内。</li></ul><h2 id="前置步骤"><a class="markdownIt-Anchor" href="#前置步骤"></a> 前置步骤</h2><p>无论是使用解决方案（一）还是解决方案（二），都需要先执行以下前置步骤：</p><h3 id="安装git"><a class="markdownIt-Anchor" href="#安装git"></a> 安装Git</h3><p>下载链接：<a href="https://git-scm.com/downloads">Git</a></p><p>需要完成相应的SSH配置，网上教程较多，这里省略。</p><h3 id="安装nodejs"><a class="markdownIt-Anchor" href="#安装nodejs"></a> 安装Node.js</h3><p>下载链接：<a href="https://nodejs.org/en/download">Node.js</a></p><p>所需版本可参考 <a href="https://hexo.io/zh-cn/docs/index.html#Node-js-%E7%89%88%E6%9C%AC%E9%99%90%E5%88%B6">链接</a></p><h3 id="安装hexo-cli"><a class="markdownIt-Anchor" href="#安装hexo-cli"></a> 安装hexo-cli</h3><p>安装方式：在任意位置打开 git bash，执行指令 <code>npm install hexo-cli -g</code>，其中 -g 代表全局安装，hexo-cli 是 hexo 框架的 command line interface</p><p>此处列出博主使用的版本供参考：</p><table><thead><tr><th>旧电脑</th><th>新电脑</th></tr></thead><tbody><tr><td>node.js: 14.15.0 <br/> npm: 6.14.8 <br/> hexo-cli: 4.2.0 <br/> hexo: 5.2.0</td><td>node.js: 18.18.2 <br/> npm: 9.8.1 <br/> hexo-cli: 4.3.1 <br/> hexo: 5.2.0</td></tr></tbody></table><h2 id="重要说明"><a class="markdownIt-Anchor" href="#重要说明"></a> 重要说明：</h2><p>在使用任何一种解决方案之前建议先将对应GitHub仓库中的内容（包括提交记录）进行备份，以免出现提交记录被覆盖等情况。可以使用新建分支的方法来进行备份。</p><p>若使用新电脑部署博客后遇到历史提交记录被覆盖的问题，可以在旧电脑的项目中重新运行<code>hexo d</code>，恢复记录。再尝试其它解决方案。</p><p>博主实际上先尝试了解决方案（二）中所述方法，但该方案可能会导致一些问题，所以最后采用了解决方案（一）中所述方法，并将其命名为解决方案（一）。</p><h2 id="解决方案一"><a class="markdownIt-Anchor" href="#解决方案一"></a> 解决方案（一）</h2><p>直接将原项目文件夹中所有文件复制到新文件夹中，无需进行其它操作。</p><p>在 Git Bash 中进入项目文件夹（或在项目文件夹下打开 Git Bash），确认以下命令是否可以使用：</p><p><code>hexo -v</code> 可查看hexo及其它依赖包的版本</p><p><code>hexo g</code> 生成博客内容</p><p><code>hexo s</code> 本地部署</p><p><code>hexo d</code> 部署至云端</p><p>若此时已可正常生成和部署博客，则无需关注解决方案（二）。</p><h2 id="解决方案二"><a class="markdownIt-Anchor" href="#解决方案二"></a> 解决方案（二）</h2><h3 id="复制所需文件至新电脑的项目文件夹中"><a class="markdownIt-Anchor" href="#复制所需文件至新电脑的项目文件夹中"></a> 复制所需文件至新电脑的项目文件夹中</h3><p>复制原项目文件夹下的部分文件夹和文件至新项目文件夹中：</p><table><thead><tr><th>文件/文件夹名</th><th>是否复制</th><th>说明</th></tr></thead><tbody><tr><td><div style="width: 120pt"> .deploy_git/</td><td><div style="width: 120pt"> 可选是否复制</td><td>该文件夹下存储了一些与git部署相关的信息，若不复制，在执行 <code>hexo d</code> 时会重新生成。但博主由于未复制该文件夹，导致部署时原来的所有提交记录被覆盖，所以还是建议复制。</td></tr><tr><td>node_modules/</td><td>不用复制</td><td>该文件夹下存放了一些项目依赖包。</td></tr><tr><td>public/</td><td>不用复制</td><td>运行 <code>hexo g</code> 时会重新生成。</td></tr><tr><td>scaffolds/</td><td>需要复制</td><td>无</td></tr><tr><td>source/</td><td>需要复制</td><td>无</td></tr><tr><td>themes/</td><td>需要复制</td><td>无</td></tr><tr><td>.gitignore</td><td>需要复制</td><td>无</td></tr><tr><td>_config.yml</td><td>需要复制</td><td>无</td></tr><tr><td>db.json</td><td>不用复制</td><td>运行 <code>hexo g</code> 时会重新生成。</td></tr><tr><td>package.json</td><td>需要复制</td><td>该文件存储了项目的基本信息和依赖信息等。</td></tr><tr><td>package-lock.json</td><td>可选是否复制</td><td>若想要保持各个项目依赖包版本不变，可复制该文件。该文件的作用可参考<a href="https://www.jianshu.com/p/bca5e4ce7bd2">链接1</a>和<a href="https://blog.csdn.net/weixin_43820866/article/details/105232066">链接2</a>。</td></tr><tr><td>_config.butterfly.yml</td><td>需要复制（如有）</td><td>主题配置文件，因为博主使用了butterfly主题，所以有该文件。</td></tr></tbody></table><h3 id="安装依赖包"><a class="markdownIt-Anchor" href="#安装依赖包"></a> 安装依赖包</h3><p>在 Git Bash 中进入项目文件夹（或在项目文件夹下打开 Git Bash），运行 <code>npm install</code> 命令（注意路径需为项目文件夹），会自动根据 package.json 和 package-lock.json（如有）文件中的内容安装依赖包。</p><p>博主在该过程中遇到一些漏洞警告，使用指令 <code>npm audit fix</code> 和 <code>npm audit fix --force</code> 后未能完全解决问题，删除package-lock.json文件后重新进行安装也遇到问题。观察后发现主要问题集中在 hexo-renderer-jade 和 hexo-renderer-markdown-it-plus 中，前者已经被 hexo-renderer-pug 替代，可以不安装，后者则根据 Butterfly 主题的<a href="https://butterfly.js.org/posts/ceeb73f/#Math-%E6%95%B8%E5%AD%B8">安装文档</a>修改为使用 hexo-renderer-markdown-it。</p><p>如在执行安装指令后想重新安装依赖包，则可删除 node_modules 文件夹及其内容，并使用 npm cache clean --force 清理缓存。再重新运行安装指令进行安装。</p><p>安装好依赖包后，可使用 <code>hexo g</code> 和 <code>hexo s</code> 指令进行测试，若可正常生成博客和本地部署，则说明安装成功。</p><p>注意使用该解决方案后，使用 <code>hexo d</code> 指令进行部署可能造成Github仓库中的历史提交记录被覆盖，因为部署时会执行 <code>git push xxx --force</code> 。建议做好备份。若在复制文件时复制了.deploy_git/，则可能不会有该问题。</p><p>参考：</p><ol><li><a href="https://www.jianshu.com/p/906294181814">https://www.jianshu.com/p/906294181814</a></li><li><a href="https://www.zhihu.com/question/21193762/answer/103097754">https://www.zhihu.com/question/21193762/answer/103097754</a></li><li><a href="https://xiuyuantech.github.io/2021/12/24/hexo_blog_migration/">https://xiuyuantech.github.io/2021/12/24/hexo_blog_migration/</a></li><li><a href="https://blog.csdn.net/qq_43698421/article/details/120407042">https://blog.csdn.net/qq_43698421/article/details/120407042</a></li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;hexo博客迁移步骤踩坑记录&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#hexo博客迁移步骤踩坑记录&quot;&gt;&lt;/a&gt; Hexo博客迁移步骤（踩坑记录）&lt;/h1&gt;
&lt;p&gt;本文记录了博主在更换电脑后将旧电脑本地的Hexo博客项目迁移到新电脑</summary>
      
    
    
    
    <category term="网页与前端" scheme="http://wzw21.cn/categories/%E7%BD%91%E9%A1%B5%E4%B8%8E%E5%89%8D%E7%AB%AF/"/>
    
    
    <category term="博客相关" scheme="http://wzw21.cn/tags/%E5%8D%9A%E5%AE%A2%E7%9B%B8%E5%85%B3/"/>
    
  </entry>
  
  <entry>
    <title>使用Python处理xlsx表格</title>
    <link href="http://wzw21.cn/2023/03/12/xlsx-operation-in-python/"/>
    <id>http://wzw21.cn/2023/03/12/xlsx-operation-in-python/</id>
    <published>2023-03-12T06:45:07.000Z</published>
    <updated>2023-03-12T07:13:20.098Z</updated>
    
    <content type="html"><![CDATA[<h1 id="使用python处理xlsx表格的操作示例"><a class="markdownIt-Anchor" href="#使用python处理xlsx表格的操作示例"></a> 使用Python处理xlsx表格的操作示例</h1><ol><li>载入表格文件</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> openpyxl</span><br><span class="line"></span><br><span class="line">workbook = openpyxl.load_workbook(<span class="string">r&quot;.\dataset.xlsx&quot;</span>)</span><br><span class="line">worksheet = workbook.worksheets[<span class="number">0</span>]</span><br></pre></td></tr></table></figure><ol start="2"><li>获取行数和列数</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">raw_num = worksheet.max_row</span><br><span class="line">col_num = worksheet.max_column</span><br></pre></td></tr></table></figure><ol start="3"><li>获取单元格内容</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x = worksheet.cell(i, j).value</span><br><span class="line"><span class="comment"># i, j start with index 1</span></span><br></pre></td></tr></table></figure><ol start="4"><li>改变单元格内容</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">worksheet.cell(i, j, y)</span><br><span class="line"><span class="comment"># change the value to y</span></span><br></pre></td></tr></table></figure><ol start="5"><li>保存修改的内容</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">workbook.save(<span class="string">r&quot;.\dataset.xlsx&quot;</span>)</span><br><span class="line"><span class="comment"># or workbook.save(r&quot;.\new_dataset.xlsx&quot;)</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;使用python处理xlsx表格的操作示例&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#使用python处理xlsx表格的操作示例&quot;&gt;&lt;/a&gt; 使用Python处理xlsx表格的操作示例&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;载入表格文件&lt;/l</summary>
      
    
    
    
    <category term="操作步骤与实践" scheme="http://wzw21.cn/categories/%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%AA%A4%E4%B8%8E%E5%AE%9E%E8%B7%B5/"/>
    
    
    <category term="Python" scheme="http://wzw21.cn/tags/Python/"/>
    
  </entry>
  
  <entry>
    <title>使用Python批量处理文件名</title>
    <link href="http://wzw21.cn/2023/03/12/file-name-operation-in-python/"/>
    <id>http://wzw21.cn/2023/03/12/file-name-operation-in-python/</id>
    <published>2023-03-12T06:42:25.000Z</published>
    <updated>2023-03-12T07:05:20.733Z</updated>
    
    <content type="html"><![CDATA[<h1 id="使用python批量处理文件名的操作示例"><a class="markdownIt-Anchor" href="#使用python批量处理文件名的操作示例"></a> 使用Python批量处理文件名的操作示例</h1><ol><li>遍历文件</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line">file_path = <span class="string">r&quot;.\audio&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> root, dirs, files <span class="keyword">in</span> os.walk(file_path):</span><br><span class="line">    <span class="keyword">for</span> file_name <span class="keyword">in</span> files:</span><br><span class="line">        print(file_name)</span><br></pre></td></tr></table></figure><ol start="2"><li>获取文件后缀</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">os.path.splitext(file_name)[<span class="number">1</span>]</span><br></pre></td></tr></table></figure><ol start="3"><li>寻找某个字符的位置</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">file_name.find(<span class="string">&#x27;_&#x27;</span>)</span><br></pre></td></tr></table></figure><ol start="4"><li>重命名文件</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">os.rename(root + <span class="string">&#x27;/&#x27;</span> + file_name, root + <span class="string">&#x27;/&#x27;</span> + new_name)</span><br><span class="line"><span class="comment"># or os.rename(root + &#x27;\\&#x27; + file_name, root + &#x27;\\&#x27; + new_name)</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;使用python批量处理文件名的操作示例&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#使用python批量处理文件名的操作示例&quot;&gt;&lt;/a&gt; 使用Python批量处理文件名的操作示例&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;遍历文件&lt;/li&gt;
&lt;/</summary>
      
    
    
    
    <category term="操作步骤与实践" scheme="http://wzw21.cn/categories/%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%AA%A4%E4%B8%8E%E5%AE%9E%E8%B7%B5/"/>
    
    
    <category term="Python" scheme="http://wzw21.cn/tags/Python/"/>
    
  </entry>
  
  <entry>
    <title>本人项目汇总（持续更新中）</title>
    <link href="http://wzw21.cn/2022/06/23/my-projects/"/>
    <id>http://wzw21.cn/2022/06/23/my-projects/</id>
    <published>2022-06-23T04:24:19.000Z</published>
    <updated>2023-03-12T07:25:25.465Z</updated>
    
    <content type="html"><![CDATA[<ul><li>汉诺塔游戏与演示程序 (C++, MFC) <a href="https://blog.csdn.net/SoYouTry/article/details/104147830">介绍</a> <a href="https://github.com/Hellwz/HANOI-TOWER">代码</a></li><li>Rookemon — 类似精灵宝可梦的游戏 (C++, Win32 API) <a href="https://blog.csdn.net/SoYouTry/article/details/104148595">介绍</a> <a href="https://github.com/Hellwz/Rookemon">代码</a> <a href="https://github.com/Hellwz/Rookemon/blob/master/%E6%B8%B8%E6%88%8F%E5%B1%95%E7%A4%BA.mp4">演示</a></li><li>钢琴和弦查询器 (Python, PyQt) <a href="https://blog.csdn.net/SoYouTry/article/details/104148852">介绍</a> <a href="https://github.com/Hellwz/Chord-Query">代码</a> <a href="https://www.bilibili.com/video/BV1AE411p73d/">演示</a></li><li>TSP 师生汇科研交流平台 (Pascal, Delphi) <a href="https://github.com/Hellwz/TSP-ManagementSystem">代码</a></li><li>智能垃圾拾取分类小车 (Raspberry Pi, Tensorflow) <a href="https://github.com/Hellwz/BigChuangCar">代码</a></li><li>考务管理系统 (Java, Spring Boot) <a href="https://gitee.com/hellwz/springboot">代码</a></li><li>堆箱子游戏 (Unity) <a href="https://github.com/Hellwz/Stack_Box">代码</a></li><li>垃圾宝 — 垃圾图像识别分类手机APP (Java, Tensorflow) <a href="https://github.com/Hellwz/Little-Litter">代码</a></li><li>Scorpionn — 自制深度学习框架 (Python) <a href="https://github.com/Hellwz/Scorpionn">代码</a></li><li>咕咕语翻译器 (JavaScript) <a href="https://wzw21.cn/gugugu/">链接</a></li><li>在线和弦查询器 (JavaScript) <a href="https://wzw21.cn/Chord-Query-Web/">链接</a></li><li>旅游地图 (JavaScript) <a href="https://wzw21.cn/travel_map/">链接</a></li><li>多功能手势识别新乐器 (Python, Max/MSP) <a href="https://www.bilibili.com/video/BV1CL411j7vo/">演示</a> 暂未开源</li><li>音乐自动伴奏系统 (Python, Pytorch, GAN) 暂未开源</li><li>AutoHarmonizer — 音乐和声自动配置系统 (Python, Tensorflow) <a href="https://sander-wood.github.io/autoharmonizer/">链接</a></li><li>视频自动配乐系统 (Python, Pytorch) 暂未开源</li><li>自动门牌号识别 (Python, Pytorch) 暂未开源</li><li>对抗样本攻击 (Python, Pytorch) 暂未开源</li><li>自动代码生成 (Python, Pytorch) 暂未开源</li><li>自动图像上色 (Python, Pytorch) 暂未开源</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;ul&gt;
&lt;li&gt;汉诺塔游戏与演示程序 (C++, MFC) &lt;a href=&quot;https://blog.csdn.net/SoYouTry/article/details/104147830&quot;&gt;介绍&lt;/a&gt; &lt;a href=&quot;https://github.com/Hellwz/</summary>
      
    
    
    
    <category term="经验与总结" scheme="http://wzw21.cn/categories/%E7%BB%8F%E9%AA%8C%E4%B8%8E%E6%80%BB%E7%BB%93/"/>
    
    
    <category term="项目汇总" scheme="http://wzw21.cn/tags/%E9%A1%B9%E7%9B%AE%E6%B1%87%E6%80%BB/"/>
    
  </entry>
  
  <entry>
    <title>律学初探（二）</title>
    <link href="http://wzw21.cn/2022/03/16/lvxue2/"/>
    <id>http://wzw21.cn/2022/03/16/lvxue2/</id>
    <published>2022-03-16T02:37:59.000Z</published>
    <updated>2022-03-16T02:59:24.654Z</updated>
    
    <content type="html"><![CDATA[<p>本文修改后出版于《音频音乐与计算机的交融——音频音乐技术2》，谢绝转载。</p><p>音律计算法及三种常见律制介绍见 <a href="https://wzw21.cn/2020/11/10/lvxue1/">律学初探（一）</a></p><h1 id="六-中国律学简史"><a class="markdownIt-Anchor" href="#六-中国律学简史"></a> 六、中国律学简史</h1><p>中国的律学研究，仅从十二律名的出现算起，至今已有2500多年，可谓历史悠久。我们可以根据中国律学发展的特点，将中国律学史分为四个时期：</p><p>1）三分损益律发现时期，约公元前8世纪至公元前3世纪，即春秋战国时期；</p><p>2）探求新律时期，约公元前3世纪至公元14世纪，即汉代至元代；</p><p>3）十二平均律发现时期，公元16世纪前后，即明代；</p><p>3）律学研究新时期，1911年至今。</p><h2 id="一三分损益律发现时期"><a class="markdownIt-Anchor" href="#一三分损益律发现时期"></a> （一）三分损益律发现时期</h2><p>在讨论律学发展史之前，我们需要明确一些中国古代音乐相关知识。</p><p>中国自西周时期起，音乐就已经有了一定的发展。西周宫廷中有着由1400多人组成的音乐机构，乐器据《诗经》记载也已经达到29种之多。春秋战国时期更是“百花齐放，百家争鸣”，对音律的研究发展提供了条件。</p><p>中国古代有五声音阶、七声音阶，以“宫、商、角、徵、羽”作为音阶中各音的“阶名”。以“变”表示低半音，以“清”表示高半音，例如“变徵”表示比“徵”低半音，“清角”表示比“角”高半音。“宫商角徵羽”的名称早期记载于《管子·地员篇》和《周礼·春官》中，其具体产生时间已无法确定。</p><p>中国古代又有“十二律”，以“黄钟”、“大吕”等作为十二律的名称。高八度的律则加上“清”字表示，例如“清黄钟”。十二律的名称最早记载于《国语·周语》中，于公元前522年周代乐官州鸠答周景王问律时提及。</p><p>表6-1为十二律，五声、七声音阶与现代音名的一种对应关系，列出以方便读者理解后文。十二律中的“黄钟”在不同时期音高不同，周朝时其音高接近十二平均律中的f2。</p><center>表6-1</center><table><thead><tr><th style="text-align:left">十二律律名</th><th style="text-align:left">黄钟</th><th style="text-align:left">大吕</th><th style="text-align:left">太簇</th><th style="text-align:left">夹钟</th><th style="text-align:left">姑洗</th><th style="text-align:left">仲吕</th><th style="text-align:left">蕤宾</th><th style="text-align:left">林钟</th><th style="text-align:left">夷则</th><th style="text-align:left">南吕</th><th style="text-align:left">无射</th><th style="text-align:left">应钟</th><th style="text-align:left">清黄钟</th></tr></thead><tbody><tr><td style="text-align:left">对应现在音名</td><td style="text-align:left">f2</td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mrow></mrow><mtext> </mtext><mi mathvariant="normal">#</mi></msubsup><mi>f</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">{_\ ^\# }f2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0961079999999999em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord"><span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8491079999999999em;"><span style="top:-2.4530000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mspace mtight"><span class="mtight"> </span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">#</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord">2</span></span></span></span></td><td style="text-align:left">g2</td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mrow></mrow><mtext> </mtext><mi mathvariant="normal">#</mi></msubsup><mi>g</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">{_\ ^\# }g2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0961079999999999em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord"><span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8491079999999999em;"><span style="top:-2.4530000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mspace mtight"><span class="mtight"> </span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">#</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord">2</span></span></span></span></td><td style="text-align:left">a2</td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mrow></mrow><mtext> </mtext><mi mathvariant="normal">#</mi></msubsup><mi>a</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">{_\ ^\# }a2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0961079999999999em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord"><span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8491079999999999em;"><span style="top:-2.4530000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mspace mtight"><span class="mtight"> </span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">#</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span><span class="mord mathdefault">a</span><span class="mord">2</span></span></span></span></td><td style="text-align:left">b2</td><td style="text-align:left">c3</td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mrow></mrow><mtext> </mtext><mi mathvariant="normal">#</mi></msubsup><mi>c</mi><mn>3</mn></mrow><annotation encoding="application/x-tex">{_\ ^\# }c3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0961079999999999em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord"><span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8491079999999999em;"><span style="top:-2.4530000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mspace mtight"><span class="mtight"> </span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">#</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span><span class="mord mathdefault">c</span><span class="mord">3</span></span></span></span></td><td style="text-align:left">d3</td><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mrow></mrow><mtext> </mtext><mi mathvariant="normal">#</mi></msubsup><mi>d</mi><mn>3</mn></mrow><annotation encoding="application/x-tex">{_\ ^\# }d3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0961079999999999em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord"><span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8491079999999999em;"><span style="top:-2.4530000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mspace mtight"><span class="mtight"> </span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">#</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span><span class="mord mathdefault">d</span><span class="mord">3</span></span></span></span></td><td style="text-align:left">e3</td><td style="text-align:left">f3</td></tr><tr><td style="text-align:left">五声音阶</td><td style="text-align:left">宫</td><td style="text-align:left"></td><td style="text-align:left">商</td><td style="text-align:left"></td><td style="text-align:left">角</td><td style="text-align:left"></td><td style="text-align:left"></td><td style="text-align:left">徵</td><td style="text-align:left"></td><td style="text-align:left">羽</td><td style="text-align:left"></td><td style="text-align:left"></td><td style="text-align:left">宫</td></tr><tr><td style="text-align:left">七声音阶</td><td style="text-align:left">宫</td><td style="text-align:left"></td><td style="text-align:left">商</td><td style="text-align:left"></td><td style="text-align:left">角</td><td style="text-align:left"></td><td style="text-align:left">变徵</td><td style="text-align:left">徵</td><td style="text-align:left"></td><td style="text-align:left">羽</td><td style="text-align:left"></td><td style="text-align:left">变宫</td><td style="text-align:left">宫</td></tr></tbody></table><p>表6-1中以宫为调首，构成的调式称为五声宫调式或七声宫调式。也可以其它音作为调首，例如徵调式（徵羽宫商角）。表中以黄钟作为宫音来构成宫调式称为“黄钟宫调”，也可以大吕、太簇等其它律来作为宫音以构成高度不同的各种五声、七声音阶。以十二律轮流作为宫音在在古时称为“旋宫”。</p><p>根据相关文献及出土文物，我们可以推测古代中国是以“弦”定律。</p><p>目前认为最早记载科学的律学理论的古籍为《管子·地员篇》，文中将宫商角徵羽各音与家畜的鸣声相比拟，同时从数理的角度，对各音的精密高度作了科学的论断，提出了“三分损益律”。</p><p>三分损益，即先把一个振动体在长度上均分为三段；舍其三分之一余三分之二，称为“三分损一”，其发音比原音高纯五度；加其三分之一成三分之四，称为“三分益一”，其发音比原音低纯四度。而下方纯四度就是上方纯五度的转位，所以三分损益律与五度相生律属于同一体系。对“宫”三分益一得到“徵”，对“徵”三分损一得到“商”，对“商”三分益一得到“羽”，对“羽”三分损一得到“角”。另外，《管子》中将“宫”音的振动体长度设为81，以确保五音都可以用整数进行表示。</p><p>《吕氏春秋·音律篇》（战国时期）中将三分损益法的应用由五律增加到十二律，其相生方法记载如下：黄钟生林钟，林钟生太簇，太簇生南吕，南吕生姑洗，姑洗生应钟，应钟生蕤宾，蕤宾生大吕，大吕生夷则，夷则生夹钟，夹钟生无射，无射生仲吕。在秦简《律书》中也有相关记载。</p><p>中国数千年来广大地区一直沿用这种三分损益律，但其具体产生年代无法确定。根据近年来的出土乐器和《地员篇》中记载的内容，推测在春秋时期中期甚至是初期，即公元前7、6世纪或更早，人们已经开始使用三分损益律并对其较为熟悉。</p><p>20世纪出土的春秋时期、战国时期编钟（例如“曾侯乙”编钟）对我国律学史的研究提供了珍贵资料，根据其音准可推测当时人们先在弦上定律，铸钟时再按弦校音。同时发现在当时的音乐实践中，不仅已经采用三分损益律，还使用一些纯律音程，即使用纯律大小三度辅助三分损益律进行乐器制作。</p><h2 id="二探求新律时期"><a class="markdownIt-Anchor" href="#二探求新律时期"></a> （二）探求新律时期</h2><p>从秦代到唐代，文化艺术的各个领域都日趋繁荣，在各族人民的交流学习与文化融合中，音乐也取得了很大发展，乐器种类不断增加。隋唐时，宫廷宴享音乐（即广义的燕乐）非常繁盛。在这一时期，律学研究也取得了新的成就，极大丰富了音阶与调式。</p><p>人们为了解决三分损益法生律十一次后不能回到出发律的问题，提出了许多解决方法，可归为两类：一类是继续按照三分损益法生律，一类是调整十二律本身各律的高度。</p><p>汉代时，郎中京房提出了“六十律”，记载于《后汉书·律历志》中。他按照三分损益法从“黄钟”开始生律，一直生到六十律“南事”。其中第五十四律“色育”已与“黄钟”近似。南北朝时，钱乐之沿京房的六十律继续生律，生至三百六十律，记载于《隋书·律历志》中。该律达到中国古代律学史上音律细分的最高程度。同一时期，何承天创制了一种新律，是世界上最早的一种十二平均律，也记载于《隋书·律历志》中。与现代十二平均律相比，他改变的是振动体长度的差数而不是振动体长度的比数，但其效果已十分接近现代的十二平均律。在他之后还有隋代的刘焯和五代的王朴等人尝试调整十二律本身的高度，但效果都不及何承天的新律。另外，在秦简《律书》和西汉《淮南子·天文训》中，都先用大整数计算各律比例（设黄钟振动体长为177147，称为黄钟大数），再约为小的自然数以表示各律的高度，简化了十二律间的关系，并且出现了一些纯律数据。宋代时有蔡元定提出“十八律”的理论，仍然基于三分损益法继续生律，可在一定程度上实现十二律旋相为宫。</p><p>这一时期，主要使用的音阶有三种，分别为古音阶（或称雅乐音阶）、新音阶（或称清乐音阶）和清商音阶（或称燕乐音阶、俗乐音阶）。三种音阶的阶名与现代音名的一种对应关系如表6-2所示（以c为主音）。</p><center>表6-2</center><table><thead><tr><th style="text-align:left">雅乐音阶</th><th style="text-align:left">宫/c</th><th style="text-align:left">商/d</th><th style="text-align:left">角/e</th><th style="text-align:left">变徵/<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mrow></mrow><mtext> </mtext><mi mathvariant="normal">#</mi></msubsup><mi>f</mi></mrow><annotation encoding="application/x-tex">{_\ ^\# }f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0961079999999999em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord"><span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8491079999999999em;"><span style="top:-2.4530000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mspace mtight"><span class="mtight"> </span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">#</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span></span></span></span></th><th style="text-align:left">徵/g</th><th style="text-align:left">羽/a</th><th style="text-align:left">变宫/b</th><th style="text-align:left">宫/c</th></tr></thead><tbody><tr><td style="text-align:left">清乐音阶</td><td style="text-align:left">宫/c</td><td style="text-align:left">商/d</td><td style="text-align:left">角/e</td><td style="text-align:left">清角/f</td><td style="text-align:left">徵/g</td><td style="text-align:left">羽/a</td><td style="text-align:left">变宫/b</td><td style="text-align:left">宫/c</td></tr><tr><td style="text-align:left">燕乐音阶</td><td style="text-align:left">宫/c</td><td style="text-align:left">商/d</td><td style="text-align:left">角/e</td><td style="text-align:left">清角/f</td><td style="text-align:left">徵/g</td><td style="text-align:left">羽/a</td><td style="text-align:left">清羽（闰）/<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mrow></mrow><mtext> </mtext><mi>b</mi></msubsup><mi>b</mi></mrow><annotation encoding="application/x-tex">{_\ ^b}b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.096108em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord"><span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-2.4530000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mspace mtight"><span class="mtight"> </span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span><span class="mord mathdefault">b</span></span></span></span></td><td style="text-align:left">宫/c</td></tr></tbody></table><p>同样的，在这三种音阶中，可以用各音（主要是宫商角徵羽五个音）轮流作为主音，构成各种调式，例如徵调式。在这三种音阶中，五声（宫商角徵羽）和加入的二声（如变徵、变宫等）有主次之分，分别称为正声和变声。这种区别是中国五声音阶体系的特征，也是有别于欧洲七声音阶体系的主要因素。例如古音阶徵调式和新音阶宫调式，表面上其构成相同，但其本质，即正声和变声的位置却不同。</p><h2 id="三十二平均律发明时期"><a class="markdownIt-Anchor" href="#三十二平均律发明时期"></a> （三）十二平均律发明时期</h2><p>明代朱载堉发明了十二平均律（1581年或更早），是中国律学史上的一项巨大成就，与今日所用十二平均律完全相同。在他的著作《律历融通》中，称十二平均律为“新法密率”，并先后提出了两种求法。第一种是通过改变三分损益律中五度、四度的比值求得，第二种是通过几次开方以得到<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mroot><mn>2</mn><mn>12</mn></mroot></mrow><annotation encoding="application/x-tex">\sqrt[12]{2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.13278em;"></span><span class="mord sqrt"><span class="root"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7868839999999999em;"><span style="top:-2.964664em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size6 size1 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.90722em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">2</span></span></span><span style="top:-2.86722em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429c69,-144,104.5,-217.7,106.5,-221c5.3,-9.3,12,-14,20,-14H400000v40H845.2724s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z M834 80H400000v40H845z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.13278em;"><span></span></span></span></span></span></span></span></span> 的具体数值而求得（在当时计算精度已达25位之多），与第五节中提到的两种方法类似。同时，他还发现了以弦定律和以管定律的不同。在以弦定律时，只需更改弦长；而以管定律时，在缩短管长度的同时还需缩小其内径。可惜的是，朱载堉提出的十二平均律在当时并没有得到重视，也未普及使用。</p><h2 id="四律学研究新时期"><a class="markdownIt-Anchor" href="#四律学研究新时期"></a> （四）律学研究新时期</h2><p>上世纪初，在新文化运动的影响下，除了西方键盘乐器的传入使十二平均律得到广泛应用外，一些律学研究的方法和成果也被融合吸收，开创了我国律学研究的新局面。1911年至60年代期间涌现出大量的律学研究文献书籍，研究者以刘复、王光祈、杨萌浏、吴南薰为代表。</p><p>近年来，律学研究的进展可概括为四个方面：1）对律学史的研究表明，虽然三分损益律在我国占主导地位，但纯律也早在战国时期便开始得到应用；2）加强了对各民族、各地区民间音乐律制的研究；3）使用现代科技手段与科学仪器对古代律学理论进行验证；4）从数学、物理学、心理学等多个角度进行律学研究与探讨。1986年我国成立了“中国律学学会”，是我国有史以来第一个律学研究的组织，同时各大院校开始招收律学专业研究生。在这种趋势下，中国当代律学研究必将蓬勃发展。</p><h1 id="七-欧洲律学简史"><a class="markdownIt-Anchor" href="#七-欧洲律学简史"></a> 七、欧洲律学简史</h1><p>欧洲音乐曾经历“单声音乐”（monophony）、“复调音乐”（polyphony）和“主调音乐”（homophony）三种音乐体裁的时期。其律学发展也与音乐体裁变迁有一定联系，可以分为三个时期：</p><p>1）毕达哥拉斯律时期，约公元前6世纪至公元14世纪；</p><p>2）纯律时期，约公元15世纪至公元17世纪；</p><p>3）十二平均律时期，约公元18世纪至20世纪。</p><h2 id="一毕达哥拉斯律时期"><a class="markdownIt-Anchor" href="#一毕达哥拉斯律时期"></a> （一）毕达哥拉斯律时期</h2><p>公元前6世纪，毕达哥拉斯及其门徒用数学研究当时音阶的定律法，提出了五度相生律，也称毕达哥拉斯律制（Pythagorean intonation）。该律对当时的希腊音乐和以后的欧洲音乐都有着极为深远的影响。</p><p>古代希腊音乐是单声音乐，其调式构成的基础为四音列（tetrachord），即在构成纯四度的音程中加入其它两个音。两个四音列连接在一起成为七声调式，在古希腊音乐中共有七种，如表7-1所示，其中各音由五度相生律得出，除b-c、e-f为五度律小半音外，其它相邻两音音程均为大全音。</p><center>表7-1</center><table><thead><tr><th style="text-align:left">混合利第亚调式（mixolydian）</th><th style="text-align:left">b-c-d-e-f-g-a-b</th></tr></thead><tbody><tr><td style="text-align:left">利第亚调式（lydian）</td><td style="text-align:left">c-d-e-f-g-a-b-c</td></tr><tr><td style="text-align:left">弗里吉亚调式（phrygian）</td><td style="text-align:left">d-e-f-g-a-b-c-d</td></tr><tr><td style="text-align:left">多里亚调式（dorian）</td><td style="text-align:left">e-f-g-a-b-c-d-e</td></tr><tr><td style="text-align:left">下利第亚调式（hypolydian）</td><td style="text-align:left">f-g-a-b-c-d-e-f</td></tr><tr><td style="text-align:left">下弗里吉亚调式（hypophrygian）</td><td style="text-align:left">g-a-b-c-d-e-f-g</td></tr><tr><td style="text-align:left">下多里亚调式（hypodorian）</td><td style="text-align:left">a-b-c-d-e-f-g-a</td></tr></tbody></table><p>毕达哥拉斯学派使用数学研究律学，被称为“理论派”，而在公元前4世纪至前2世纪还有一些研究者强调根据听觉来定律，被称为“和声派”，代表人物有阿里斯托克塞诺斯（Aristoxenus）、季季莫斯（Didymus）、普托莱米（Ptolemy）等。他们在“自然四音列”（diatonic tetrachord，即只含自然音的四音列）的基础上提出了“变化四音列”（chromatic tetrachord）和“四分音四音列”（enharmonic tetrachord），这些音列已经涉及到纯律。第四节提到的普通音差也是由“和声派”的季季莫斯发现。</p><p>到了欧洲中世纪（约500~1450），教会采用“中世纪调式”（medieval mode），也称“教会调式”，有七种调式，其结构如表7-2所示。若各音采用五度相生律得到，则除e-f、b-c为五度律小半音，其余均为大半音。值得注意的是，虽然部分名称沿用古希腊调式名称，但其结构并不相同，如多里亚调式。表中的七种调式在当时仅通用前六种。</p><center>表7-2</center><table><thead><tr><th style="text-align:left">多里亚调式（dorian）</th><th style="text-align:left">d-e-f-g-a-b-c-d</th></tr></thead><tbody><tr><td style="text-align:left">弗里吉亚调式（phrygian）</td><td style="text-align:left">e-f-g-a-b-c-d-e</td></tr><tr><td style="text-align:left">利第亚调式（lydian）</td><td style="text-align:left">f-g-a-b-c-d-e-f</td></tr><tr><td style="text-align:left">混合利第亚调式（mixolydian）</td><td style="text-align:left">g-a-b-c-d-e-f-g</td></tr><tr><td style="text-align:left">爱奥利亚调式（aeolian）</td><td style="text-align:left">a-b-c-d-e-f-g-a</td></tr><tr><td style="text-align:left">伊奥尼亚调式（ionian）</td><td style="text-align:left">c-d-e-f-g-a-b-c</td></tr><tr><td style="text-align:left">罗克里调式（locrian）</td><td style="text-align:left">b-c-d-e-f-g-a-b</td></tr></tbody></table><p>欧洲一直采用单声音乐直到公元9世纪，复调音乐开始萌芽。初期的复调音乐在协和性方面与毕达哥拉斯律没有矛盾，但随着复调音乐的逐渐成熟、三度和六度音程的同时结合得到普遍应用，纯律及其相应律制逐渐出现并得以应用。</p><h2 id="二纯律时期"><a class="markdownIt-Anchor" href="#二纯律时期"></a> （二）纯律时期</h2><p>纯律时期与“文艺复兴”时期（约1430~1650）时间上大致相同，受文艺复兴运动的影响，音乐在内容和体裁上有了新的变化，复调音乐得到发展，并在16世纪进入繁盛时期。在14世纪初期，人们就想将古希腊“和声派”提出的一些纯律理论应用在多声部的结合中。英国的奥丁汤（Odington）于13世纪末提出纯律的三度音列，同一时期德国的弗朗科（Franko）把纯律大三度（5/4）和纯律小三度（6/5）作为协和音程。14世纪初，法国的维特里（Virty）把纯律小六度（8/5）作为协和音程，米里斯（Muris）把纯律大六度（5/3）作为协和音程。综合这些音程，就是现在的纯律大小三度和大小六度。</p><p>16世纪时，意大利的札利诺（Zarlino）提出了纯律大音阶，同时专门为纯律设计了一种键盘。他首先提出了和弦构成的原理，为后来的和声学研究打下基础。札利诺不仅在纯律的研究上做出贡献，对中庸全音律和十二平均律也有一定研究。</p><p>16、17世纪时，纯律在音乐实践上的应用主要为在键盘乐器上应用各种“中庸全音律”（mean-tone temperament）和在“无伴奏合唱”（acappella）上作特殊处理。</p><p>中庸全音律是基于纯律和五度相生法的一种律制，根据如何划分纯律中的“普通音差”而分类，例如札利诺于1571年提出的“四分之一音差中庸全音律”，就是将五度相生时使用的纯五度缩小“普通音差的四分之一”（与使用五度相生法生成十二平均律时将纯五度缩小“最大音差的十二分之一”类似）来进行生律。根据“四分之一音差中庸全音律”的生律方法可知其大三度与纯律大三度完全一致（c生律四次即为e），其小六度也与纯律小六度相同，而其小三度、大六度与纯律对应音程仅差6音分，该律在使用时以及构成和弦时都可以产生纯律的效果。除“四分之一律”外，还有“三分之一”、“五分之一”、“七分之二”等多种中庸全音律，但一般认为“四分之一”为最佳。在十二平均律流行之前，中庸全音律在欧洲盛行达数百年。至于在无伴奏合唱中的特殊处理，则包括省去音阶的六级音或临时将六级音提高一个普通音差等。</p><p>在产生中庸全音律的同时，欧洲还出现了一些“不规则律”（irregular temperament），和中庸全音律一样，多用于键盘乐器。这些律多为各种中庸全音律的变形，或是中庸全音律与其它律制的结合。</p><h2 id="三十二平均律时期"><a class="markdownIt-Anchor" href="#三十二平均律时期"></a> （三）十二平均律时期</h2><p>1600年前后，荷兰的斯特芬（Simon Stevin）用<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mroot><mrow><mn>1</mn><mi mathvariant="normal">/</mi><mn>2</mn></mrow><mn>12</mn></mroot></mrow><annotation encoding="application/x-tex">\sqrt[12]{1/2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.24em;vertical-align:-0.30499999999999994em;"></span><span class="mord sqrt"><span class="root"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7002200000000001em;"><span style="top:-2.878em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size6 size1 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.935em;"><span class="svg-align" style="top:-3.2em;"><span class="pstrut" style="height:3.2em;"></span><span class="mord" style="padding-left:1em;"><span class="mord">1</span><span class="mord">/</span><span class="mord">2</span></span></span><span style="top:-2.8950000000000005em;"><span class="pstrut" style="height:3.2em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.28em;"><svg width='400em' height='1.28em' viewBox='0 0 400000 1296' preserveAspectRatio='xMinYMin slice'><path d='M263,681c0.7,0,18,39.7,52,119c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120c340,-704.7,510.7,-1060.3,512,-1067c4.7,-7.3,11,-11,19,-11H40000v40H1012.3s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z M1001 80H40000v40H1012z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.30499999999999994em;"><span></span></span></span></span></span></span></span></span> 的方法计算出十二平均律，但他当时并未进行发表。1636年，法国的梅尔桑（Marin Mersenne）在其著作《Harmonie Universelle》中提出了十二平均律的半音比值，虽然其结果并不准确，但被认为是欧洲第一个发表十二平均律数据的人。现代也有研究者认为，欧洲的十二平均律是由中国传入。此后在欧洲，十二平均律与中庸全音律、不规则律相抗衡，直到18世纪中期开始处于优势地位。到19世纪，十二平均律成为键盘乐器的标准调音法，得到广泛使用。</p><p>在音乐实践中，当时的音乐家已深知十二平均律的便利之处，各国的作曲家、演奏家都开始使用十二平均律，同时也致力于十二平均律的开发。例如德国的巴赫（J.S.Bach），作有《十二平均律钢琴曲集》二卷，此二卷虽并非只使用了十二平均律（还使用了一些不规则律），但被认为是充分发挥十二平均律的效能，可以自由转调的典范作品。</p><h2 id="四中欧律学史的异同"><a class="markdownIt-Anchor" href="#四中欧律学史的异同"></a> （四）中欧律学史的异同</h2><p>纵观中欧律学史可以发现，两者都是从五度相生律体系开始，发展到十二平均律，而中间的发展过程则不尽相同。在中国，人们出于对“旋相为宫”（即“旋宫”）的追求，进行了对新律的探索；而在欧洲，则是由于多声部音乐的兴起，引起了人们对于纯律的研究和应用。</p><p>有趣的是，两者有许多惊人的相似点。例如三分损益律和毕达哥拉斯律的产生时间大致相同（现代研究者认为古代的律学理论在东西方是各自独立发现的），十二平均律的产生时间大致相同；又例如两者都是在公元前便已经有了对于纯律的使用。这些相似之处表明人类听觉能力的成长和对自然音律的认识是有共性的，也说明了律学在社会发展中所占据的重要地位，同时引发我们对于中外历史发展的思考。</p><h1 id="八-律制的应用"><a class="markdownIt-Anchor" href="#八-律制的应用"></a> 八、律制的应用</h1><p>经过长时间的理论研究与音乐实践，人们认识到音律具有适度的变通性和灵活性，在不同的使用场景中有不同的应用方法。</p><h2 id="一小提琴的音律"><a class="markdownIt-Anchor" href="#一小提琴的音律"></a> （一）小提琴的音律</h2><p>小提琴是技术性很强的乐器之一，十二平均律、五度相生律和纯律都会出现在小提琴演奏上。根据对一些著名小提琴家的演奏进行测音可知，演奏中的小二度、小三度有缩小的趋势，而大二度、大三度有扩大的趋势，这与五度相生律更加契合。因此总体而言，小提琴演奏中五度相生律占上风，五度相生律对小提琴等弦乐乐器的影响也更深远。但因为现代音乐从业者大多更熟悉十二平均律，在多声部音乐中也有对纯律的需求，所以在小提琴演奏中，十二平均律与纯律也是普遍存在的。在小提琴演奏中合理运用三种律制，既要做到以准确性为基础，又需要进行一些灵活的变通。</p><p>在小提琴和钢琴合奏或小提琴由钢琴伴奏时，小提琴演奏者需要适应钢琴的十二平均律。音乐创造者会尽量避免小提琴等声部和钢琴声部作完整的大音阶或小音阶的齐奏。</p><p>在小提琴等弦乐器中普遍应用“吟音”（vibrato），有时也称为“颤音”，是一种由原音和另一稍高的音迅速变换，产生“波动”的演奏方式。从律学研究的角度来看，吟音波动的平均幅度为50音分（即原音和稍高音的差距），平均变换速度为每秒钟6.5次。</p><h2 id="二声乐的音律"><a class="markdownIt-Anchor" href="#二声乐的音律"></a> （二）声乐的音律</h2><p>声乐上音律的变通性，基本与小提琴相同。合唱训练者一般会要求合唱队员在唱大音程时尽量扩大音程，唱小音程时尽量缩小音程，倾向于五度相生律。若某一段需要纯律的效果，则临时修改为纯律。声乐用钢琴伴奏时，则也需适应钢琴的十二平均律。“吟音”在声乐上有极其广泛的应用，其平均幅度为96音分（接近半音），而平均速度与小提琴相近。</p><h2 id="三钢琴的音律"><a class="markdownIt-Anchor" href="#三钢琴的音律"></a> （三）钢琴的音律</h2><p>钢琴使用十二平均律调音，可应对音乐上移调、转调和变化音的需要。一般认为八度或纯五度的两音结合，产生协和音（完全协和）；大小三度、大小六度的两音结合，产生次协和音（不完全协和）；二度、七度或增减音程结合，产生不协和音。在十二平均律乐器上，因为存在不同音名的音位于乐器上同一位置的情况，即“等音”（enharmonic），造成协和音程与不协和音程的界限模糊不清的问题。例如<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mrow></mrow><mtext> </mtext><mi mathvariant="normal">#</mi></msubsup><mi>d</mi></mrow><annotation encoding="application/x-tex">{_\ ^\# }d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0961079999999999em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord"><span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8491079999999999em;"><span style="top:-2.4530000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mspace mtight"><span class="mtight"> </span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">#</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span><span class="mord mathdefault">d</span></span></span></span>和<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mrow></mrow><mtext> </mtext><mi>b</mi></msubsup><mi>e</mi></mrow><annotation encoding="application/x-tex">{_\ ^b}e</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.096108em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord"><span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-2.4530000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mspace mtight"><span class="mtight"> </span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span><span class="mord mathdefault">e</span></span></span></span>，在钢琴上位于同一个位置，音高相等，但分别与c音构成不协和的增二度与协和的小三度。要解决十二平均律的这个问题，我们不能只看一个音的音高，还要看一个音在调式、音阶与和弦中的地位，以及它与前后音如何联系，才能决定它是何音，发生何种意义。十二平均律中的等音虽然音高相同，但在做理论分析时还应将其进行区分。另外，少数的钢琴会使用中庸全音律进行调音，以演奏一些古典乐曲。</p><h2 id="四管弦乐队的音律"><a class="markdownIt-Anchor" href="#四管弦乐队的音律"></a> （四）管弦乐队的音律</h2><p>管弦乐队是由各类乐器集合而成的综合体，其中的小提琴等弦乐器包含常见的三种律制而偏向五度相生律；各种木管乐器在构造上都应用十二平均律，使用不同的指法和吹法可稍微改变音高以适应其它律制；铜管乐器易于发出纯律的音，但也可适应其它律制。所以尽管各类乐器都具有其中心的律制，但都能在一定限度内进行变通，以适应其它律制。管弦乐队的指挥者可以根据乐曲或乐段的性质来决定使用或偏向某种律制。例如在演奏钢琴协奏曲时使用十二平均律；对于主要使用弦乐器演奏并且曲调性强的乐曲或段落则可以使用五度相生律；对于主要使用铜管乐器演奏并且和声性突出的乐曲或段落则可以使用纯律。</p><p>参考文献：</p><ol><li><p>缪天瑞著，《律学（第三次修订版）》，人民音乐出版社，1996。</p></li><li><p>李玫著，《东西方乐律学研究及发展历程》，中央音乐学院出版社，2006。</p></li><li><p>戴念祖著，《中国物理学史大系·声学史》，湖南教育出版社，2001。</p></li><li><p>李重光著，《基本乐理通用教材》，高等教育出版社，2004。</p></li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;本文修改后出版于《音频音乐与计算机的交融——音频音乐技术2》，谢绝转载。&lt;/p&gt;
&lt;p&gt;音律计算法及三种常见律制介绍见 &lt;a href=&quot;https://wzw21.cn/2020/11/10/lvxue1/&quot;&gt;律学初探（一）&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&quot;六-中国律学简</summary>
      
    
    
    
    <category term="理论知识" scheme="http://wzw21.cn/categories/%E7%90%86%E8%AE%BA%E7%9F%A5%E8%AF%86/"/>
    
    
    <category term="乐理" scheme="http://wzw21.cn/tags/%E4%B9%90%E7%90%86/"/>
    
  </entry>
  
  <entry>
    <title>国外部分音乐人工智能/音乐科技研究机构科研项目简介</title>
    <link href="http://wzw21.cn/2022/02/26/music-ai-tech-group/"/>
    <id>http://wzw21.cn/2022/02/26/music-ai-tech-group/</id>
    <published>2022-02-26T06:34:01.000Z</published>
    <updated>2022-03-16T03:02:36.077Z</updated>
    
    <content type="html"><![CDATA[<p>本文对国外部分音乐人工智能/音乐科技科研机构的科研项目与教学课程设置作简要介绍，包括英国伦敦玛丽女王大学（Queen Mary）的数字音乐中心（C4DM）、西班牙巴塞罗那庞培法布拉大学（UPF）的音乐技术研究组（MTG）、美国斯坦福大学的音乐与声学计算机研究中心（CCRMA）以及法国的声学/音乐协调研究所（IRCAM）。<br />本文写于2021年1月，资料均来自各机构官方网站。</p><h1 id="c4dm"><a class="markdownIt-Anchor" href="#c4dm"></a> C4DM</h1><p>英国伦敦玛丽女王大学的数字音乐中心（Centre for Digital Music，简称C4DM）是一个世界领先的音频音乐技术领域的多学科研究小组。自创始人员于2001年加入玛丽女王大学以来，该中心已发展成为英国首屈一指的数字音乐研究小组。<br />C4DM属于伦敦玛丽女王大学的电子工程与计算机科学学院，其主要的研究领域包括音乐信息检索、音乐信息学、语义音频、音乐语义网、音乐音频数字信号处理、音频工程、机器听觉、声音合成、音乐感知与认知、增强乐器和声音交互设计。</p><h2 id="科研团队与项目"><a class="markdownIt-Anchor" href="#科研团队与项目"></a> 科研团队与项目</h2><p>一、C4DM的智能音频工程研究团队致力于智能录音技术、高级音效、现场声音制作技术、混音格式转换技术以及音频编辑自动化技术的开发，目前招收博士研究生。其主要研究项目包括：</p><ol><li>Web端音频评估工具：可进行基于浏览器的听觉测试；</li><li>开放式多轨测试台：为多轨音频提供单一化、中央化的资源，以便进行浏览、过滤和搜索；</li><li>自动混音：实现实时自动多轨音频制作和混合；</li><li>声音合成：使用算法生成声音，是在电影、多媒体、声音装置和游戏中的重要应用；</li><li>空间音频的制作与再现；</li><li>音频混合反向工程；</li><li>音频瞬态修改；</li><li>现场声源分离；</li><li>手势控制的多声道音频混合；</li><li>智能动态范围压缩；</li></ol><p><a href="http://c4dm.eecs.qmul.ac.uk/audioengineering.html">http://c4dm.eecs.qmul.ac.uk/audioengineering.html</a></p><p>二、C4DM的增强乐器实验室成立于2011年，由Andrew McPherson领导，包括来自C4DM的成员、合作者以及伦敦玛丽女王大学媒体和艺术技术计划的博士生。实验室会定期开展音乐会，以展示乐器、装置和设计等。其主要研究项目包括：</p><ol><li>电磁增强的原声钢琴；</li><li>具有电容式多点触摸感应的钢琴键；</li><li>小提琴手势感应；</li><li>无障碍乐器；</li><li>超低延迟交互式音频的嵌入式平台；</li><li>大型数字乐器设计；</li><li>数字风笛；</li><li>新型弦乐器；<br />……</li></ol><p><a href="http://instrumentslab.org/index.html">http://instrumentslab.org/index.html</a></p><p>三、C4DM的声音交互设计实验室致力于探索从交互艺术到实时数据声音化、可听化的新方法，由Nick Bryan-Kinns教授和Tony Stockman博士领导。声音交互设计是指设计和评估将听觉优先于视觉的交互系统，该实验室主要研究项目包括：</p><ol><li>交互式实时音乐系统；</li><li>交互式数据可听化；</li><li>设计和评估听觉展示的方法；</li><li>音乐作品的交互设计；</li><li>跨知觉模式互动；</li><li>分布式音乐制作系统；</li><li>声音游戏；</li><li>交互式音景；<br />……</li></ol><p><a href="http://isam.eecs.qmul.ac.uk/about.html">http://isam.eecs.qmul.ac.uk/about.html</a></p><p>四、C4DM的机器听觉实验室开发各种方法来理解自然声音、日常声音和录制的音乐。其中，“机器听觉”是利用信号处理和机器学习从声音中提取有用的信息。该实验室由Dan Stowell和Emmanouil Benetos共同领导，成员来自电子工程与计算机科学、生物化学和数学科学三个学院，目前招收博士研究生。其主要研究项目包括：</p><ol><li>用于内容监控的下一代音乐识别算法的开发；</li><li>使用机器学习分析鸟声监测数据；</li><li>数据驱动的数字修复音频档案质量预测；</li><li>用于音频分析和检索的机器学习框架；</li><li>声场分析中的声环境识别；</li><li>复调音乐录音的自动转录；</li><li>音乐信息处理；<br />……</li></ol><p><a href="http://machine-listening.eecs.qmul.ac.uk/">http://machine-listening.eecs.qmul.ac.uk/</a></p><p>五、C4DM的音乐信息学研究团队通过使用数字信号处理、机器学习和语义网来探索智能分析音乐数据的新方法，同时帮助用户找到他们想要的音乐。该团队由Simon Dixon博士领导，目前招收博士研究生。主要研究项目包括：</p><ol><li>Sonic Visualser软件：用于音乐录音的可视化、分析和注释，包括旋律提取、和弦识别、节奏分析等多个功能，是C4DM推出的最为广泛使用的软件工具；</li><li>音乐信息的中层描述符：包括和弦、调式、音符、节拍、音色、结构分段、旋律等；</li><li>音乐信息的高层概念：包括类型、情绪和情感，用于音乐分类、检索和知识发现；</li><li>用于智能编辑的音乐语义分析；</li><li>音频数据和音乐相关信息的连接；</li><li>具有室内脉冲响应的交互式听觉；</li></ol><p><a href="http://c4dm.eecs.qmul.ac.uk/musicinformatics.html">http://c4dm.eecs.qmul.ac.uk/musicinformatics.html</a></p><p>六、C4DM的音乐认知实验室旨在研究人类听众和表演者处理和参与音乐的方式。这项研究跨越了广泛的心理学领域，从低层次的处理过程，如听觉流分离，到高层次的概念，如情感诱导和音乐偏好。该小组利用了广泛的研究范式进行研究，包括计算建模、神经成像和认知心理学，由Marcus Pearce领导。其主要研究项目包括：</p><ol><li>基于概率预测和统计学习的听觉期望计算模型；</li><li>拍手音乐应用：通过基于一种拍手音乐的游戏APP来调查节奏制作能力的学习过程；</li><li>在科学博物馆进行实时科学观察：观察和分析志愿者对各种音乐的看法与认知；</li></ol><p><a href="http://music-cognition.eecs.qmul.ac.uk/">http://music-cognition.eecs.qmul.ac.uk/</a></p><p>七、C4DM的声音合成研究团队使用算法生成声音，包括模拟形式和数字形式，并将合成的声音应用于电影、多媒体、游戏和声音装置。声音合成是一门获取、创造和操纵声音以达到预期效果或情绪的学科，而C4DM的声音合成涉及多个主题，包括音频工程和增强乐器，研究者一方面寻求和发现新的合成技术，另一方面增强现有方法来适应新的应用。主要研究项目包括：</p><ol><li>基于云的实时音效服务：为声音设计师提供基于声音合成的实时音效服务以简化工作流程；</li><li>使用传感器进行游戏音频制作：该项目创建了游戏音频的快速成型环境，将程序音频模型部署到嵌入式硬件上，从而可以使用物理传感器从表演中捕获相应参数；</li><li>基于物理模型的程序音频：开发现实的、可控的、实时的程序音频技术，以使用物理模型来合成声音纹理（例如风和雨）；</li><li>通过感知评估改善声音合成；</li></ol><p><a href="http://c4dm.eecs.qmul.ac.uk/soundsynthesis.html">http://c4dm.eecs.qmul.ac.uk/soundsynthesis.html</a></p><h2 id="教学"><a class="markdownIt-Anchor" href="#教学"></a> 教学</h2><p>AIM（全称UKRI Centre for Doctoral Training in Artificial Intelligence and Music）是伦敦玛丽女王大学和数字音乐中心针对音乐/音频技术和创意产业开办的博士研究生项目，学生将攻读为期四年的博士学位。</p><p>AIM旨在培养将人工智能、机器学习和信号处理最先进的方法与跨学科的艺术感受能力相结合的新一代研究人员，在英国创意产业和文化部门提供突破性的原创研究。每位博士研究生将拥有个性化的研究计划，同时包括专家授课模块、行业实习、技能培训以及与文化合作伙伴共同创作等。<br />AIM的研究重点围绕三个高度整合的主题进行：</p><ol><li>音乐理解：包括机器听觉，智能信号处理以及数据/知识驱动的音乐内容建模与分析方法；</li><li>智能乐器和交互界面：包括用于音乐表演、制作、聆听和教育的嵌入式智能硬件设备以及在创造性环境中的人机交互AI应用；</li><li>计算机创造力：包括生成音乐作品，自动伴奏系统以及用于音乐表演和辅助创作的系统。</li></ol><p>AIM项目分为四个主要部分：</p><ol><li>高级教学模块，1~2年级完成</li><li>行业实习，2~3年级完成</li><li>研究人员发展培训，持续4年</li><li>博士生研究项目，持续4年<br />从第一年开始，将为每位学生制定个人发展计划（PDP），包括教学模块、课程和各类活动。制定时会考虑学生研究主题的主要目标与其学术背景，预计学生将在第一年完成四个核心模块，第二年完成两个专业模块。<br />其中四个核心模块为：机器学习，研究方法与创新，音乐信息学，音乐和音频编程；<br />专业模块包括：音乐感知与认知，音乐与语音建模，大数据处理，录音与制作技术，数字音频效果，音频音乐深度学习，人机交互设计，语义网，计算创意与人工智能；<br />同时提供多个相关模块的商业和企业家课程。<br />PDP将具有足够的灵活性，一方面解决学生学术背景中的空白，另一方面也避免重复修读部分课程。</li></ol><p><a href="https://www.aim.qmul.ac.uk/">https://www.aim.qmul.ac.uk/</a></p><h1 id="mtg"><a class="markdownIt-Anchor" href="#mtg"></a> MTG</h1><p>音乐技术研究组（Music Technology Group，简称MTG）来自巴塞罗那庞培法布拉大学（UPF）的信息与通信技术系（Dept. ICT），主要对音频信号处理，音乐信息检索，音乐接口和计算音乐学等主题进行研究。MTG希望为改善与声音、音乐相关的信息和通信技术做出贡献，在国际层面上开展有竞争力的研究，同时将其成果传递给社会。为此，MTG致力于在基础研究和应用研究之间找到平衡，促进跨学科方法的应用，这些方法应融合科学/技术和人文/艺术学科的知识和方法论。</p><h2 id="科研团队与项目-2"><a class="markdownIt-Anchor" href="#科研团队与项目-2"></a> 科研团队与项目</h2><p>MTG的研究结合科学、技术和艺术方法来理解、建模和生成声音和音乐信号，在许多具有重大社会和经济影响的战略领域做出贡献：</p><ol><li>艺术创作：开发旨在增强人们创造力的工具；</li><li>文化保护：理解，获取和保护世界音乐遗产；</li><li>教育：开发技术来增强音乐实践，从而促进音乐学习；</li><li>身心健康：研究音乐在个人、社交环境以及日常例行活动中作为调节器、感应器、陪伴者或增强器的好处；</li><li>可持续发展：分析、描述和监测声波环境，为保护和改善环境做出贡献。</li></ol><h3 id="mtg的四个实验室"><a class="markdownIt-Anchor" href="#mtg的四个实验室"></a> MTG的四个实验室</h3><p>一、音频信号处理实验室<br />该实验室通过结合信号处理和机器学习方法来进一步理解声音和音乐信号，结合数据驱动和知识驱动的方法，解决与自动音乐描述，音乐推荐以及音乐教育相关的实际问题。由Xavier Serra领导。<br />在数据方面，维护了许多与研究和实际应用相关的语料库，包括Freesound（海量音频数据库）、AcousticBrainz（原始声学信息库）和Dunya，并从中为特定的研究任务创建数据集，例如FSD数据集（用于声音分类），CompMusic数据集（用于音乐分析）。<br />主要的研究项目包括</p><ol><li>Essentia库：包含用于分析各种声音和音乐信号任务的方法与算法，从低级的音频信号表征到高级的分类任务，已广泛用于研究和商业应用；</li><li>MusicCritic：一项用于音乐教育的服务，可评估演奏的音调、节奏和音色；</li><li>Nextcore：新一代音乐监听技术，用于解决音乐版权问题，研究如何对特殊情况下的音乐进行识别，例如录音质量较低、有背景声音或经过Remix的音乐等；</li><li>MusicalBridges：基于音乐理解、计算音乐学来开发交互式工具帮助听众理解和欣赏不同国家地区的音乐文化；</li><li>AudioCommons：音频共享倡议项目，旨在促进开放音频内容的共享使用，并开发技术以支持相应的内容存储库、生产工具和用户音频共享生态系统；</li><li>CompMusic：从各国各地区不同的音乐文化角度应对当前音乐信息研究挑战，用计算手段研究印度音乐，土耳其音乐，中国京剧，北非音乐等；</li><li>DTIC-MdM战略计划：数据驱动的知识提取；</li></ol><p><a href="https://www.upf.edu/web/mtg/audio-signal-processing-lab">https://www.upf.edu/web/mtg/audio-signal-processing-lab</a></p><p>二、音乐信息研究实验室<br />该实验室研究主题为声音和音乐描述，音乐信息检索，歌声合成，声源分离，音乐和音频处理。在MIR领域探究自动生成“描述符”以捕获嵌入在音频信号中的声音或音乐特征。由Emilia Gómez领导。<br />主要的研究项目：</p><ol><li>Trompa：在线音乐公共领域档案馆，通过以用户为中心的共同创造来大规模丰富和普及公共音乐遗产；</li><li>音乐和记忆研究：基于Web，提供对于恢复阿尔茨海默氏症患者日常听力有帮助和对于其治疗有意义的音乐；</li><li>Melodia：旋律提取插件，根据复调音乐信号进行基频估计；</li><li>HPCP：chroma特征提取插件；</li><li>基于深度学习的歌声合成；</li><li>音乐中的歌声与打击乐成分的提取与分析；</li><li>音频与音乐符号自动对齐；<br />……</li></ol><p><a href="https://www.upf.edu/web/mtg/music-information-research-lab">https://www.upf.edu/web/mtg/music-information-research-lab</a></p><p>三、音乐和多模态交互实验室<br />该实验室专注于多模态交互技术的研究以及其在音乐创作中的应用。当前研究结合了人机交互、音乐信息检索、机器学习和生物计算等领域的技术，不仅应用在音乐创作领域，同时涵盖了虚拟现实、教育和健康等横向应用领域。由Sergi Jordà领导。<br />主要的研究项目：</p><ol><li><p>Reactable：一种具有简单直观设计的新型电子乐器，允许表演者通过操纵桌面上的有形物体来控制系统；（该乐器基于半透明的发光圆桌和一些圆盘，通过旋转圆盘并使其相互连接，表演者可以组合出不同的元素，例如合成器，效果器，采样循环等。）</p></li><li><p>reacTIVision：一个开源的跨平台计算机视觉框架，用于快速可靠地跟踪附着在物理对象上的基准标记以及多点触摸手指跟踪；</p></li><li><p>RAPID-MIX：面向音乐，游戏和电子医疗应用的创新人机交互产品；</p></li><li><p>多用户多任务的手势识别</p></li><li><p>用于隐式生理计算的声波交互设计</p></li></ol><p><a href="https://www.upf.edu/web/mtg/music-and-multimodal-interaction-lab">https://www.upf.edu/web/mtg/music-and-multimodal-interaction-lab</a></p><p>四、音乐与机器学习实验室<br />该实验室专注于音乐技术，人工智能，深度学习和神经科学的交叉领域，由Rafael Ramírez领导，其研究兴趣主要在于：</p><ol><li>对音乐表演中的“表达”进行建模：研究在富有表现力的音乐表演中音乐家如何操纵声音属性（例如音高，时值，音色）以诠释和表达出他们对于音乐作品的理解，并对其量化和建模；</li><li>情感与脑机接口：研究音乐与大脑情绪的关系和在人机交互中如何使用音乐改善用户的健康状况和生活质量；</li><li>Future Songwriting：开发数字工具以支持在校学生创作和制作自己的歌曲；</li><li>TIMUL和TELMI：从教学和科学两个角度研究学习乐器的方法，将多模态交互式方法用于音乐训练与学习；</li><li>MUSA：无障碍音乐播放器，由眼动仪或头部跟踪器设备控制音乐的演奏与播放；</li></ol><p><a href="https://www.upf.edu/web/mtg/music-and-machine-learning-lab">https://www.upf.edu/web/mtg/music-and-machine-learning-lab</a></p><p>五、实验室共同参与的项目</p><ol><li>Musical AI：加强对音乐的理解，开发基于AI的模型和工具来帮助听众更深入理解和欣赏音乐，并开发基于AI的模型来帮助音乐学习和音乐创作。该项目主要从以下四点入手：<br />a）混合人机智能：研究在数据驱动的音乐应用中结合人与机器智能的最佳策略，通过以人为中心的人工智能方法提升听觉效果与体验；<br />b）自动发现音乐：基于无监督的方法，从音频信号开始，在不同的语料库中发现表征不同音乐实体(如艺术家、作曲家、形式、风格等)的相关旋律模式；<br />c）由技术增强的音乐学习：基于有监督的方法，发现优秀的音乐表演练习模式，并利用这些模式在学生练习时给予反馈，以促进学习过程；<br />d）辅助人类音乐创作的机器音乐智能：同时适用于专业音乐人和业余爱好者。</li><li>MIP-Frontiers：面向MIR研究人员的跨学科、跨国和跨部门的欧洲培训网络，旨在培训新一代音乐信息处理的研究人员。</li></ol><h2 id="教学-2"><a class="markdownIt-Anchor" href="#教学-2"></a> 教学</h2><p>一、UPF信息与通信技术系 博士：<br />博士学位课程为期3年或4年，学生将接受MTG教员的指导，对声音和音乐计算领域进行系统的了解，学习所需技能和必要的研究方法，从而构思、设计和实施严谨的、个性化的实质性研究计划。</p><p>二、UPF信息与通信技术系 声音与音乐计算硕士：<br />该课程使学生们能够熟练掌握声音与音乐计算的前沿技术，结合了音频信号处理、机器学习、感知与认知、交互系统、计算音乐学和语义技术等研究方向的实践和理论方法，为学生开始研究或职业生涯提供了科学和技术背景。</p><p>三、本科教育：<br />UPF信息与通信技术系的视听系统工程学士学位、计算机工程学士学位和数据科学数学工程学士学位学生，加泰罗尼亚高等音乐学院的声学音乐学士学位学生都可参加MTG的项目和活动。</p><p>四、在线课程：</p><ol><li>Coursera上的“Audio Signal Processing for Music Applications”（用于音乐应用程序的音频信号处理）课程；</li><li>Kadenze上的“North Indian Classical Music”课程；</li><li>Miríadax上的“Cante Flamenco Tech”课程；<br />除上述课程外，还有一些在线教育资料，如Essentia Python教程，用于音乐信息检索的软件工具，分析京剧音乐的计算工具等。</li></ol><p><a href="https://www.upf.edu/web/mtg/education-outreach/education">https://www.upf.edu/web/mtg/education-outreach/education</a></p><h1 id="ccrma"><a class="markdownIt-Anchor" href="#ccrma"></a> CCRMA</h1><p>美国斯坦福大学的音乐与声学计算机研究中心（Center for Computer Research in Music and Acoustics，简称CCRMA）于1975年由John Chowning创建，是一个多学科的研究机构，作曲家和研究人员共同使用计算机技术作为艺术媒介和研究工具。其研究领域包括应用硬件/软件、合成技术与算法、物理建模、音乐与移动设备、传感器与实时控制器、信号处理、数字录音与编辑、心理声学与音乐音响、感知音频编码、音乐信息检索、音频网络等。</p><h2 id="科研团队与项目-3"><a class="markdownIt-Anchor" href="#科研团队与项目-3"></a> 科研团队与项目</h2><p>一、音乐、计算与设计研究小组（M:C:D）：由教师Ge Wang领导，进行音乐、计算、美学和设计的交叉研究，包括以下领域和项目：</p><ol><li>计算机音乐软件系统的创意设计：《Artful Design》；</li><li>编程语言和交互式环境：例如ChucK（一种用于实时声音合成和音乐创作的编程语言）、sndpeek（实时音频可视化平台）、miniAudicle（ChucK语言的轻量级集成开发环境）等；</li><li>社会、人文与认知方面的音乐表达与计算；</li><li>移动音乐/社交音乐：例如手机乐团（MoPhO），使用手机作为主乐器进行合奏，利用现代软硬件独特技术功能，将多点触摸屏、内置加速度计、内置麦克风、GPS、数据网络和计算功能转换为功能强大且可移动的元乐器。</li><li>计算机介导的表演合奏：例如斯坦福笔记本电脑乐团（SLOrk），乐团使用20多台担任不同角色的笔记本电脑进行大型音乐合奏；</li><li>交互式源分离编辑器（ISSE）：使用户可以通过在声音的时-频可视化上进行绘画来执行音源分离的跨平台音频编辑工具；<br />……</li></ol><p><a href="https://ccrma.stanford.edu/groups/mcd/">https://ccrma.stanford.edu/groups/mcd/</a></p><p>二、神经音乐实验室：由Takako Fujioka于2012年牵头建立，研究目标是在基础神经科学、音乐在生命科学和工程中的应用和音乐本身的知识之间建立紧密的联系，研究项目有：</p><ol><li>音乐结构处理：包括和弦、调式、旋律图案等，以及乐谱阅读中的视听处理；</li><li>音乐、语言与情感之间的关系研究；</li><li>听觉节奏的动力学系统建模；</li><li>神经可塑性及其治疗应用：包括对中风康复，人工耳蜗听觉和人类学习弹奏新乐器的研究。</li></ol><p><a href="https://ccrma.stanford.edu/groups/neuromusiclab/">https://ccrma.stanford.edu/groups/neuromusiclab/</a></p><p>三、SoundWIRE研究小组：将互联网网络用作计算机音乐性能、作曲和研究的扩展。研究领域和项目：</p><ol><li>专业品质的低延迟多声道音频流；</li><li>网络可靠性的声音化；</li><li>高品质网络音乐会；</li><li>JackTrip：在因特网上提供高质量音频网络性能的系统。</li></ol><p><a href="https://ccrma.stanford.edu/groups/soundwire/">https://ccrma.stanford.edu/groups/soundwire/</a></p><p>四、其它研究小组与项目</p><ol><li>虚拟现实设计实验室：对音乐的虚拟、增强和混合现实（VR，AR，XR）的巧妙设计进行研究；</li><li>跨媒体性能实验室（IPL）：致力于跨学科艺术的研究与教育；</li><li>音乐的物理交互设计：设计新颖的物理界面和接口来创作音乐；</li><li>音乐参与研究计划（MERI）：开发并整合了多种测量音乐参与度的方法，包括测量大脑皮层反应和与音乐唤醒、情绪反应相关的生理标记，以及分析在线社交网络中用户的音乐相关行为；</li><li>虚拟世界中的音乐（MvW）：研究在虚拟环境中创建和控制音乐的模式和方法；</li><li>音乐历史研究：对1920年以前的大量录音资料进行数字化、编目和记录；</li><li>空间声音研究：从技术、音乐创作和表演的角度研究声音的空间化以及声音扩散；<br />……</li></ol><p><a href="https://ccrma.stanford.edu/groups/">https://ccrma.stanford.edu/groups/</a></p><h2 id="教学-3"><a class="markdownIt-Anchor" href="#教学-3"></a> 教学</h2><p>CCRMA是斯坦福大学音乐系的一部分。该中心开设的课程和研讨会对斯坦福大学注册学生和访问学者开放。</p><p>一、基于计算机的音乐理论与声学博士项目：<br />该项目同时从音乐、计算机科学、电子工程、机械工程和心理学专业招收博士生。若学生对此项目感兴趣，需先向斯坦福大学提交以上某一专业的博士生入学申请，再由CCRMA对其进行评估和筛选。CCRMA不单独招生。<br />该项目必修课程包括：计算机生成声音基础；作曲算法、心理声学和计算音乐；计算机生成音乐研讨会；心理物理学与音乐认知；作曲构图分析；音频信号处理导论（频谱分析与数字滤波器）；浪漫主义晚期到当代的曲目分析。</p><p>二、音乐、科学与技术硕士学位（MA/MST）：<br />该硕士项目为期两年，由45个课程单元组成，课程重点在音乐感知的整合，音乐相关的信号处理与控制器，合成、表演与作曲。该项目是为拥有音乐、工程学或理科学士学位的学生设计的。<br />必修课程包括：CCRMA学术讨论会；计算机生成声音基础；心理物理学与音乐认知；音乐、计算与设计的艺术；音频信号处理导论（频谱分析与数字滤波器）。</p><p>三、本科教育：<br />斯坦福大学音乐系的学生可以选修MST（Music, Science and Technology）的相关课程。</p><p>四、在线课程：</p><ol><li>Physics-based sound synthesis for games and interactive systems（用于游戏和交互系统的基于物理的声音合成）；</li><li>Careers in media technology（媒体技术职业）；</li><li>Audio signal processing for music applications（用于音乐应用程序的音频信号处理），与MTG共同设立的课程；</li><li>Structuring interactive software for digital arts（为数字艺术构建交互式软件）。</li></ol><p>五、部分其它课程：</p><ol><li>计算机音乐的即兴创作和算法性能；</li><li>生物信息学的听觉重映射；</li><li>音乐声学；</li><li>电子音乐的创作和演奏；</li><li>录音技术基础；</li><li>音乐的物理交互设计；</li><li>音乐信息导论；</li><li>配器与音色分析；</li><li>音乐、健康与医学；</li><li>音乐感知与认知；</li><li>时-频音频信号处理；</li><li>听觉和音乐神经科学基础；<br />……</li></ol><p><a href="https://ccrma.stanford.edu/academics">https://ccrma.stanford.edu/academics</a></p><h1 id="ircam"><a class="markdownIt-Anchor" href="#ircam"></a> IRCAM</h1><p>法国的声学/音乐协调研究所（Institute for Research and Coordination in Acoustics/Music，简称IRCAM）由Frank Madlener领导，是世界上最大的同时致力于音乐表达和科学研究的研究中心之一，艺术情感与科技创新的碰撞吸引了超过160位合作者。</p><h2 id="科研团队与项目-4"><a class="markdownIt-Anchor" href="#科研团队与项目-4"></a> 科研团队与项目</h2><p>IRCAM的STMS（Science and Technology of Music and Sound）联合研究实验室由7个小组组成，其研究与活动围绕三个多学科的交叉主题进行组织，分别为声音研讨会、音乐形体和创作动力，涵盖了音乐和声音的整个科学技术领域。</p><p>一、声音系统和信号研究团队（S3AM）：该团队对音频和声学中的声音对象进行理解、再现和发明，重点在于乐器和人声的产生，目标应用涉及科学、艺术、教育和医疗保健领域。研究主题包括：</p><ol><li>乐器声音的物理建模；</li><li>基于物理建模的声音合成；</li><li>非线性系统的识别与控制；</li><li>乐器声学；<br />研究项目有：</li><li>增强乐器与智能乐器；</li><li>Modalys：通过该软件，用户可以基于简单的物理对象（例如弦、管、膜等）创建新的虚拟乐器；</li><li>“绝对蜗牛”调音软件：提供新颖的乐器调音，音准处理以及实时可视化音乐功能；</li><li>实验性机器人平台：用于吹奏铜管乐器的一比一机器人人工嘴；</li></ol><p><a href="http://s3am.ircam.fr/">http://s3am.ircam.fr/</a></p><p>二、声学与认知空间研究团队：该团队主要研究空间化音频的再现技术和分析、合成声场的方法，同时进行基于多感官整合的认知研究，以开发新的交互设备。研究项目有：</p><ol><li>3DR3：室内脉冲响应渲染器，进行空间作品的捕获，混合和3D扩散；</li><li>听觉空间认知：研究不同感官之间的关系与对情感的综合影响；</li><li>声音场景分析；</li><li>双耳空间化声音再现技术；</li><li>SPAT：实时3D音频混合引擎；</li><li>Panoramix：3D音频内容的后期制作工作站；</li></ol><p><a href="https://www.ircam.fr/recherche/equipes-recherche/eac/">https://www.ircam.fr/recherche/equipes-recherche/eac/</a></p><p>三、感知与声音设计研究团队：该团队的研究重点是声音的感知与认知，将来自心理声学、声音信号处理与合成、心理学和认知神经科学的知识整合在一起，围绕声音设计领域的创作和教育活动进行。研究主要集中在环境声音上。<br />研究主题包括：</p><ol><li>多源声音场景的感知；</li><li>复杂声音场景的分析与感知表征；</li><li>声音与交互；</li><li>声音与情感；<br />……<br />研究项目有：</li><li>MICA：通过团体音乐即兴演奏分析音乐互动与感知；</li><li>CREAM：将神经科学方法与信号处理技术结合，把音乐作为一种真正的临床技术，以非侵入性和非药理学的方式刺激特定的神经元回路，以产生或抑制某种情绪；</li><li>LEGOS：基于手势的交互式声音系统中的感觉运动学习；</li><li>ACTIVATE：借助语音技术控制口语对话中的情绪特征；<br />……</li></ol><p><a href="https://www.stms-lab.fr/team/perception-et-design-sonores/">https://www.stms-lab.fr/team/perception-et-design-sonores/</a></p><p>四、声音分析-合成研究团队：该团队开发用于处理数字音频信号的算法，分为四个主题：</p><ol><li>利用数字信号处理和统计学的理论及方法对声音进行分析、表示、变换与合成；</li><li>人类声音的分析、合成与转换；</li><li>使用不同级别的音频特征表示音乐内容；</li><li>基于声源物理模型的声处理；<br />研究项目有：</li><li>ChaNTeR：一个高质量的歌唱声音合成系统，具有可实时控制的数字演唱功能，可以供普通公众使用；</li><li>PHYSIS：为交互式虚拟世界（视频游戏、仿真环境等）和增强现实（AR）提供声音的实时合成与转换；</li><li>AS Annotation：用于分析和注解声音文件的应用程序，包含先进的声音分析算法和专用的声音检查工具；</li><li>Trax：声音转换器，包含多种变声效果和特殊音效；<br />……</li></ol><p><a href="http://anasynth.ircam.fr/home/">http://anasynth.ircam.fr/home/</a></p><p>五、声音音乐运动交互研究团队：对用于音乐和表演的交互系统进行研究与开发。研究主题分为四点：</p><ol><li>声音与手势的建模分析；</li><li>多模态交互工具；</li><li>交互式声音合成与处理；</li><li>手势捕捉与增强乐器系统；<br />研究项目包括：</li><li>SkAT-VG：使用发声和手势的音频绘制技术；</li><li>MusicBricks：为数字音乐创作者打造的音乐构造块；</li><li>RAPID-MIX：与MTG和多个欧洲研究机构合作研发的大型交互系统；<br />……</li></ol><p><a href="http://ismm.ircam.fr/">http://ismm.ircam.fr/</a></p><p>六、音乐表现研究团队：该团队研究音乐的形式结构以及作曲与音乐互动的创造性环境，应用于计算机辅助作曲（CAC）、表演、即兴创作和计算音乐学等。<br />研究项目有：</p><ol><li>OpenMusic：用于计算机辅助作曲或音乐分析的可视化编程环境，包含多个工具、功能和模块；</li><li>Orchids：自动搜索乐器进行乐曲编排的系统，搜索时根据不同的声学相似性标准来接近作曲者定义的目标；</li><li>OMax：使用计算机进行即兴创作的软件，使用了新型的即兴人机音乐交互模式；</li><li>Antescofo：是一个模块化的乐谱跟踪系统，也是一种用于音乐创作的同步编程语言；</li><li>数学与音乐：研究计算音乐学中的代数模型、拓扑与类别，扩充计算音乐中的数学工具，探索古典音乐和流行音乐之间的理论和实践联系；<br />……</li></ol><p><a href="https://www.ircam.fr/recherche/equipes-recherche/repmus/">https://www.ircam.fr/recherche/equipes-recherche/repmus/</a></p><p>七、音乐实践分析研究团队：该团队对构成IRCAM核心的作品和学术实践进行研究，研究主题有：</p><ol><li>作曲分析；</li><li>表演分析；</li><li>现代听力练习；</li><li>音乐学与人文；</li><li>音乐多媒体发布工具；</li></ol><p><a href="https://www.ircam.fr/recherche/equipes-recherche/apm/">https://www.ircam.fr/recherche/equipes-recherche/apm/</a></p><p>注：以上介绍的部分研究项目是由多个研究团队合作完成</p><h2 id="教学-4"><a class="markdownIt-Anchor" href="#教学-4"></a> 教学</h2><p>IRCAM提供了从初学者到专家级别的一系列培训模块，主要分为四个主题：实时交互，声音处理，计算机辅助合成，Web音频。课程对象包括作曲家，音乐家，声音设计师，视频编辑，技术人员，声音工程师，戏剧和后期制作专业人员，教师，学生等。</p><p><a href="https://www.ircam.fr/transmission/">https://www.ircam.fr/transmission/</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;本文对国外部分音乐人工智能/音乐科技科研机构的科研项目与教学课程设置作简要介绍，包括英国伦敦玛丽女王大学（Queen Mary）的数字音乐中心（C4DM）、西班牙巴塞罗那庞培法布拉大学（UPF）的音乐技术研究组（MTG）、美国斯坦福大学的音乐与声学计算机研究中心（CCRMA</summary>
      
    
    
    
    <category term="经验与总结" scheme="http://wzw21.cn/categories/%E7%BB%8F%E9%AA%8C%E4%B8%8E%E6%80%BB%E7%BB%93/"/>
    
    
    <category term="音乐人工智能" scheme="http://wzw21.cn/tags/%E9%9F%B3%E4%B9%90%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/"/>
    
    <category term="音乐科技" scheme="http://wzw21.cn/tags/%E9%9F%B3%E4%B9%90%E7%A7%91%E6%8A%80/"/>
    
    <category term="科研项目" scheme="http://wzw21.cn/tags/%E7%A7%91%E7%A0%94%E9%A1%B9%E7%9B%AE/"/>
    
  </entry>
  
  <entry>
    <title>PyTorch入门程序</title>
    <link href="http://wzw21.cn/2022/02/20/hello-pytorch/"/>
    <id>http://wzw21.cn/2022/02/20/hello-pytorch/</id>
    <published>2022-02-20T12:42:42.000Z</published>
    <updated>2022-06-12T06:36:15.134Z</updated>
    
    <content type="html"><![CDATA[<p>在 <a href="https://www.youtube.com/watch?v=4p0G6tgNLis">PyTorch For Audio and Music Processing</a> 入门代码的基础上添加了一些注释和新的内容，包括：</p><ol><li>Download dataset</li><li>Create data loader</li><li>Build model</li><li>Train</li><li>Save trained model</li><li>Load model</li><li>Predict</li></ol><p>注意，以下代码存在一个小问题：在Pytorch的CrossEntropyLoss()损失函数中，自带了计算Softmax这一步骤，所以在神经网络最后不需要Softmax这一层。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">from</span> torch <span class="keyword">import</span> nn</span><br><span class="line"><span class="keyword">from</span> torch.utils.data <span class="keyword">import</span> DataLoader</span><br><span class="line"><span class="keyword">from</span> torchvision <span class="keyword">import</span> datasets</span><br><span class="line"><span class="keyword">from</span> torchvision.transforms <span class="keyword">import</span> ToTensor</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">download_mnist_datasets</span>():</span></span><br><span class="line">    train_data = datasets.MNIST(</span><br><span class="line">        root=<span class="string">&quot;data&quot;</span>,</span><br><span class="line">        download=<span class="literal">True</span>,</span><br><span class="line">        train=<span class="literal">True</span>,</span><br><span class="line">        transform=ToTensor() </span><br><span class="line">    )</span><br><span class="line">    val_data = datasets.MNIST(</span><br><span class="line">        root=<span class="string">&quot;data&quot;</span>,</span><br><span class="line">        download=<span class="literal">True</span>,</span><br><span class="line">        train=<span class="literal">False</span>,</span><br><span class="line">        transform=ToTensor() </span><br><span class="line">    )</span><br><span class="line">    <span class="keyword">return</span> train_data, val_data</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SimpleNet</span>(<span class="params">nn.Module</span>):</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span> <span class="comment"># constructor</span></span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line">        self.flatten = nn.Flatten()</span><br><span class="line">        self.dense_layers = nn.Sequential(</span><br><span class="line">            nn.Linear(<span class="number">28</span>*<span class="number">28</span>, <span class="number">256</span>), <span class="comment"># Fully Connected layer (input_shape, output_shape)</span></span><br><span class="line">            nn.ReLU(),</span><br><span class="line">            nn.Linear(<span class="number">256</span>, <span class="number">10</span>)</span><br><span class="line">        )</span><br><span class="line">        self.softmax = nn.Softmax(dim=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">forward</span>(<span class="params">self, input_data</span>):</span></span><br><span class="line">        flattened_data = self.flatten(input_data)</span><br><span class="line">        logits = self.dense_layers(flattened_data) <span class="comment"># logits here means the input of the final softmax</span></span><br><span class="line">        predictions = self.softmax(logits)</span><br><span class="line">        <span class="keyword">return</span> predictions</span><br></pre></td></tr></table></figure><p>Need more code than Tensorflow 2.x or Keras!</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">train_one_epoch</span>(<span class="params">model, data_loader, loss_fn, optimizer, device</span>):</span></span><br><span class="line">    model.train() <span class="comment"># change to train mode</span></span><br><span class="line">    loss_sum = <span class="number">0.</span></span><br><span class="line">    correct = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> inputs, targets <span class="keyword">in</span> data_loader:</span><br><span class="line">        inputs, targets = inputs.to(device), targets.to(device)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># calculate loss</span></span><br><span class="line">        predictions = model(inputs) <span class="comment"># this will call forward function automatically</span></span><br><span class="line">        loss = loss_fn(predictions, targets)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># backpropagate loss and update weights</span></span><br><span class="line">        optimizer.zero_grad() <span class="comment"># reset grads</span></span><br><span class="line">        loss.backward() <span class="comment"># calculate grads</span></span><br><span class="line">        optimizer.step() <span class="comment"># update weights</span></span><br><span class="line"></span><br><span class="line">        loss_sum += loss.item() <span class="comment"># item() returns the value of this tensor as a standard Python number</span></span><br><span class="line">      </span><br><span class="line">        <span class="keyword">with</span> torch.no_grad():</span><br><span class="line">            _, predictions_indexes = torch.<span class="built_in">max</span>(predictions, <span class="number">1</span>) <span class="comment"># get predicted indexes</span></span><br><span class="line">            correct += torch.<span class="built_in">sum</span>(predictions_indexes == targets)</span><br><span class="line">            <span class="comment"># or correct += (predictions.argmax(1) == targets).type(torch.float).sum().item()</span></span><br><span class="line"></span><br><span class="line">    print(<span class="string">f&quot;Train loss: <span class="subst">&#123;(loss_sum / <span class="built_in">len</span>(data_loader)):<span class="number">.4</span>f&#125;</span>, train accuracy: <span class="subst">&#123;(correct / <span class="built_in">len</span>(data_loader.dataset)):<span class="number">.4</span>f&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">val_one_epoch</span>(<span class="params">model, data_loader, loss_fn, device</span>):</span></span><br><span class="line">    model.<span class="built_in">eval</span>() <span class="comment"># change to eval mode</span></span><br><span class="line">    loss_sum = <span class="number">0.</span></span><br><span class="line">    correct = <span class="number">0</span></span><br><span class="line">    <span class="keyword">with</span> torch.no_grad():</span><br><span class="line">        <span class="keyword">for</span> inputs, targets <span class="keyword">in</span> data_loader:</span><br><span class="line">            inputs, targets = inputs.to(device), targets.to(device)</span><br><span class="line"></span><br><span class="line">            predictions = model(inputs)</span><br><span class="line">            loss = loss_fn(predictions, targets)</span><br><span class="line"></span><br><span class="line">            loss_sum += loss.item()</span><br><span class="line">            _, predictions_indexes = torch.<span class="built_in">max</span>(predictions, <span class="number">1</span>)</span><br><span class="line">            correct += torch.<span class="built_in">sum</span>(predictions_indexes == targets)</span><br><span class="line"></span><br><span class="line">    print(<span class="string">f&quot;Validation loss: <span class="subst">&#123;(loss_sum / <span class="built_in">len</span>(data_loader)):<span class="number">.4</span>f&#125;</span>, validation accuracy: <span class="subst">&#123;(correct / <span class="built_in">len</span>(data_loader.dataset)):<span class="number">.4</span>f&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">train</span>(<span class="params">model, train_data_loader, val_data_loader, loss_fn, optimizer, device, epochs</span>):</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(epochs):</span><br><span class="line">        print(<span class="string">f&quot;Epoch <span class="subst">&#123;i+<span class="number">1</span>&#125;</span>&quot;</span>)</span><br><span class="line">        train_one_epoch(model, train_data_loader, loss_fn, optimizer, device)</span><br><span class="line">        val_one_epoch(model, val_data_loader, loss_fn, device)</span><br><span class="line">        print(<span class="string">&quot;-----------------------&quot;</span>)</span><br><span class="line">    print(<span class="string">&quot;Training is done&quot;</span>)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">predict</span>(<span class="params">model, <span class="built_in">input</span>, target, class_mapping</span>):</span></span><br><span class="line">    <span class="comment"># input&#x27;s shape = torch.Size([1, 28, 28])</span></span><br><span class="line">    model.<span class="built_in">eval</span>() <span class="comment"># change to eval mode</span></span><br><span class="line">    <span class="keyword">with</span> torch.no_grad(): <span class="comment"># don&#x27;t have to calculate grads here</span></span><br><span class="line">        predictions = model(<span class="built_in">input</span>)</span><br><span class="line">        <span class="comment"># predictions&#x27; shape = torch.Size([1, 10])</span></span><br><span class="line">        predicted_index = predictions[<span class="number">0</span>].argmax(<span class="number">0</span>)</span><br><span class="line">        predicted = class_mapping[predicted_index]</span><br><span class="line">        expected = class_mapping[target]</span><br><span class="line">    <span class="keyword">return</span> predicted, expected</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> torch.cuda.is_available():</span><br><span class="line">    device = <span class="string">&quot;cuda&quot;</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    device = <span class="string">&quot;cpu&quot;</span></span><br><span class="line">print(<span class="string">f&quot;Using <span class="subst">&#123;device&#125;</span> device&quot;</span>)</span><br><span class="line"></span><br><span class="line">BATCH_SIZE = <span class="number">32</span></span><br><span class="line">EPOCHS = <span class="number">10</span></span><br><span class="line">LEARNING_RATE = <span class="number">.001</span></span><br><span class="line"></span><br><span class="line">class_mapping = [</span><br><span class="line">    <span class="string">&quot;0&quot;</span>,</span><br><span class="line">    <span class="string">&quot;1&quot;</span>,</span><br><span class="line">    <span class="string">&quot;2&quot;</span>,</span><br><span class="line">    <span class="string">&quot;3&quot;</span>,</span><br><span class="line">    <span class="string">&quot;4&quot;</span>,</span><br><span class="line">    <span class="string">&quot;5&quot;</span>,</span><br><span class="line">    <span class="string">&quot;6&quot;</span>,</span><br><span class="line">    <span class="string">&quot;7&quot;</span>,</span><br><span class="line">    <span class="string">&quot;8&quot;</span>,</span><br><span class="line">    <span class="string">&quot;9&quot;</span></span><br><span class="line">]</span><br></pre></td></tr></table></figure><pre><code>Using cuda device</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># download MNIST dataset</span></span><br><span class="line">train_data, val_data = download_mnist_datasets()</span><br><span class="line">print(<span class="string">&quot;Dataset downloaded&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># create a data loader for the train set</span></span><br><span class="line">train_data_loader = DataLoader(train_data, batch_size=BATCH_SIZE)</span><br><span class="line">val_data_loader = DataLoader(val_data, batch_size=BATCH_SIZE)</span><br></pre></td></tr></table></figure><pre><code>Dataset downloaded</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># build model</span></span><br><span class="line">simple_net = SimpleNet().to(device)</span><br><span class="line"></span><br><span class="line">loss_fn = nn.CrossEntropyLoss()</span><br><span class="line">optimizer = torch.optim.Adam(simple_net.parameters(), lr=LEARNING_RATE)</span><br><span class="line"></span><br><span class="line"><span class="comment"># train model</span></span><br><span class="line">train(simple_net, train_data_loader, val_data_loader, loss_fn, optimizer, device, EPOCHS)</span><br><span class="line"></span><br><span class="line"><span class="comment"># save model</span></span><br><span class="line">torch.save(simple_net.state_dict(), <span class="string">&quot;simple_net.pth&quot;</span>)</span><br><span class="line">print(<span class="string">&quot;Model saved&quot;</span>)</span><br><span class="line"><span class="comment"># torch.save(model.state_dict(), &quot;my_model.pth&quot;)  # only save parameters</span></span><br><span class="line"><span class="comment"># torch.save(model, &quot;my_model.pth&quot;)  # save the whole model</span></span><br><span class="line"><span class="comment"># checkpoint = &#123;&quot;net&quot;: model.state_dict(), &quot;optimizer&quot;: optimizer.state_dict(), &quot;epoch&quot;: epoch&#125;</span></span><br></pre></td></tr></table></figure><pre><code>Epoch 1Train loss: 1.5717, train accuracy: 0.9036Validation loss: 1.5280, validation accuracy: 0.9388-----------------------Epoch 2Train loss: 1.5148, train accuracy: 0.9506Validation loss: 1.5153, validation accuracy: 0.9507-----------------------Epoch 3Train loss: 1.5008, train accuracy: 0.9629Validation loss: 1.5016, validation accuracy: 0.9625-----------------------Epoch 4Train loss: 1.4924, train accuracy: 0.9707Validation loss: 1.4958, validation accuracy: 0.9680-----------------------Epoch 5Train loss: 1.4871, train accuracy: 0.9760Validation loss: 1.4919, validation accuracy: 0.9702-----------------------Epoch 6Train loss: 1.4837, train accuracy: 0.9789Validation loss: 1.4884, validation accuracy: 0.9742-----------------------Epoch 7Train loss: 1.4811, train accuracy: 0.9814Validation loss: 1.4885, validation accuracy: 0.9736-----------------------Epoch 8Train loss: 1.4787, train accuracy: 0.9837Validation loss: 1.4896, validation accuracy: 0.9724-----------------------Epoch 9Train loss: 1.4771, train accuracy: 0.9851Validation loss: 1.4884, validation accuracy: 0.9739-----------------------Epoch 10Train loss: 1.4758, train accuracy: 0.9863Validation loss: 1.4889, validation accuracy: 0.9732-----------------------Training is doneModel saved</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># load model</span></span><br><span class="line">reloaded_simple_net = SimpleNet()</span><br><span class="line">state_dict = torch.load(<span class="string">&quot;simple_net.pth&quot;</span>)</span><br><span class="line">reloaded_simple_net.load_state_dict(state_dict)</span><br><span class="line"></span><br><span class="line"><span class="comment"># make an inference</span></span><br><span class="line"><span class="built_in">input</span>, target = val_data[<span class="number">0</span>][<span class="number">0</span>], val_data[<span class="number">0</span>][<span class="number">1</span>]</span><br><span class="line">predicted, expected = predict(reloaded_simple_net, <span class="built_in">input</span>, target, class_mapping)</span><br><span class="line">print(<span class="string">f&quot;Predicted: &#x27;<span class="subst">&#123;predicted&#125;</span>&#x27;, expected: &#x27;<span class="subst">&#123;expected&#125;</span>&#x27;&quot;</span>)</span><br></pre></td></tr></table></figure><pre><code>Predicted: '7', expected: '7'</code></pre>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;在 &lt;a href=&quot;https://www.youtube.com/watch?v=4p0G6tgNLis&quot;&gt;PyTorch For Audio and Music Processing&lt;/a&gt; 入门代码的基础上添加了一些注释和新的内容，包括：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;</summary>
      
    
    
    
    <category term="操作步骤与实践" scheme="http://wzw21.cn/categories/%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%AA%A4%E4%B8%8E%E5%AE%9E%E8%B7%B5/"/>
    
    
    <category term="Pytorch" scheme="http://wzw21.cn/tags/Pytorch/"/>
    
  </entry>
  
  <entry>
    <title>音乐速度与节拍估计（二）教程阅读笔记</title>
    <link href="http://wzw21.cn/2022/02/14/tempo-tutorial-notes/"/>
    <id>http://wzw21.cn/2022/02/14/tempo-tutorial-notes/</id>
    <published>2022-02-14T15:44:03.000Z</published>
    <updated>2022-02-15T08:33:16.521Z</updated>
    
    <content type="html"><![CDATA[<p>ISMIR 2021 速度、节拍与强拍估计教程阅读笔记</p><p>教程链接： <a href="https://tempobeatdownbeat.github.io/tutorial/intro.html">Tempo, Beat, and Downbeat Estimation — Tempo, Beat and Downbeat Estimation (tempobeatdownbeat.github.io)</a></p><h1 id="annotate"><a class="markdownIt-Anchor" href="#annotate"></a> Annotate</h1><p>自动标注 + 自动修正 + 人工修正</p><h1 id="baseline"><a class="markdownIt-Anchor" href="#baseline"></a> Baseline</h1><p>See <a href="https://wzw21.cn/2022/02/04/tempo-baseline">音乐速度与节拍估计基本方法 | WiZardWen (wzw21.cn)</a></p><h1 id="evaluate"><a class="markdownIt-Anchor" href="#evaluate"></a> Evaluate</h1><h2 id="f-measure"><a class="markdownIt-Anchor" href="#f-measure"></a> F-measure</h2><ul><li>将节拍估计问题视为二分类问题来进行评估</li><li>Typically use a tolerance window of +/- 70ms around each ground truth annotation.</li><li>使用 F-measure 的好处：Catch either: i) natural human variation in tapping and not punish it, or ii) contend with cases like arpeggiated chords where it’s difficult to mark a single beat location.</li><li>计算方式</li></ul><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>P</mi><mi>r</mi><mi>e</mi><mi>c</mi><mi>i</mi><mi>s</mi><mi>i</mi><mi>o</mi><mi>n</mi><mo>=</mo><mfrac><mrow><mi>T</mi><mi>P</mi></mrow><mrow><mi>T</mi><mi>P</mi><mo>+</mo><mi>F</mi><mi>P</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">Precision = \frac {TP} {TP + FP}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">i</span><span class="mord mathdefault">s</span><span class="mord mathdefault">i</span><span class="mord mathdefault">o</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.1296600000000003em;vertical-align:-0.7693300000000001em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.36033em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693300000000001em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>R</mi><mi>e</mi><mi>c</mi><mi>a</mi><mi>l</mi><mi>l</mi><mo>=</mo><mfrac><mrow><mi>T</mi><mi>P</mi></mrow><mrow><mi>T</mi><mi>P</mi><mo>+</mo><mi>F</mi><mi>N</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">Recall = \frac {TP} {TP + FN}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.1296600000000003em;vertical-align:-0.7693300000000001em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.36033em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693300000000001em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>F</mi><mi>m</mi><mi>e</mi><mi>a</mi><mi>s</mi><mi>u</mi><mi>r</mi><mi>e</mi><mo>=</mo><mo stretchy="false">(</mo><mn>1</mn><mo>+</mo><msup><mi>β</mi><mn>2</mn></msup><mo stretchy="false">)</mo><mo>⋅</mo><mfrac><mrow><mi>P</mi><mi>r</mi><mi>e</mi><mi>c</mi><mi>i</mi><mi>s</mi><mi>i</mi><mi>o</mi><mi>n</mi><mo>⋅</mo><mi>R</mi><mi>e</mi><mi>c</mi><mi>a</mi><mi>l</mi><mi>l</mi></mrow><mrow><msup><mi>β</mi><mn>2</mn></msup><mo>⋅</mo><mi>P</mi><mi>r</mi><mi>e</mi><mi>c</mi><mi>i</mi><mi>s</mi><mi>i</mi><mi>o</mi><mi>n</mi><mo>+</mo><mi>R</mi><mi>e</mi><mi>c</mi><mi>a</mi><mi>l</mi><mi>l</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">Fmeasure=(1+\beta ^2)\cdot \frac {Precision\cdot Recall} {\beta^2\cdot Precision + Recall}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="mord mathdefault">m</span><span class="mord mathdefault">e</span><span class="mord mathdefault">a</span><span class="mord mathdefault">s</span><span class="mord mathdefault">u</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">e</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.1141079999999999em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05278em;">β</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:2.25188em;vertical-align:-0.8804400000000001em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.05278em;">β</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.740108em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">i</span><span class="mord mathdefault">s</span><span class="mord mathdefault">i</span><span class="mord mathdefault">o</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">i</span><span class="mord mathdefault">s</span><span class="mord mathdefault">i</span><span class="mord mathdefault">o</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8804400000000001em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><h2 id="cemgils-method"><a class="markdownIt-Anchor" href="#cemgils-method"></a> Cemgil’s method</h2><ul><li>使用高斯分布作为分值来进行评估</li><li>将 F-measure 与 Cemgil 结合使用，F-measure 反映所估计节拍的 metrical level and phase，Cemgil 则反映节拍位置是否正确（更精确）</li></ul><h2 id="continuity-based-method"><a class="markdownIt-Anchor" href="#continuity-based-method"></a> Continuity-based method</h2><ul><li>Consider beat <em>i</em> to be accurate if it falls within the tolerance window and that beat <em>i-1</em> also falls within its respective tolerance window.</li><li>CMLc: “correct” (i.e., annotated) metrical level, with longest single continous segment.</li><li>CMLt: “correct” (i.e., annotated) metrical level, with the total of continous segments.</li><li>AMLc: “allowed” metrical levels, with longest single continous segment.</li><li>AMLt: “allowed” metrical levels, with the total of continous segments.</li><li>Metrical level 包括<ul><li>The same metrical level and “in-phase”</li><li>The same metrical level, but tapped on the “off-beat”</li><li>Twice the annotated metrical level</li><li>Half the annotated metrical level （两种）</li></ul></li></ul><h2 id="others"><a class="markdownIt-Anchor" href="#others"></a> Others</h2><ul><li>评估方法的选择</li><li>拓展到 Tempo 和 Downbeat</li></ul><h1 id="theoretical-underpinnings"><a class="markdownIt-Anchor" href="#theoretical-underpinnings"></a> Theoretical Underpinnings</h1><p>General pipeline commonly used for beat and/or downbeat tracking systems: feature extraction -&gt; likelihood estimation -&gt; post-processing.</p><h2 id="feature-extraction"><a class="markdownIt-Anchor" href="#feature-extraction"></a> Feature extraction</h2><ul><li>Three most explored categories of musically inspired features<ul><li>Chroma (CH), reflect the harmonic content of the signal</li><li>Onset detection function (ODF) or spectral flux (SF), event-oriented indicators</li><li>Spectral coefficients or MFCCs, timbre inspired features</li></ul></li><li>Combinations of logarithmic spectrograms with <strong>different resolutions</strong> (recently)</li></ul><h2 id="likelihood-estimation"><a class="markdownIt-Anchor" href="#likelihood-estimation"></a> Likelihood estimation</h2><ul><li>Heuristics method or traditional machine learning method<ul><li>Template</li><li>GMM, k-means: recognize rhythm patterns</li><li>Limitation: need assumptions of style or genre</li></ul></li><li>Deep learning method</li></ul><h2 id="inference-post-processing"><a class="markdownIt-Anchor" href="#inference-post-processing"></a> Inference (post-processing)</h2><ul><li>Obtain the final downbeat sequence</li><li>Most used: Probabilistic graphical models (PGMs)<ul><li>PGMs are a set of probabilistic models that express conditional dependencies between random variables as a graph.</li><li>Directed or Undirected</li></ul></li></ul><h2 id="pros-and-cons-of-dl"><a class="markdownIt-Anchor" href="#pros-and-cons-of-dl"></a> Pros and Cons of DL</h2><ul><li>Flexible and adaptable across tasks</li><li>Remove the stage of hand-crafted feature design</li><li>Dependence on annotated data</li><li>Bias of the data</li><li>Lack of interpretability</li></ul><h2 id="dnn-的各种结构"><a class="markdownIt-Anchor" href="#dnn-的各种结构"></a> DNN 的各种结构</h2><ul><li>包括 MLP、CNN、RNN、GRU、双向 RNN 的简单介绍</li><li>TCN:<ul><li>Uses dilated convolutions which enable exponentially large receptive fields</li><li>Good at learning sequential/temporal structure</li><li>Handle more context while retain the parallelisation property of CNN</li><li>Trained more efficiently than RNN, LSTM or GRU</li></ul></li></ul><h1 id="unfinished"><a class="markdownIt-Anchor" href="#unfinished"></a> Unfinished</h1>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ISMIR 2021 速度、节拍与强拍估计教程阅读笔记&lt;/p&gt;
&lt;p&gt;教程链接： &lt;a href=&quot;https://tempobeatdownbeat.github.io/tutorial/intro.html&quot;&gt;Tempo, Beat, and Downbeat Esti</summary>
      
    
    
    
    <category term="理论知识" scheme="http://wzw21.cn/categories/%E7%90%86%E8%AE%BA%E7%9F%A5%E8%AF%86/"/>
    
    
    <category term="MIR" scheme="http://wzw21.cn/tags/MIR/"/>
    
  </entry>
  
  <entry>
    <title>去除来必力（Livere）附带广告</title>
    <link href="http://wzw21.cn/2022/02/06/rm-ad/"/>
    <id>http://wzw21.cn/2022/02/06/rm-ad/</id>
    <published>2022-02-06T05:33:46.000Z</published>
    <updated>2022-02-07T04:11:51.220Z</updated>
    
    <content type="html"><![CDATA[<h1 id="去除来必力livere评论系统附带韩文广告的两种方法"><a class="markdownIt-Anchor" href="#去除来必力livere评论系统附带韩文广告的两种方法"></a> 去除来必力（Livere）评论系统附带韩文广告的两种方法</h1><h2 id="方法一添加css代码"><a class="markdownIt-Anchor" href="#方法一添加css代码"></a> 方法一：添加CSS代码</h2><p>在css文件（e.g. normalize.min.css）中添加如下代码</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.trc_rbox_container</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: none <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>添加后需要hexo clean</p><h2 id="方法二添加js代码"><a class="markdownIt-Anchor" href="#方法二添加js代码"></a> 方法二：添加JS代码</h2><p>在js/pug文件（e.g. livere.pug）中添加如下代码</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">script.</span><br><span class="line">  <span class="keyword">var</span> intervalFunctionID = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; myTimer() &#125;, <span class="number">1000</span>);</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">myTimer</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="built_in">document</span>.getElementById(<span class="string">&quot;taboola-livere&quot;</span>) != <span class="literal">null</span>)</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">document</span>.getElementById(<span class="string">&quot;taboola-livere&quot;</span>).style.display == <span class="string">&quot;none&quot;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="comment">//alert(&quot;Interval function stopped&quot;);</span></span><br><span class="line">          <span class="built_in">clearInterval</span>(intervalFunctionID);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="built_in">document</span>.getElementById(<span class="string">&quot;taboola-livere&quot;</span>).style.display=<span class="string">&quot;none&quot;</span>;</span><br><span class="line">      <span class="comment">//alert(&quot;Interval function running&quot;);</span></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>Ref:</p><ul><li><a href="https://my-youth.cn/2022/01/28/yin-cang-lai-bi-li-guang-gao/">https://my-youth.cn/2022/01/28/yin-cang-lai-bi-li-guang-gao/</a></li><li><a href="https://blog.jiejiss.com/LiveRe%E8%AF%84%E8%AE%BA%E5%9C%A8hexo-theme-even%E4%B8%8B%E5%81%B6%E5%8F%91%E6%B6%88%E5%A4%B1%E9%97%AE%E9%A2%98/">https://blog.jiejiss.com/LiveRe评论在hexo-theme-even下偶发消失问题/</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;去除来必力livere评论系统附带韩文广告的两种方法&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#去除来必力livere评论系统附带韩文广告的两种方法&quot;&gt;&lt;/a&gt; 去除来必力（Livere）评论系统附带韩文广告的两种方法&lt;/h1&gt;
&lt;</summary>
      
    
    
    
    <category term="网页与前端" scheme="http://wzw21.cn/categories/%E7%BD%91%E9%A1%B5%E4%B8%8E%E5%89%8D%E7%AB%AF/"/>
    
    
    <category term="博客相关" scheme="http://wzw21.cn/tags/%E5%8D%9A%E5%AE%A2%E7%9B%B8%E5%85%B3/"/>
    
  </entry>
  
  <entry>
    <title>音乐速度与节拍估计（一）基本方法</title>
    <link href="http://wzw21.cn/2022/02/04/tempo-baseline/"/>
    <id>http://wzw21.cn/2022/02/04/tempo-baseline/</id>
    <published>2022-02-04T08:58:28.000Z</published>
    <updated>2022-06-24T05:59:03.444Z</updated>
    
    <content type="html"><![CDATA[<h1 id="使用librosa库对音乐速度-节拍进行估计的基本方法"><a class="markdownIt-Anchor" href="#使用librosa库对音乐速度-节拍进行估计的基本方法"></a> 使用Librosa库对音乐速度、节拍进行估计的基本方法</h1><p>参考：<a href="https://tempobeatdownbeat.github.io/tutorial/ch2_basics/baseline.html">https://tempobeatdownbeat.github.io/tutorial/ch2_basics/baseline.html</a></p><h2 id="基本设置"><a class="markdownIt-Anchor" href="#基本设置"></a> 基本设置</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> librosa</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> librosa.display</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mount = <span class="literal">False</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> google.colab <span class="keyword">import</span> drive</span><br><span class="line">drive.mount(<span class="string">&#x27;/content/drive&#x27;</span>)</span><br><span class="line"><span class="comment"># drive._mount(&#x27;/content/drive&#x27;) # failed on Jan 21st, 2022</span></span><br><span class="line">mount = <span class="literal">True</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> mount == <span class="literal">True</span>:</span><br><span class="line">  filename = <span class="string">&quot;drive/MyDrive/data/tempo_tutorial/audio/book_assets_ch2_basics_audio_easy_example&quot;</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">  filename = <span class="string">&quot;book_assets_ch2_basics_audio_easy_example&quot;</span></span><br><span class="line">sr = <span class="number">44100</span></span><br><span class="line">fps = <span class="number">100</span></span><br><span class="line">hop_length = <span class="built_in">int</span>(librosa.time_to_samples(<span class="number">1.</span>/fps,sr=sr)) <span class="comment"># 441</span></span><br><span class="line"><span class="comment"># this Calculation is new to me</span></span><br><span class="line">n_fft = <span class="number">2048</span></span><br><span class="line"><span class="comment"># length of fft window</span></span><br><span class="line">fmin = <span class="number">27.5</span></span><br><span class="line">fmax = <span class="number">17000.</span></span><br><span class="line">n_mels = <span class="number">80</span></span><br><span class="line"><span class="comment"># number of Mel bands to generate</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">y, sr = librosa.load(filename+<span class="string">&quot;.flac&quot;</span>, sr=sr)</span><br></pre></td></tr></table></figure><h2 id="时频特征mel-spectrogram"><a class="markdownIt-Anchor" href="#时频特征mel-spectrogram"></a> 时频特征（Mel-Spectrogram）</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Mel-spectrogram</span></span><br><span class="line">mel_spec = librosa.feature.melspectrogram(y, sr=sr, n_fft=n_fft,</span><br><span class="line">                      hop_length=hop_length,</span><br><span class="line">                      fmin=fmin, fmax=fmax,</span><br><span class="line">                      n_mels=n_mels)</span><br><span class="line"><span class="comment"># melspectrogram&#x27;s defult parameters</span></span><br><span class="line"><span class="comment"># fmax = sr / 2</span></span><br><span class="line"><span class="comment"># win_length = n_fft</span></span><br><span class="line"><span class="comment"># power = 2 # exponent for the magnitude melspectrogram. e.g., 1 for energy, 2 for power, etc.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># If a time-series input y, sr is provided, then its magnitude spectrogram S is first computed, and then mapped onto the mel scale by mel_f.dot(S**power).</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">fig, ax = plt.subplots(nrows=<span class="number">2</span>, sharex=<span class="literal">True</span>, figsize=(<span class="number">14</span>,<span class="number">6</span>))</span><br><span class="line">librosa.display.waveplot(y, sr=sr, alpha=<span class="number">0.6</span>, ax=ax[<span class="number">0</span>])</span><br><span class="line"><span class="comment"># alpha controls the color transparency</span></span><br><span class="line">ax[<span class="number">0</span>].set_title(<span class="string">&#x27;Audio waveform&#x27;</span>, fontsize=<span class="number">15</span>)</span><br><span class="line">ax[<span class="number">0</span>].label_outer()</span><br><span class="line"><span class="comment"># only show &quot;outer&quot; labels and tick labels</span></span><br><span class="line"></span><br><span class="line">librosa.display.specshow(librosa.power_to_db(mel_spec, ref=np.<span class="built_in">max</span>), <span class="comment"># convert a power spectrogram (amplitude(?) squared) to decibel (dB) units</span></span><br><span class="line">            y_axis=<span class="string">&#x27;mel&#x27;</span>, x_axis=<span class="string">&#x27;time&#x27;</span>, sr=sr,</span><br><span class="line">            hop_length=hop_length, fmin=fmin, fmax=fmax,</span><br><span class="line">            ax=ax[<span class="number">1</span>])</span><br><span class="line">ax[<span class="number">1</span>].set_title(<span class="string">&#x27;Mel Spectrogram&#x27;</span>, fontsize=<span class="number">15</span>)</span><br><span class="line">ax[<span class="number">1</span>].label_outer()</span><br></pre></td></tr></table></figure><p><img src="/images/tempo_baseline/tempo_tutorial_6_0.png" alt="png" /></p><h2 id="中层特征spectral-flux"><a class="markdownIt-Anchor" href="#中层特征spectral-flux"></a> 中层特征（Spectral Flux）</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Mid-level Representation (Spectral Flux)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Onset strength at time t is determined by:</span></span><br><span class="line"><span class="comment"># mean_f max(0, S[f, t] - ref[f, t - lag])</span></span><br><span class="line"><span class="comment"># where ref is S after local max filtering along the frequency axis.</span></span><br><span class="line"></span><br><span class="line">S = mel_spec <span class="comment"># pre-computed (log-power) spectrogram</span></span><br><span class="line">lag = <span class="number">2</span> <span class="comment"># time lag for computing differences</span></span><br><span class="line">max_size = <span class="number">3</span> <span class="comment"># size (in frequency bins) of the local max filter， set to 1 to disable filtering</span></span><br><span class="line">spectral_flux = librosa.onset.onset_strength(S=librosa.power_to_db(S, ref=np.<span class="built_in">max</span>),</span><br><span class="line">                        sr=sr, hop_length=hop_length,</span><br><span class="line">                        lag=lag, max_size=max_size)</span><br><span class="line"><span class="comment"># Compute a spectral flux onset strength envelope</span></span><br><span class="line"></span><br><span class="line">times = librosa.frames_to_time(np.arange(<span class="built_in">len</span>(spectral_flux)),</span><br><span class="line">                 sr=sr, hop_length=hop_length)</span><br><span class="line"><span class="comment"># or librosa.times_like(spectral_flux, sr=sr, hop_length=hop_length)</span></span><br><span class="line"></span><br><span class="line">plt.figure(figsize=(<span class="number">14</span>, <span class="number">3</span>))</span><br><span class="line">plt.plot(times, spectral_flux, label=<span class="string">&quot;Spectral flux&quot;</span>)</span><br><span class="line">plt.title(<span class="string">&quot;Spectral flux&quot;</span>)</span><br><span class="line">plt.legend() <span class="comment"># show legend</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="/images/tempo_baseline/tempo_tutorial_7_0.png" alt="png" /></p><h2 id="速度估计autocorrelation"><a class="markdownIt-Anchor" href="#速度估计autocorrelation"></a> 速度估计（Autocorrelation）</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Periodicity Detection and Tempogram</span></span><br><span class="line"></span><br><span class="line">fig, ax = plt.subplots(nrows=<span class="number">3</span>, figsize=(<span class="number">14</span>, <span class="number">12</span>))</span><br><span class="line"></span><br><span class="line">tempogram = librosa.feature.tempogram(onset_envelope=spectral_flux,</span><br><span class="line">                    sr=sr, hop_length=hop_length)</span><br><span class="line"><span class="comment"># Compute the tempogram: local autocorrelation of the onset strength envelope</span></span><br><span class="line"><span class="comment"># default win_length = 384: length of the onset autocorrelation window</span></span><br><span class="line"><span class="comment"># return_shape = (win_length, n)</span></span><br><span class="line"><span class="comment"># time lag changes from 0 to win_length (?) \</span></span><br><span class="line"><span class="comment"># when time_lag == win_length \</span></span><br><span class="line"><span class="comment"># there is no overlap between origin window and shifted window, thus autocorrelation should be 0 \</span></span><br><span class="line"><span class="comment"># but for global_ac (window is much larger) there are still a lot of overlops</span></span><br><span class="line"></span><br><span class="line">librosa.display.specshow(tempogram, sr=sr, hop_length=hop_length,</span><br><span class="line">             x_axis=<span class="string">&#x27;time&#x27;</span>, y_axis=<span class="string">&#x27;tempo&#x27;</span>, cmap=<span class="string">&#x27;magma&#x27;</span>,</span><br><span class="line">             ax=ax[<span class="number">0</span>])</span><br><span class="line"><span class="comment"># y_axis=&#x27;tempo&#x27; visualizes the outputs of feature.tempogram</span></span><br><span class="line"><span class="comment"># cmap: color map</span></span><br><span class="line"><span class="comment"># win_length =&gt; BPM (?)</span></span><br><span class="line"></span><br><span class="line">tempo = librosa.beat.tempo(onset_envelope=spectral_flux, sr=sr,</span><br><span class="line">               hop_length=hop_length)[<span class="number">0</span>]</span><br><span class="line"><span class="comment"># default aggregation function: mean</span></span><br><span class="line"><span class="comment"># shape = (1,) or (n,) if no aggregate</span></span><br><span class="line">ax[<span class="number">0</span>].axhline(tempo, color=<span class="string">&#x27;w&#x27;</span>, linestyle=<span class="string">&#x27;--&#x27;</span>, alpha=<span class="number">1</span>,</span><br><span class="line">       label=<span class="string">&#x27;Estimated tempo=&#123;:g&#125;&#x27;</span>.<span class="built_in">format</span>(tempo))</span><br><span class="line"><span class="comment"># this line shows the estimated global tempo</span></span><br><span class="line">ax[<span class="number">0</span>].legend(loc=<span class="string">&#x27;upper right&#x27;</span>)</span><br><span class="line">ax[<span class="number">0</span>].set_title(<span class="string">&#x27;Fig.2: Tempogram&#x27;</span>,fontsize=<span class="number">15</span>)</span><br><span class="line"></span><br><span class="line">ac_global = librosa.autocorrelate(spectral_flux, max_size=tempogram.shape[<span class="number">0</span>])</span><br><span class="line"><span class="comment"># Compute global onset autocorrelation</span></span><br><span class="line"><span class="comment"># max_size: maximum correlation lag</span></span><br><span class="line">ac_global = librosa.util.normalize(ac_global)</span><br><span class="line"></span><br><span class="line">x_scale = np.linspace(start=<span class="number">0</span>, stop=tempogram.shape[<span class="number">0</span>] * <span class="built_in">float</span>(hop_length) / sr,</span><br><span class="line">            num=tempogram.shape[<span class="number">0</span>])</span><br><span class="line"><span class="comment"># return evenly spaced numbers over a specified interval</span></span><br><span class="line">ax[<span class="number">1</span>].plot(x_scale, np.mean(tempogram, axis=<span class="number">1</span>), label=<span class="string">&#x27;Mean local autocorrelation&#x27;</span>)</span><br><span class="line">ax[<span class="number">1</span>].plot(x_scale, ac_global, <span class="string">&#x27;--&#x27;</span>, label=<span class="string">&#x27;Global autocorrelation&#x27;</span>)</span><br><span class="line">ax[<span class="number">1</span>].legend(loc=<span class="string">&#x27;upper right&#x27;</span>)</span><br><span class="line">ax[<span class="number">1</span>].<span class="built_in">set</span>(xlabel=<span class="string">&#x27;Lag (seconds)&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ax[2]: map the lag scale into tempo, which is a prior distribution</span></span><br><span class="line">freqs = librosa.tempo_frequencies(n_bins = tempogram.shape[<span class="number">0</span>],</span><br><span class="line">                  hop_length=hop_length, sr=sr)</span><br><span class="line"><span class="comment"># Compute the frequencies (in beats per minute) corresponding to an onset auto-correlation or tempogram matrix</span></span><br><span class="line"><span class="comment"># n_bins: the number of lag bins</span></span><br><span class="line"><span class="comment"># freqs[0] = +np.inf corresponds to 0-lag</span></span><br><span class="line"><span class="comment"># freqs[1] = 6000, [2] = 3000, [3] = 1500 ...</span></span><br><span class="line"><span class="comment"># freqs here means x_scale</span></span><br><span class="line"></span><br><span class="line">ax[<span class="number">2</span>].semilogx(freqs[<span class="number">1</span>:], np.mean(tempogram[<span class="number">1</span>:], axis=<span class="number">1</span>),</span><br><span class="line">        label=<span class="string">&#x27;Mean local autocorrelation&#x27;</span>, basex=<span class="number">2</span>)</span><br><span class="line">ax[<span class="number">2</span>].semilogx(freqs[<span class="number">1</span>:], ac_global[<span class="number">1</span>:], linestyle=<span class="string">&#x27;--&#x27;</span>,</span><br><span class="line">        label=<span class="string">&#x27;Global autocorrelation&#x27;</span>, basex=<span class="number">2</span>)</span><br><span class="line">ax[<span class="number">2</span>].axvline(tempo, color=<span class="string">&#x27;black&#x27;</span>, linestyle=<span class="string">&#x27;--&#x27;</span>,</span><br><span class="line">       label=<span class="string">&#x27;Estimated tempo=&#123;:g&#125;&#x27;</span>.<span class="built_in">format</span>(tempo))</span><br><span class="line"></span><br><span class="line">ax[<span class="number">2</span>].legend(loc=<span class="string">&#x27;upper right&#x27;</span>)</span><br><span class="line">ax[<span class="number">2</span>].<span class="built_in">set</span>(xlabel=<span class="string">&#x27;BPM&#x27;</span>)</span><br><span class="line"><span class="comment"># blue line taper off at higher periodicity (lower tempi) \</span></span><br><span class="line"><span class="comment"># due to the lack of overlap between the shifted versions of the windowed spectral flux</span></span><br><span class="line"></span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"><span class="comment"># Notice that in a variable tempo context, \</span></span><br><span class="line"><span class="comment"># it’s not super meaningful to reduce the tempo information down to a single value.</span></span><br></pre></td></tr></table></figure><p><img src="/images/tempo_baseline/tempo_tutorial_8_0.png" alt="png" /></p><h2 id="节拍跟踪dynamic-programming"><a class="markdownIt-Anchor" href="#节拍跟踪dynamic-programming"></a> 节拍跟踪（Dynamic Programming）</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Use DP to recover beats sequence (i.e., temporal locations)</span></span><br><span class="line"><span class="comment"># Ref: https://www.audiolabs-erlangen.de/resources/MIR/FMP/C6/C6S3_BeatTracking.html</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">Pseudocode:</span></span><br><span class="line"><span class="string">for i = 1 to N</span></span><br><span class="line"><span class="string">  int tmp = 0;</span></span><br><span class="line"><span class="string">  for j = 1 to i-1</span></span><br><span class="line"><span class="string">    tmp = max(tmp, dp[j] + lamda * penalty(i-j));</span></span><br><span class="line"><span class="string">  dp[i] = delta[i] + tmp</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">beat_track_dp</span>(<span class="params">oenv, tempo, fps, sr, hop_length, tightness=<span class="number">100</span>, alpha=<span class="number">0.5</span>, ref_beats=<span class="literal">None</span></span>):</span></span><br><span class="line"></span><br><span class="line">    period = (fps * <span class="number">60.</span>/tempo) <span class="comment"># beat period (given in samples)</span></span><br><span class="line">    localscore = librosa.beat.__beat_local_score(oenv, period)</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Construct the local score for an onset envlope and given period&quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># localscore is a smoothed version of AGC&#x27;d(?) onset envelope</span></span><br><span class="line"></span><br><span class="line">    backlink = np.zeros_like(localscore, dtype=<span class="built_in">int</span>) <span class="comment"># save answers in DP process</span></span><br><span class="line">    cumulative_score = np.zeros_like(localscore)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Search range for previous beat</span></span><br><span class="line">    window = np.arange(<span class="number">-2</span> * period, -np.<span class="built_in">round</span>(period / <span class="number">2</span>) + <span class="number">1</span>, dtype=<span class="built_in">int</span>)</span><br><span class="line"></span><br><span class="line">    txwt = -tightness * (np.log(-window / period) ** <span class="number">2</span>) </span><br><span class="line">    <span class="comment"># penalty function</span></span><br><span class="line">    <span class="comment"># notice window is an array, so txwt saves not only one penalty value</span></span><br><span class="line">    <span class="comment"># tightness means tightness of beat distribution around tempo</span></span><br><span class="line">    <span class="comment"># higher tightness value favours constant tempi</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># Are we on the first beat?</span></span><br><span class="line">    first_beat = <span class="literal">True</span></span><br><span class="line">    <span class="keyword">for</span> i, score_i <span class="keyword">in</span> <span class="built_in">enumerate</span>(localscore):</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Are we reaching back before time 0?</span></span><br><span class="line">        z_pad = np.maximum(<span class="number">0</span>, <span class="built_in">min</span>(-window[<span class="number">0</span>], <span class="built_in">len</span>(window)))</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Search over all possible predecessors</span></span><br><span class="line">        candidates = txwt.copy()</span><br><span class="line">        candidates[z_pad:] = candidates[z_pad:] + cumulative_score[window[z_pad:]]</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Find the best preceding beat</span></span><br><span class="line">        beat_location = np.argmax(candidates)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Add the local score</span></span><br><span class="line">        cumulative_score[i] = (<span class="number">1</span>-alpha)*score_i + alpha*candidates[beat_location]</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Special case the first onset.  Stop if the localscore is small</span></span><br><span class="line">        <span class="keyword">if</span> first_beat <span class="keyword">and</span> score_i &lt; <span class="number">0.01</span> * localscore.<span class="built_in">max</span>():</span><br><span class="line">            backlink[i] = <span class="number">-1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            backlink[i] = window[beat_location]</span><br><span class="line">            first_beat = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># Update the time range</span></span><br><span class="line">        window = window + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    beats = [librosa.beat.__last_beat(cumulative_score)]</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Get the last beat from the cumulative score array&quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># get the last (final) beat</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># Reconstruct the beat path from backlinks</span></span><br><span class="line">    <span class="keyword">while</span> backlink[beats[<span class="number">-1</span>]] &gt;= <span class="number">0</span>:</span><br><span class="line">        beats.append(backlink[beats[<span class="number">-1</span>]])</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Put the beats in ascending order</span></span><br><span class="line">    <span class="comment"># Convert into an array of frame numbers</span></span><br><span class="line">    beats = np.array(beats[::<span class="number">-1</span>], dtype=<span class="built_in">int</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Discard spurious trailing beats</span></span><br><span class="line">    beats = librosa.beat.__trim_beats(oenv, beats, trim=<span class="literal">True</span>)</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Final post-processing: throw out spurious leading/trailing beats&quot;&quot;&quot;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># Convert beat times seconds</span></span><br><span class="line">    beats = librosa.frames_to_time(beats, hop_length=hop_length, sr=sr)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> beats, cumulative_score</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">alpha = <span class="number">0.5</span></span><br><span class="line">tightness=<span class="number">100</span></span><br><span class="line"></span><br><span class="line">est_beats, cumulative_score = beat_track_dp(oenv=spectral_flux, tempo=tempo, fps=fps, sr=sr, hop_length=hop_length, tightness=tightness, alpha=alpha)</span><br><span class="line">fig, ax = plt.subplots(nrows=<span class="number">2</span>, figsize=(<span class="number">14</span>, <span class="number">6</span>))</span><br><span class="line">times = librosa.times_like(spectral_flux, sr=sr, hop_length=hop_length)</span><br><span class="line">ax[<span class="number">0</span>].plot(times, spectral_flux, label=<span class="string">&#x27;Spectral flux&#x27;</span>)</span><br><span class="line">ax[<span class="number">0</span>].set_title(<span class="string">&#x27;Spectral flux&#x27;</span>,fontsize=<span class="number">15</span>)</span><br><span class="line">ax[<span class="number">0</span>].label_outer()</span><br><span class="line"></span><br><span class="line">ax[<span class="number">0</span>].<span class="built_in">set</span>(xlim=[<span class="number">0</span>, <span class="built_in">len</span>(spectral_flux)/fps])</span><br><span class="line">ax[<span class="number">0</span>].vlines(est_beats, <span class="number">0</span>, <span class="number">1.1</span>*spectral_flux.<span class="built_in">max</span>(), label=<span class="string">&#x27;Estimated beats&#x27;</span>, </span><br><span class="line">       color=<span class="string">&#x27;green&#x27;</span>, linestyle=<span class="string">&#x27;:&#x27;</span>, linewidth=<span class="number">2</span>)</span><br><span class="line">ax[<span class="number">0</span>].legend(loc=<span class="string">&#x27;upper right&#x27;</span>)</span><br><span class="line"></span><br><span class="line">ax[<span class="number">1</span>].plot(times, cumulative_score, color=<span class="string">&#x27;orange&#x27;</span>, label=<span class="string">&#x27;Cumultative score&#x27;</span>)</span><br><span class="line">ax[<span class="number">1</span>].set_title(<span class="string">&#x27;Cumulative score (alpha:&#x27;</span>+<span class="built_in">str</span>(alpha)+<span class="string">&#x27;)&#x27;</span>,fontsize=<span class="number">15</span>)</span><br><span class="line">ax[<span class="number">1</span>].label_outer()</span><br><span class="line">ax[<span class="number">1</span>].<span class="built_in">set</span>(xlim=[<span class="number">0</span>, <span class="built_in">len</span>(spectral_flux)/fps])</span><br><span class="line">ax[<span class="number">1</span>].vlines(est_beats, <span class="number">0</span>, <span class="number">1.1</span>*cumulative_score.<span class="built_in">max</span>(), label=<span class="string">&#x27;Estimated beats&#x27;</span>, </span><br><span class="line">       color=<span class="string">&#x27;green&#x27;</span>, linestyle=<span class="string">&#x27;:&#x27;</span>, linewidth=<span class="number">2</span>)</span><br><span class="line">ax[<span class="number">1</span>].legend(loc=<span class="string">&#x27;upper right&#x27;</span>)</span><br><span class="line">ax[<span class="number">1</span>].<span class="built_in">set</span>(xlabel = <span class="string">&#x27;Time&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="/images/tempo_baseline/tempo_tutorial_10_0.png" alt="png" /></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;使用librosa库对音乐速度-节拍进行估计的基本方法&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#使用librosa库对音乐速度-节拍进行估计的基本方法&quot;&gt;&lt;/a&gt; 使用Librosa库对音乐速度、节拍进行估计的基本方法&lt;/h1&gt;
</summary>
      
    
    
    
    <category term="操作步骤与实践" scheme="http://wzw21.cn/categories/%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%AA%A4%E4%B8%8E%E5%AE%9E%E8%B7%B5/"/>
    
    
    <category term="Python" scheme="http://wzw21.cn/tags/Python/"/>
    
    <category term="MIR" scheme="http://wzw21.cn/tags/MIR/"/>
    
    <category term="Librosa" scheme="http://wzw21.cn/tags/Librosa/"/>
    
  </entry>
  
  <entry>
    <title>使用Python播放MIDI音符</title>
    <link href="http://wzw21.cn/2022/01/11/play-midi-note/"/>
    <id>http://wzw21.cn/2022/01/11/play-midi-note/</id>
    <published>2022-01-11T12:56:38.000Z</published>
    <updated>2022-01-11T13:16:14.177Z</updated>
    
    <content type="html"><![CDATA[<h1 id="使用-python-播放-midi-note"><a class="markdownIt-Anchor" href="#使用-python-播放-midi-note"></a> 使用 Python 播放 MIDI Note</h1><h2 id="方法一使用music21"><a class="markdownIt-Anchor" href="#方法一使用music21"></a> 方法一：使用music21</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> music21 <span class="keyword">as</span> m21</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">play_note</span>(<span class="params">pitch=<span class="string">&quot;C4&quot;</span>, length=<span class="number">2</span>, velocity=<span class="number">127</span>, instrument=<span class="string">&#x27;Piano&#x27;</span></span>):</span></span><br><span class="line">    note_1 = m21.note.Note(pitch, quarterLength=length)</span><br><span class="line">    note_1.volume.velocity = velocity</span><br><span class="line">    stream_1 = m21.stream.Stream()</span><br><span class="line">    <span class="keyword">if</span> instrument == <span class="string">&#x27;Piano&#x27;</span>:</span><br><span class="line">        stream_1.append(m21.instrument.Piano())</span><br><span class="line">        <span class="comment"># stream_1.insert(0, m21.instrument.Piano())</span></span><br><span class="line">    stream_1.append(note_1)</span><br><span class="line">    s_player = m21.midi.realtime.StreamPlayer(stream_1)</span><br><span class="line">    s_player.play()</span><br></pre></td></tr></table></figure><p>注意该方法也需要安装pygame</p><h2 id="方法二使用pygame"><a class="markdownIt-Anchor" href="#方法二使用pygame"></a> 方法二：使用pygame</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pygame.midi <span class="keyword">as</span> pm</span><br><span class="line"></span><br><span class="line">pm.init() <span class="comment"># init midi player</span></span><br><span class="line">player = pm.Output(<span class="number">0</span>)</span><br><span class="line">BPM = <span class="number">120</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">play_note</span>(<span class="params">pitch=<span class="number">60</span>, length=<span class="number">2</span>, velocity=<span class="number">127</span>, instrument=<span class="string">&#x27;Piano&#x27;</span></span>):</span></span><br><span class="line">    <span class="keyword">if</span> instrument == <span class="string">&#x27;Piano&#x27;</span>:</span><br><span class="line">        player.set_instrument(<span class="number">0</span>)</span><br><span class="line">    player.note_on(pitch, velocity)</span><br><span class="line">    time.sleep(length * <span class="number">60</span> / BPM)</span><br><span class="line">    player.note_off(pitch, velocity)</span><br><span class="line"></span><br><span class="line"><span class="keyword">del</span> player</span><br><span class="line">pm.quit()</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;使用-python-播放-midi-note&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#使用-python-播放-midi-note&quot;&gt;&lt;/a&gt; 使用 Python 播放 MIDI Note&lt;/h1&gt;
&lt;h2 id=&quot;方法一使用mu</summary>
      
    
    
    
    <category term="操作步骤与实践" scheme="http://wzw21.cn/categories/%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%AA%A4%E4%B8%8E%E5%AE%9E%E8%B7%B5/"/>
    
    
    <category term="Python" scheme="http://wzw21.cn/tags/Python/"/>
    
    <category term="MIR" scheme="http://wzw21.cn/tags/MIR/"/>
    
  </entry>
  
  <entry>
    <title>群体智能优化算法</title>
    <link href="http://wzw21.cn/2022/01/08/sioa/"/>
    <id>http://wzw21.cn/2022/01/08/sioa/</id>
    <published>2022-01-08T08:14:34.000Z</published>
    <updated>2022-01-08T08:18:14.717Z</updated>
    
    <content type="html"><![CDATA[<h1 id="群体智能优化算法"><a class="markdownIt-Anchor" href="#群体智能优化算法"></a> 群体智能优化算法</h1><h2 id="研究背景"><a class="markdownIt-Anchor" href="#研究背景"></a> 研究背景</h2><p>群体智能优化算法（Swarm Intelligence Optimization Algorithm）是计算智能中的一种常用算法，其基本理论是模拟自然界中鱼群、鸟群、蜂群、狼群和细菌群等动物群体的行为，利用群体间的信息交流与合作，通过简单有限的个体间互动来达到优化的目的。</p><p>群体智能（Swarm Intelligence, SI）由Gerardo Beni和Jing Wang于1989年首次提出，是研究由大量简单个体构成的群体系统的学科。与个体的智能相比，这些群体系统往往并没有复杂精细的内部设计，但基于简单的个体与规则，它们具有更强的鲁棒性、稳定性和适应性。群体智能方法处理的最典型问题就是优化问题。优化问题的基础性能够较为直观地体现群体方法的理论特性，辅助其理论研究，同时也具有重要的应用价值，进一步推动了群体智能算法的发展。与传统的优化算法相比，基于仿生学的群体智能优化算法本质上是一种概率并行搜索算法。其寻优速度更快，能更有效地搜索复杂优化问题的全局最优解。</p><p>常见的群体智能优化算法有蚁群算法（Ant Colony Optimization，ACO）、粒子群优化算法（Particle Swarm Optimization，PSO）、烟花算法（Fireworks Algorithm，FWA）、萤火虫算法(Firefly Algorithm，FA)、布谷鸟算法(Cuckoo Search，CS)、头脑风暴算法(Brain Storm Optimization，BSO)、水波算法(Water Wave Optimization，WWO)、灰狼优化算法(Grey Wolf Optimizer，GWO)、鲸鱼优化算法(Whale Optimization Algorithm，WOA)、蛙跳算法(Shuffled Frog Leaping Algorithm，SFLA)等。应用包括寻找函数最优值、求解旅行商问题、武器目标分配问题、多处理机调度问题、有依赖的优化问题和作业调度问题等。</p><h2 id="相关工作"><a class="markdownIt-Anchor" href="#相关工作"></a> 相关工作</h2><p>元启发式优化算法可以分为三大类：进化算法、基于物理的算法和群体智能算法。进化算法受到自然界中生物进化概念的启发，最常见的是遗传算法，由Holland于1992年提出；基于物理的算法通常模仿物理规则实现优化，例如引力搜索算法、大爆炸算法。群体智能优化算法的机制与基于物理规则的算法相似，不同的是其搜索单元使用模拟的生物集体智能和社会智能进行导航。群体智能优化算法主要包括两个阶段，分别称为勘探和开发，勘探是指尽可能广泛地调查搜索空间中有希望的区域的过程，需要随机算子对搜索空间进行随机和全局的搜索。开发则是指在勘探阶段所获得的区域周围进行局部搜索。如何平衡这两个阶段以找到全局最优是各种优化算法需要解决的问题。</p><p>群体智能优化算法中的常见算法之一是粒子群优化算法，由Kennedy和Eberhart于1995年提出，其灵感来自于鸟群的社会行为。该算法使用多个粒子来追踪最佳粒子的位置以及目前为止已获得的自身最佳位置。蚁群算法由Dorigo等人于2006年提出，灵感来自于蚁群中蚂蚁的社会行为。该算法模仿蚁群在寻找巢穴与食物源之间最短路径时使用的信息素机制。人工蜂群算法受到蜂群行为启发，在2005年由Karaboga等人为优化代数问题而提出。其中侦察蜂负责勘探，雇佣蜂和观察蜂负责开发。烟花算法于 2010年由谭营等人提出，受启发于烟花爆炸的现象，是一种受自然现象而非生物启发的经典群体智能算法。烟花算法种包括爆炸算子、变异算子、映射规则和选择算子。萤火虫算法受启发于萤火虫的闪烁行为，由Xin-She Yang于 2009年提出。该算法假设每只萤火虫都向着看上去比自己更亮的萤火虫飞行，萤火虫的吸引力与它们的亮度成正比。布谷鸟算法由Xin-She Yang等人于 2009年提出，受启发于布谷鸟的巢寄生育雏行为和列维飞行机制。头脑风暴算法受到人类会议过程中的“头脑风暴”过程的启发，由史玉回于2011年提出，算法利用聚类思想搜索局部最优，然后通过对比得到全局最优。水波算法由 Yu-Jun Zheng于 2015年提出，受启发于水波的几种现象：传播、反射与消散。灰狼优化算法和鲸鱼优化算法由Seyedali Mirjalili等人分别于2014年和2016年提出，这两种算法在<a href="https://wzw21.cn/2022/01/07/gwo/">GWO</a>和<a href="https://wzw21.cn/2022/01/08/woa/">WOA</a>中重点介绍。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;群体智能优化算法&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#群体智能优化算法&quot;&gt;&lt;/a&gt; 群体智能优化算法&lt;/h1&gt;
&lt;h2 id=&quot;研究背景&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#研究背景&quot;&gt;&lt;</summary>
      
    
    
    
    <category term="理论知识" scheme="http://wzw21.cn/categories/%E7%90%86%E8%AE%BA%E7%9F%A5%E8%AF%86/"/>
    
    
    <category term="智能算法" scheme="http://wzw21.cn/tags/%E6%99%BA%E8%83%BD%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>群体智能优化算法之鲸鱼优化算法</title>
    <link href="http://wzw21.cn/2022/01/08/woa/"/>
    <id>http://wzw21.cn/2022/01/08/woa/</id>
    <published>2022-01-08T07:00:20.000Z</published>
    <updated>2022-01-08T08:10:54.387Z</updated>
    
    <content type="html"><![CDATA[<h1 id="鲸鱼优化算法"><a class="markdownIt-Anchor" href="#鲸鱼优化算法"></a> 鲸鱼优化算法</h1><h2 id="鲸鱼群体"><a class="markdownIt-Anchor" href="#鲸鱼群体"></a> 鲸鱼群体</h2><p>鲸鱼是世界上最大的哺乳动物，是有情感的高智商动物，大部分鲸鱼被认为是食肉动物且群居。座头鲸是最大的长须鲸之一，它们使用一种独特的捕猎方式来猎食虾群和鱼群，被称为泡泡网（Bubble-net）捕猎方式，如图4、图5所示。它们在捕食时以螺旋式逼近猎物，吐出气体形成气泡，迫使鱼群聚集以方便捕食。鲸鱼优化算法便是受启发于鲸鱼（特别是座头鲸）的捕猎方式。</p><p><img src="/images/woa_1.png" alt="" /></p><center style="font-size:14px;color:#C0C0C0;">图4：“泡泡网”捕猎示意图，引用自论文《The whale optimization algorithm》</center><p><img src="/images/woa_2.png" alt="" /></p><center style="font-size:14px;color:#C0C0C0;">图5：座头鲸捕猎场景</center><h2 id="模型与算法"><a class="markdownIt-Anchor" href="#模型与算法"></a> 模型与算法</h2><p>鲸鱼优化算法与灰狼优化算法相似，都采用对目标位置先进行包围再捕食的策略。不同点在于鲸鱼优化算法直接将当前最优解作为包围中心，且鲸鱼优化算法的捕猎逼近过程分为两种，第一种逐步降低距离，另一种以螺旋形逼近。鲸鱼优化算法的基本位置更新方式与灰狼优化算法相同，见<a href="https://wzw21.cn/2022/01/07/gwo/">灰狼优化算法</a>公式(1)至(4)。</p><p>鲸鱼优化算法基于一个随机数p∈[0,1]来决定当前搜索单元的行动，有50%的概率直接根据目标位置进行移动，有50%的概率以螺旋线逼近猎物。鲸鱼在捕猎时的行为被定义为：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mover accent="true"><mi>X</mi><mo>⃗</mo></mover><mo stretchy="false">(</mo><mi>t</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.15999999999999992em" columnalign="left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msup><mover accent="true"><mi>X</mi><mo>⃗</mo></mover><mo>∗</mo></msup><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mo>−</mo><mover accent="true"><mi>A</mi><mo>⃗</mo></mover><mo>⋅</mo><mover accent="true"><mi>D</mi><mo>⃗</mo></mover></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mover accent="true"><msup><mi>D</mi><mo mathvariant="normal">′</mo></msup><mo>⃗</mo></mover><mo>⋅</mo><msup><mi>e</mi><mrow><mi>b</mi><mi>l</mi></mrow></msup><mo>⋅</mo><mi>c</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mn>2</mn><mi>π</mi><mi>l</mi><mo stretchy="false">)</mo><mo>+</mo><msup><mover accent="true"><mi>X</mi><mo>⃗</mo></mover><mo>∗</mo></msup><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable><mtable rowspacing="0.15999999999999992em" columnalign="right" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>p</mi><mo>&lt;</mo><mn>0.5</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>p</mi><mo>≥</mo><mn>0.5</mn></mrow></mstyle></mtd></mtr></mtable></mrow></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(1)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\vec{X}(t+1)=\left\{    \begin{array}{l}        \vec{X}^*(t)-\vec{A}\cdot\vec{D} \\        \vec{D&#x27;}\cdot e^{bl}\cdot cos(2πl)+\vec{X}^*(t)    \end{array}    \begin{array}{r}        p&lt;0.5 \\        p≥0.5    \end{array}\right.\tag1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.21633em;vertical-align:-0.25em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.65266em;vertical-align:-1.0763300000000002em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">{</span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5763299999999998em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">A</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.09660999999999997em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.17994em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span></span></span><span style="top:-2.28367em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6778919999999999em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">b</span><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">c</span><span class="mord mathdefault">o</span><span class="mord mathdefault">s</span><span class="mopen">(</span><span class="mord">2</span><span class="mord mathdefault" style="margin-right:0.03588em;">π</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.0763300000000002em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">p</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">5</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">p</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">5</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="tag"><span class="strut" style="height:2.65266em;vertical-align:-1.0763300000000002em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">1</span></span><span class="mord">)</span></span></span></span></span></span></p><p>其中，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mover accent="true"><mi>X</mi><mo>⃗</mo></mover><mo>∗</mo></msup><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\vec{X}^*(t)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.21633em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span></span></span></span>可能是当前最优解的位置也可能是一个随机搜索单元的位置，取决于<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">∣</mi><mover accent="true"><mi>A</mi><mo>⃗</mo></mover><mi mathvariant="normal">∣</mi></mrow><annotation encoding="application/x-tex">|\vec{A}|</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.21633em;vertical-align:-0.25em;"></span><span class="mord">∣</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">A</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.09660999999999997em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mord">∣</span></span></span></span>的值，b决定螺旋线形状，l为随机值∈[-1,1]，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><msup><mi>D</mi><mo mathvariant="normal">′</mo></msup><mo>⃗</mo></mover><mo>=</mo><mi mathvariant="normal">∣</mi><msup><mover accent="true"><mi>X</mi><mo>⃗</mo></mover><mo>∗</mo></msup><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mo>−</mo><mover accent="true"><mi>X</mi><mo>⃗</mo></mover><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mi mathvariant="normal">∣</mi></mrow><annotation encoding="application/x-tex">\vec{D&#x27;}=|\vec{X}^*(t)-\vec{X}(t)|</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9663299999999999em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6778919999999999em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.21633em;vertical-align:-0.25em;"></span><span class="mord">∣</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.21633em;vertical-align:-0.25em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span><span class="mord">∣</span></span></span></span>。鲸鱼优化算法搜索机制示意图如图6所示。</p><p><img src="/images/woa_3.png" alt="" /></p><center style="font-size:14px;color:#C0C0C0;">图6：鲸鱼优化算法搜素机制，（a）缩小包围机制（b）螺旋更新位置，引用自论文《The whale optimization algorithm》</center><p>鲸鱼优化算法的伪代码如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">初始化鲸鱼种群 Xi (i&#x3D;1,2,…,n)</span><br><span class="line">计算每个搜索单元的适应度</span><br><span class="line">X*&#x3D;最优搜索单元</span><br><span class="line">while (t&lt;最大迭代次数)</span><br><span class="line">  for (每个搜索单元)</span><br><span class="line">    更新a, A, C, l, p</span><br><span class="line">    if1 (p&lt;0.5)</span><br><span class="line">      if2 (|A|&lt;1)</span><br><span class="line">        根据最优个体更新当前搜索单元的位置</span><br><span class="line">      else if2 (|A|≥1)</span><br><span class="line">        随机选择一个搜索单元Xrand</span><br><span class="line">        根据Xrand更新当前搜索单元的位置</span><br><span class="line">      end if2</span><br><span class="line">    else if1 (p≥0.5)</span><br><span class="line">      根据最优个体螺旋更新当前搜索单元的位置</span><br><span class="line">    end if1</span><br><span class="line">  end for</span><br><span class="line">  检查是否有超出搜索范围的搜索单元，并进行修正</span><br><span class="line">  计算所有搜索单元的适应度</span><br><span class="line">  更新X*</span><br><span class="line">  t&#x3D;t+1</span><br><span class="line">end while</span><br><span class="line">return X*</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;鲸鱼优化算法&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#鲸鱼优化算法&quot;&gt;&lt;/a&gt; 鲸鱼优化算法&lt;/h1&gt;
&lt;h2 id=&quot;鲸鱼群体&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#鲸鱼群体&quot;&gt;&lt;/a&gt; 鲸鱼</summary>
      
    
    
    
    <category term="理论知识" scheme="http://wzw21.cn/categories/%E7%90%86%E8%AE%BA%E7%9F%A5%E8%AF%86/"/>
    
    
    <category term="智能算法" scheme="http://wzw21.cn/tags/%E6%99%BA%E8%83%BD%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>群体智能优化算法之灰狼优化算法</title>
    <link href="http://wzw21.cn/2022/01/07/gwo/"/>
    <id>http://wzw21.cn/2022/01/07/gwo/</id>
    <published>2022-01-07T08:19:46.000Z</published>
    <updated>2022-01-08T08:11:42.638Z</updated>
    
    <content type="html"><![CDATA[<h1 id="灰狼优化算法"><a class="markdownIt-Anchor" href="#灰狼优化算法"></a> 灰狼优化算法</h1><h2 id="灰狼群体"><a class="markdownIt-Anchor" href="#灰狼群体"></a> 灰狼群体</h2><p>灰狼属于犬科动物，被认为是顶级的掠食者，它们处于生物圈食物链的顶端。灰狼大多喜欢群居，每个群体中平均有5至12只狼。灰狼群体有着严格的社会等级制度，如图1所示，其中α是狼群的领导者，负责所有决策；β协助α进行决策，必要时进行接替，地位仅次于α；δ则服从于α和β，负责放哨、侦察等事务；ω处于社会底层，是不可缺少的普通狼，负责种群内部关系的平衡。</p><p><img src="/images/gwo_1.png" alt="" /></p><center style="font-size:14px;color:#C0C0C0;">图1：灰狼的等级制度，引用自论文《Grey Wolf Optimizer》</center><p>集体狩猎是灰狼的一种社会行为，社会等级在集体狩猎过程中发挥着重要的作用，捕食的过程在α的带领下完成。主要包括三个步骤：1）跟踪和接近猎物；2）骚扰、追捕和包围猎物，直到它停止移动；3）攻击猎物。灰狼的集体狩猎行为如图2所示。</p><p><img src="/images/gwo_2.png" alt="" /></p><center style="font-size:14px;color:#C0C0C0;">图2：灰狼集体狩猎行为，引用自论文《Grey Wolf Optimizer》</center><h2 id="模型与算法"><a class="markdownIt-Anchor" href="#模型与算法"></a> 模型与算法</h2><p>灰狼优化算法的主要思路是假设α、β、δ更了解猎物的潜在位置，即优化问题的决策空间中最佳解决方案所在的位置，其他灰狼个体依据α、β、δ的位置来更新其自身位置，逐渐逼近猎物（最优解）。算法直接将前３匹适应度最高的狼分别定义为α，β和δ，它们指导其他狼向着目标搜索。在狩猎过程中，灰狼的基本位置更新方式定义为：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mover accent="true"><mi>D</mi><mo>⃗</mo></mover><mo>=</mo><mi mathvariant="normal">∣</mi><mover accent="true"><mi>C</mi><mo>⃗</mo></mover><mo>⋅</mo><mover accent="true"><msub><mi>X</mi><mi>p</mi></msub><mo>⃗</mo></mover><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mo>−</mo><mover accent="true"><mi>X</mi><mo>⃗</mo></mover><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mi mathvariant="normal">∣</mi></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(1)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\vec{D}=|\vec{C}\cdot\vec{X_p}(t)-\vec{X}(t)|\tag1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9663299999999999em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.17994em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.21633em;vertical-align:-0.25em;"></span><span class="mord">∣</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.252438em;vertical-align:-0.286108em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.21633em;vertical-align:-0.25em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span><span class="mord">∣</span></span><span class="tag"><span class="strut" style="height:1.252438em;vertical-align:-0.286108em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">1</span></span><span class="mord">)</span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mover accent="true"><mi>X</mi><mo>⃗</mo></mover><mo stretchy="false">(</mo><mi>t</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo><mo>=</mo><mover accent="true"><msub><mi>X</mi><mi>p</mi></msub><mo>⃗</mo></mover><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mo>−</mo><mover accent="true"><mi>A</mi><mo>⃗</mo></mover><mo>⋅</mo><mover accent="true"><mi>D</mi><mo>⃗</mo></mover></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\vec{X}(t+1)=\vec{X_p}(t)-\vec{A}\cdot\vec{D}\tag2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.21633em;vertical-align:-0.25em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.252438em;vertical-align:-0.286108em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.9663299999999999em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">A</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.09660999999999997em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.9663299999999999em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.17994em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span></span><span class="tag"><span class="strut" style="height:1.252438em;vertical-align:-0.286108em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2</span></span><span class="mord">)</span></span></span></span></span></span></p><p>式(1)计算个体与目标间的距离，式(2)是灰狼的位置更新公式。其中，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mi>X</mi><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{X}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9663299999999999em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span></span></span></span>为位置向量，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mi>D</mi><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{D}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9663299999999999em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.17994em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span></span></span></span>为距离，t是目前的迭代代数，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mi>A</mi><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{A}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9663299999999999em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">A</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.09660999999999997em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span></span></span></span>和<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mi>C</mi><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{C}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9663299999999999em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span></span></span></span>为系数向量，计算方式如下：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mover accent="true"><mi>A</mi><mo>⃗</mo></mover><mo>=</mo><mn>2</mn><mover accent="true"><mi>a</mi><mo>⃗</mo></mover><mo>⋅</mo><mover accent="true"><msub><mi>r</mi><mn>1</mn></msub><mo>⃗</mo></mover><mo>−</mo><mover accent="true"><mi>a</mi><mo>⃗</mo></mover></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(3)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\vec{A}=2\vec{a}\cdot\vec{r_1}-\vec{a}\tag3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9663299999999999em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">A</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.09660999999999997em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.714em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">a</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.864em;vertical-align:-0.15em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.714em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">a</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span></span><span class="tag"><span class="strut" style="height:1.21633em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">3</span></span><span class="mord">)</span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mover accent="true"><mi>C</mi><mo>⃗</mo></mover><mo>=</mo><mn>2</mn><mover accent="true"><msub><mi>r</mi><mn>2</mn></msub><mo>⃗</mo></mover></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(4)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\vec{C}=2\vec{r_2}\tag4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9663299999999999em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.864em;vertical-align:-0.15em;"></span><span class="mord">2</span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="tag"><span class="strut" style="height:1.21633em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">4</span></span><span class="mord">)</span></span></span></span></span></span></p><p>其中，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mi>a</mi><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{a}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.714em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">a</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span></span></span></span>是收敛因子，随着迭代次数从2线性减小到0，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><msub><mi>r</mi><mn>1</mn></msub><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{r_1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.864em;vertical-align:-0.15em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span>和<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><msub><mi>r</mi><mn>2</mn></msub><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{r_2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.864em;vertical-align:-0.15em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span>是模长属于[0,1]的随机向量。</p><p>在模拟灰狼进行狩猎时，根据当前三个最优解所在的位置更新所有搜索单元的位置。灰狼集体狩猎时的行为定义如下：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mo fence="true">{</mo><mtable rowspacing="0.15999999999999992em" columnalign="left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mover accent="true"><msub><mi>D</mi><mi>α</mi></msub><mo>⃗</mo></mover><mo>=</mo><mi mathvariant="normal">∣</mi><mover accent="true"><msub><mi>C</mi><mn>1</mn></msub><mo>⃗</mo></mover><mo>⋅</mo><mover accent="true"><msub><mi>X</mi><mi>α</mi></msub><mo>⃗</mo></mover><mo>−</mo><mover accent="true"><mi>X</mi><mo>⃗</mo></mover><mi mathvariant="normal">∣</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mover accent="true"><msub><mi>D</mi><mi>β</mi></msub><mo>⃗</mo></mover><mo>=</mo><mi mathvariant="normal">∣</mi><mover accent="true"><msub><mi>C</mi><mn>2</mn></msub><mo>⃗</mo></mover><mo>⋅</mo><mover accent="true"><msub><mi>X</mi><mi>β</mi></msub><mo>⃗</mo></mover><mo>−</mo><mover accent="true"><mi>X</mi><mo>⃗</mo></mover><mi mathvariant="normal">∣</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mover accent="true"><msub><mi>D</mi><mi>δ</mi></msub><mo>⃗</mo></mover><mo>=</mo><mi mathvariant="normal">∣</mi><mover accent="true"><msub><mi>C</mi><mn>3</mn></msub><mo>⃗</mo></mover><mo>⋅</mo><mover accent="true"><msub><mi>X</mi><mi>δ</mi></msub><mo>⃗</mo></mover><mo>−</mo><mover accent="true"><mi>X</mi><mo>⃗</mo></mover><mi mathvariant="normal">∣</mi></mrow></mstyle></mtd></mtr></mtable></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(5)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\left\{    \begin{array}{l}        \vec{D_α}=|\vec{C_1}\cdot\vec{X_α}-\vec{X}| \\        \vec{D_β}=|\vec{C_2}\cdot\vec{X_β}-\vec{X}| \\        \vec{D_δ}=|\vec{C_3}\cdot\vec{X_δ}-\vec{X}|    \end{array}\right.\tag5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.9789899999999996em;vertical-align:-1.7394949999999998em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.49999em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎩</span></span></span><span style="top:-3.15001em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎨</span></span></span><span style="top:-4.30002em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎧</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.239495em;"><span style="top:-4.273165em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.0037em;">α</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">∣</span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.0037em;">α</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mord">∣</span></span></span><span style="top:-2.9468349999999996em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05278em;">β</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">∣</span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05278em;">β</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mord">∣</span></span></span><span style="top:-1.6205050000000003em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03785em;">δ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">∣</span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03785em;">δ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mord">∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.7394949999999998em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="tag"><span class="strut" style="height:3.9789899999999996em;vertical-align:-1.7394949999999998em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">5</span></span><span class="mord">)</span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mo fence="true">{</mo><mtable rowspacing="0.15999999999999992em" columnalign="left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mover accent="true"><msub><mi>X</mi><mn>1</mn></msub><mo>⃗</mo></mover><mo>=</mo><mover accent="true"><msub><mi>X</mi><mi>α</mi></msub><mo>⃗</mo></mover><mo>−</mo><mover accent="true"><msub><mi>A</mi><mn>1</mn></msub><mo>⃗</mo></mover><mo>⋅</mo><mover accent="true"><msub><mi>D</mi><mi>α</mi></msub><mo>⃗</mo></mover></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mover accent="true"><msub><mi>X</mi><mn>2</mn></msub><mo>⃗</mo></mover><mo>=</mo><mover accent="true"><msub><mi>X</mi><mi>β</mi></msub><mo>⃗</mo></mover><mo>−</mo><mover accent="true"><msub><mi>A</mi><mn>2</mn></msub><mo>⃗</mo></mover><mo>⋅</mo><mover accent="true"><msub><mi>D</mi><mi>β</mi></msub><mo>⃗</mo></mover></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mover accent="true"><msub><mi>X</mi><mn>3</mn></msub><mo>⃗</mo></mover><mo>=</mo><mover accent="true"><msub><mi>X</mi><mi>δ</mi></msub><mo>⃗</mo></mover><mo>−</mo><mover accent="true"><msub><mi>A</mi><mn>3</mn></msub><mo>⃗</mo></mover><mo>⋅</mo><mover accent="true"><msub><mi>D</mi><mi>δ</mi></msub><mo>⃗</mo></mover></mrow></mstyle></mtd></mtr></mtable></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(6)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\left\{    \begin{array}{l}        \vec{X_1}=\vec{X_α}-\vec{A_1}\cdot\vec{D_α} \\        \vec{X_2}=\vec{X_β}-\vec{A_2}\cdot\vec{D_β} \\        \vec{X_3}=\vec{X_δ}-\vec{A_3}\cdot\vec{D_δ}    \end{array}\right.\tag6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.9789899999999996em;vertical-align:-1.7394949999999998em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.49999em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎩</span></span></span><span style="top:-3.15001em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎨</span></span></span><span style="top:-4.30002em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎧</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.239495em;"><span style="top:-4.273165em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.0037em;">α</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.0037em;">α</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span style="top:-2.9468349999999996em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05278em;">β</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05278em;">β</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span><span style="top:-1.6205050000000003em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03785em;">δ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03785em;">δ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.7394949999999998em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="tag"><span class="strut" style="height:3.9789899999999996em;vertical-align:-1.7394949999999998em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">6</span></span><span class="mord">)</span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mover accent="true"><mi>X</mi><mo>⃗</mo></mover><mo stretchy="false">(</mo><mi>t</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><mover accent="true"><msub><mi>X</mi><mn>1</mn></msub><mo>⃗</mo></mover><mo>+</mo><mover accent="true"><msub><mi>X</mi><mn>2</mn></msub><mo>⃗</mo></mover><mo>+</mo><mover accent="true"><msub><mi>X</mi><mn>3</mn></msub><mo>⃗</mo></mover></mrow><mn>3</mn></mfrac></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(7)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\vec{X}(t+1)=\frac{\vec{X_1}+\vec{X_2}+\vec{X_3}}{3}\tag7</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.21633em;vertical-align:-0.25em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.3293299999999997em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6433299999999997em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="tag"><span class="strut" style="height:2.3293299999999997em;vertical-align:-0.686em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">7</span></span><span class="mord">)</span></span></span></span></span></span></p><p>其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><msub><mi>D</mi><mi>α</mi></msub><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{D_α}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1163299999999998em;vertical-align:-0.15em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.0037em;">α</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span>，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><msub><mi>D</mi><mi>β</mi></msub><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{D_β}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.252438em;vertical-align:-0.286108em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05278em;">β</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span>和<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><msub><mi>D</mi><mi>δ</mi></msub><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{D_δ}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1163299999999998em;vertical-align:-0.15em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03785em;">δ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span>分别表示α，β和δ与其他个体间的距离，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><msub><mi>X</mi><mi>α</mi></msub><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{X_α}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1163299999999998em;vertical-align:-0.15em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.0037em;">α</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span>，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><msub><mi>X</mi><mi>β</mi></msub><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{X_β}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.252438em;vertical-align:-0.286108em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05278em;">β</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span>和<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><msub><mi>X</mi><mi>δ</mi></msub><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{X_δ}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1163299999999998em;vertical-align:-0.15em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03785em;">δ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span>分别代表α，β和δ的当前位置，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mi>X</mi><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{X}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9663299999999999em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span></span></span></span>是当前灰狼的位置，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mi>X</mi><mo>⃗</mo></mover><mo stretchy="false">(</mo><mi>t</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\vec{X}(t+1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.21633em;vertical-align:-0.25em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span>是下一时间步即更新后灰狼的位置。<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mi>A</mi><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{A}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9663299999999999em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">A</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.09660999999999997em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span></span></span></span>和<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mi>C</mi><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{C}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9663299999999999em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span></span></span></span>为算法带来了随机性，避免陷入局部最优，当<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mrow><mi mathvariant="normal">∣</mi><mi>A</mi><mi mathvariant="normal">∣</mi></mrow><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{|A|}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.283em;vertical-align:-0.25em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.033em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">∣</span><span class="mord mathdefault">A</span><span class="mord">∣</span></span></span><span style="top:-3.319em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.25em;"><span></span></span></span></span></span></span></span></span>&lt;1时，灰狼靠近猎物，进行开发，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mrow><mi mathvariant="normal">∣</mi><mi>A</mi><mi mathvariant="normal">∣</mi></mrow><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{|A|}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.283em;vertical-align:-0.25em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.033em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">∣</span><span class="mord mathdefault">A</span><span class="mord">∣</span></span></span><span style="top:-3.319em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.25em;"><span></span></span></span></span></span></span></span></span>&gt;1时，灰狼远离猎物，进行勘探。在计算<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mi>D</mi><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{D}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9663299999999999em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.17994em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span></span></span></span>时，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mi>C</mi><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{C}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9663299999999999em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span></span></span></span>将随机强化或弱化目标对<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mi>X</mi><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{X}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9663299999999999em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663299999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.15216em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span></span></span></span>的影响。灰狼位置更新示意图如图3所示。</p><p><img src="/images/gwo_3.png" alt="" /></p><center style="font-size:14px;color:#C0C0C0;">图3：灰狼位置更新示意图，引用自论文《Grey Wolf Optimizer》</center><p>灰狼优化算法的伪代码如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">初始化灰狼种群 Xi (i&#x3D;1,2,…,n)</span><br><span class="line">初始化 a, A, C</span><br><span class="line">计算每个搜索单元的适应度</span><br><span class="line">Xα&#x3D;最优搜索单元</span><br><span class="line">Xβ&#x3D;第二优搜索单元</span><br><span class="line">Xδ&#x3D;第三优搜索单元</span><br><span class="line">while (t&lt;最大迭代次数)</span><br><span class="line">  for (每个搜索单元)</span><br><span class="line">    根据公式2.7更新当前搜索单元的位置</span><br><span class="line">  end for</span><br><span class="line">  更新a, A, C</span><br><span class="line">  计算所有搜索单元的适应度</span><br><span class="line">  更新Xα，Xβ，Xδ</span><br><span class="line">  t&#x3D;t+1</span><br><span class="line">end while</span><br><span class="line">return Xα</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;灰狼优化算法&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#灰狼优化算法&quot;&gt;&lt;/a&gt; 灰狼优化算法&lt;/h1&gt;
&lt;h2 id=&quot;灰狼群体&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#灰狼群体&quot;&gt;&lt;/a&gt; 灰狼</summary>
      
    
    
    
    <category term="理论知识" scheme="http://wzw21.cn/categories/%E7%90%86%E8%AE%BA%E7%9F%A5%E8%AF%86/"/>
    
    
    <category term="智能算法" scheme="http://wzw21.cn/tags/%E6%99%BA%E8%83%BD%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>非侵入式教务系统辅助选课方法</title>
    <link href="http://wzw21.cn/2021/10/30/get-courses/"/>
    <id>http://wzw21.cn/2021/10/30/get-courses/</id>
    <published>2021-10-30T06:59:30.000Z</published>
    <updated>2021-10-30T07:09:46.463Z</updated>
    
    <content type="html"><![CDATA[<p>注意：该方法仅可用于替代手动刷新页面并选择课程，不影响选课的公平性</p><ol><li>下载安装“按键精灵”</li><li>运行软件后，在新建脚本中选择新建空白脚本</li><li>进入脚本后选择上方“普通”旁边的“源文件”，并粘贴入如下内容。</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">d &#x3D; 30000</span><br><span class="line">MoveTo 1285,376</span><br><span class="line">LeftClick 1</span><br><span class="line">Delay 1000</span><br><span class="line">MoveTo 293,538</span><br><span class="line">LeftClick 1</span><br><span class="line">Delay 1000</span><br><span class="line">MoveTo 1756, 246</span><br><span class="line">LeftClick 1</span><br><span class="line">Delay d</span><br></pre></td></tr></table></figure><p>（注意三处MoveTo后的坐标分别为“查询”按钮、查询结果中第一项课程前的勾选框，“提交”按钮的坐标位置，不同电脑按钮坐标可能不同，可用软件里的“抓抓”功能获取各个按钮的坐标并进行修改）</p><ol start="4"><li>完成脚本后保存退出</li><li>按电脑键盘上相应热键可启动或停止脚本，热键可设置</li><li>使用时需先进入“自由选课”，并在搜索框中输入想选课程的全称，然后启动脚本</li><li>使用脚本时不能使用电脑做其他事</li><li>时间设置为30s抢一次，可更改</li><li>可按顺序加入更多勾选框坐标，以实现同一时间抢多门具有相同特征的课程（例如网课）</li></ol><p>— 2019年12月</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;注意：该方法仅可用于替代手动刷新页面并选择课程，不影响选课的公平性&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;下载安装“按键精灵”&lt;/li&gt;
&lt;li&gt;运行软件后，在新建脚本中选择新建空白脚本&lt;/li&gt;
&lt;li&gt;进入脚本后选择上方“普通”旁边的“源文件”，并粘贴入如下内容。&lt;/li&gt;
&lt;/o</summary>
      
    
    
    
    <category term="操作步骤与实践" scheme="http://wzw21.cn/categories/%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%AA%A4%E4%B8%8E%E5%AE%9E%E8%B7%B5/"/>
    
    
    <category term="自动" scheme="http://wzw21.cn/tags/%E8%87%AA%E5%8A%A8/"/>
    
  </entry>
  
  <entry>
    <title>使用Python读取和播放音频文件</title>
    <link href="http://wzw21.cn/2021/10/27/play-audio-in-python/"/>
    <id>http://wzw21.cn/2021/10/27/play-audio-in-python/</id>
    <published>2021-10-27T14:40:18.000Z</published>
    <updated>2021-10-27T15:42:06.514Z</updated>
    
    <content type="html"><![CDATA[<p>暂时记录两种方式，分别为使用“pydub+ffmpeg+simpleaudio”和“librosa+simpleaudio”，推荐第二种</p><h1 id="使用pydub库读取音频-simpleaudio库播放音频"><a class="markdownIt-Anchor" href="#使用pydub库读取音频-simpleaudio库播放音频"></a> 使用pydub库读取音频、simpleaudio库播放音频</h1><h2 id="环境配置"><a class="markdownIt-Anchor" href="#环境配置"></a> 环境配置</h2><p>Windows10环境下</p><ol><li><p>pip install pydub</p></li><li><p>pip install simpleaudio</p></li><li><p>安装ffmpeg<br />从https://www.gyan.dev/ffmpeg/builds/下载ffmpeg（压缩包），解压后将bin文件所在位置加入Path环境变量，并在相应程序中添加一行代码。具体操作参考以下三个链接：<br /><a href="https://blog.csdn.net/qq_38161040/article/details/91654183">https://blog.csdn.net/qq_38161040/article/details/91654183</a><br /><a href="https://cloud.tencent.com/developer/article/1702673">https://cloud.tencent.com/developer/article/1702673</a><br /><a href="https://www.freesion.com/article/6184901177/">https://www.freesion.com/article/6184901177/</a></p></li><li><p>注意该步骤不是用pip安装</p></li><li><p>重启计算机！（重要）</p></li></ol><h2 id="代码示例"><a class="markdownIt-Anchor" href="#代码示例"></a> 代码示例</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pydub <span class="keyword">import</span> AudioSegment</span><br><span class="line"><span class="keyword">import</span> simpleaudio</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">play_data_from_pydub</span>(<span class="params">audio_segment</span>):</span></span><br><span class="line">  player = simpleaudio.play_buffer(</span><br><span class="line">​    audio_segment.raw_data,</span><br><span class="line">​    num_channels=audio_segment.channels,</span><br><span class="line">​    bytes_per_sample=audio_segment.sample_width,</span><br><span class="line">​    sample_rate=audio_segment.frame_rate</span><br><span class="line">  )</span><br><span class="line">  <span class="keyword">try</span>:</span><br><span class="line">​    player.wait_done()</span><br><span class="line">  <span class="keyword">except</span> KeyboardInterrupt:</span><br><span class="line">​    player.stop()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    audio_path = <span class="string">r&#x27;audio\test.mp3&#x27;</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (audio_path[<span class="number">-3</span>:] == <span class="string">&#x27;wav&#x27;</span>): audio_seg = AudioSegment.from_file(audio_path, <span class="string">&#x27;wav&#x27;</span>)</span><br><span class="line">    <span class="keyword">elif</span> (audio_path[<span class="number">-3</span>:] == <span class="string">&#x27;mp3&#x27;</span>): audio_seg = AudioSegment.from_file(audio_path, <span class="string">&#x27;mp3&#x27;</span>)</span><br><span class="line">    play_data_from_pydub(audio_seg)</span><br></pre></td></tr></table></figure><h1 id="使用librosa库读取音频-simpleaudio库播放音频"><a class="markdownIt-Anchor" href="#使用librosa库读取音频-simpleaudio库播放音频"></a> 使用librosa库读取音频、simpleaudio库播放音频</h1><h2 id="环境配置-2"><a class="markdownIt-Anchor" href="#环境配置-2"></a> 环境配置</h2><p>Windows10环境下</p><ol><li>pip install librosa</li><li>pip install simpleaudio</li></ol><h2 id="代码示例-2"><a class="markdownIt-Anchor" href="#代码示例-2"></a> 代码示例</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> simpleaudio</span><br><span class="line"><span class="keyword">import</span> librosa</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">play_data_from_librosa</span>(<span class="params">y, sr</span>):</span></span><br><span class="line">    player = simpleaudio.play_buffer(</span><br><span class="line">        y,</span><br><span class="line">        num_channels=<span class="number">1</span>,</span><br><span class="line">        bytes_per_sample=<span class="number">4</span>,</span><br><span class="line">        sample_rate=sr</span><br><span class="line">    )</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        player.wait_done()</span><br><span class="line">    <span class="keyword">except</span> KeyboardInterrupt:</span><br><span class="line">        player.stop()</span><br><span class="line">        </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    audio_path = <span class="string">r&#x27;audio\test.mp3&#x27;</span></span><br><span class="line">    </span><br><span class="line">y, sr = librosa.load(audio_path)</span><br><span class="line">    play_data_from_librosa(y, sr)</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;暂时记录两种方式，分别为使用“pydub+ffmpeg+simpleaudio”和“librosa+simpleaudio”，推荐第二种&lt;/p&gt;
&lt;h1 id=&quot;使用pydub库读取音频-simpleaudio库播放音频&quot;&gt;&lt;a class=&quot;markdownIt-Anch</summary>
      
    
    
    
    <category term="操作步骤与实践" scheme="http://wzw21.cn/categories/%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%AA%A4%E4%B8%8E%E5%AE%9E%E8%B7%B5/"/>
    
    
    <category term="Python" scheme="http://wzw21.cn/tags/Python/"/>
    
    <category term="MIR" scheme="http://wzw21.cn/tags/MIR/"/>
    
  </entry>
  
  <entry>
    <title>Git使用方法</title>
    <link href="http://wzw21.cn/2021/10/17/git-use/"/>
    <id>http://wzw21.cn/2021/10/17/git-use/</id>
    <published>2021-10-17T15:19:08.000Z</published>
    <updated>2021-10-27T14:43:40.841Z</updated>
    
    <content type="html"><![CDATA[<p>将代码上传至Github的方法以及提升下载速度的方法</p><h1 id="向新建仓库首次上传代码"><a class="markdownIt-Anchor" href="#向新建仓库首次上传代码"></a> 向新建仓库首次上传代码</h1><h2 id="注意事项"><a class="markdownIt-Anchor" href="#注意事项"></a> 注意事项</h2><p>2020年10月1日起，github默认主分支从master更名为main</p><p>在使用git前应使用指令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global init.defaultBranch main</span><br></pre></td></tr></table></figure><p>将本地默认分支设置为main</p><h2 id="上传步骤"><a class="markdownIt-Anchor" href="#上传步骤"></a> 上传步骤</h2><p>在当前文件夹下初始化 git</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br></pre></td></tr></table></figure><p>将文件添加至缓存区，&quot;.&quot;代表文件夹下的全部内容（新建及修改过的文件）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git add . 或 git add 文件名</span><br></pre></td></tr></table></figure><p>将缓存区的内容提交到本地仓库，“xxx&quot;是此次提交内容的注释，例如&quot;First commit”</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -m <span class="string">&quot;xxx&quot;</span></span><br></pre></td></tr></table></figure><p>查看当前状态</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git status</span><br></pre></td></tr></table></figure><p>将本地仓库与远程仓库连接</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote add origin git@github.com:xxx/xxx.git</span><br></pre></td></tr></table></figure><p>如果远程仓库为空（不含README等初始文件），使用如下指令上传</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push -u origin main</span><br></pre></td></tr></table></figure><p>否则使用以下指令上传</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git pull --rebase origin main</span><br><span class="line">git push origin main </span><br></pre></td></tr></table></figure><h2 id="非首次上传"><a class="markdownIt-Anchor" href="#非首次上传"></a> 非首次上传</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br><span class="line"></span><br><span class="line">git commit -m <span class="string">&quot;xxx&quot;</span></span><br><span class="line"></span><br><span class="line">git push origin main</span><br></pre></td></tr></table></figure><h1 id="提升github下载速度的方法"><a class="markdownIt-Anchor" href="#提升github下载速度的方法"></a> 提升Github下载速度的方法</h1><h2 id="手动绑定cdn域名与ip地址"><a class="markdownIt-Anchor" href="#手动绑定cdn域名与ip地址"></a> 手动绑定CDN域名与IP地址</h2><ol><li>访问 <a href="http://github.global.ssl.fastly.net.ipaddress.com/#ipinfo">http://github.global.ssl.fastly.net.ipaddress.com/#ipinfo</a><br />获取ip地址1 <a href="http://xxx.xxx.xxx.xxx">xxx.xxx.xxx.xxx</a></li><li>访问 <a href="http://github.com.ipaddress.com/#ipinfo">http://github.com.ipaddress.com/#ipinfo</a><br />获取ip地址2 yyy.yyy.yyy.yyy</li><li>在C:\Windows\System32\drivers\etc\hosts 文件末尾添加以下两行<br /><a href="http://xxx.xxx.xxx.xxx">xxx.xxx.xxx.xxx</a> <a href="http://github.global.ssl.fastly.net">http://github.global.ssl.fastly.net</a><br />yyy.yyy.yyy.yyy <a href="http://github.com">http://github.com</a></li><li>最后打开CMD<br />输入ipconfig /flushdns 刷新DNS即可</li></ol><h2 id="clone至码云下载"><a class="markdownIt-Anchor" href="#clone至码云下载"></a> Clone至码云下载</h2><h1 id="学习git的使用"><a class="markdownIt-Anchor" href="#学习git的使用"></a> 学习git的使用</h1><p><a href="https://learngitbranching.js.org/?NODEMO=&amp;locale=zh_CN">https://learngitbranching.js.org/?NODEMO=&amp;locale=zh_CN</a></p><p>在左边终端中输入levels即可进行关卡选择</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;将代码上传至Github的方法以及提升下载速度的方法&lt;/p&gt;
&lt;h1 id=&quot;向新建仓库首次上传代码&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#向新建仓库首次上传代码&quot;&gt;&lt;/a&gt; 向新建仓库首次上传代码&lt;/h1&gt;
&lt;h2 id=&quot;注意事项&quot;&gt;</summary>
      
    
    
    
    <category term="操作步骤与实践" scheme="http://wzw21.cn/categories/%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%AA%A4%E4%B8%8E%E5%AE%9E%E8%B7%B5/"/>
    
    
    <category term="Github" scheme="http://wzw21.cn/tags/Github/"/>
    
  </entry>
  
</feed>
